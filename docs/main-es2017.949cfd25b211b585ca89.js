(self.webpackChunkappinventario_frontend=self.webpackChunkappinventario_frontend||[]).push([[179],{8255:function(t){function e(t){return Promise.resolve().then(function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e})}e.keys=function(){return[]},e.resolve=e,e.id=8255,t.exports=e},3018:function(t,e,n){"use strict";n.d(e,{deG:function(){return rn},tb:function(){return Fu},AFp:function(){return Nu},ip1:function(){return xu},CZH:function(){return Ou},hGG:function(){return xc},z2F:function(){return _c},sBO:function(){return Ra},Sil:function(){return Gu},_Vd:function(){return ra},EJc:function(){return Uu},SBq:function(){return aa},qLn:function(){return Ir},vpe:function(){return lu},gxx:function(){return ls},tBr:function(){return Cn},XFs:function(){return D},OlP:function(){return nn},zs3:function(){return Is},ZZ4:function(){return Aa},aQg:function(){return ka},soG:function(){return Mu},YKP:function(){return Ba},v3s:function(){return wc},h0i:function(){return ja},PXZ:function(){return pc},R0b:function(){return Qu},FiY:function(){return kn},Lbi:function(){return Lu},g9A:function(){return Pu},Qsj:function(){return la},FYo:function(){return ca},JOm:function(){return kr},Tiy:function(){return da},q3G:function(){return mr},tp0:function(){return xn},EAV:function(){return Sc},Rgc:function(){return Ma},dDg:function(){return rc},DyG:function(){return sn},q4F:function(){return pa},GfV:function(){return fa},s_b:function(){return za},ifc:function(){return M},eFA:function(){return gc},G48:function(){return hc},Gpc:function(){return g},X6Q:function(){return lc},_c5:function(){return Cc},VLi:function(){return oc},c2e:function(){return Zu},zSh:function(){return ds},wAp:function(){return jo},vHH:function(){return v},EiD:function(){return pr},mCW:function(){return Jn},qzn:function(){return Vn},JVY:function(){return Bn},pB0:function(){return Gn},eBb:function(){return zn},L6k:function(){return $n},LAX:function(){return Hn},cg1:function(){return Uo},Tjo:function(){return Ac},kL8:function(){return qo},yhl:function(){return jn},dqk:function(){return j},sIi:function(){return Ls},CqO:function(){return eo},QGY:function(){return Xs},F4k:function(){return to},RDi:function(){return At},AaK:function(){return d},z3N:function(){return qn},qOj:function(){return Cs},TTD:function(){return _t},_Bn:function(){return Xo},xp6:function(){return fi},uIk:function(){return Us},Tol:function(){return yo},ekj:function(){return mo},Suo:function(){return Su},Xpm:function(){return X},lG2:function(){return ot},Yz7:function(){return E},cJS:function(){return S},oAB:function(){return rt},Yjl:function(){return at},Y36:function(){return $s},_UZ:function(){return Ws},BQk:function(){return Ys},ynx:function(){return Qs},qZA:function(){return Ks},TgZ:function(){return Gs},EpF:function(){return Js},n5z:function(){return Ye},Ikx:function(){return Po},LFG:function(){return Tn},$8M:function(){return Xe},NdJ:function(){return no},CRH:function(){return Iu},oxw:function(){return so},ALo:function(){return au},lcZ:function(){return uu},Q6J:function(){return zs},s9C:function(){return oo},iGM:function(){return Tu},CHM:function(){return $t},oJD:function(){return yr},LSH:function(){return vr},kYT:function(){return it},Udp:function(){return go},d8E:function(){return Lo},YNc:function(){return Bs},_uU:function(){return ko},Oqu:function(){return xo},hij:function(){return Oo},AsE:function(){return No},lnq:function(){return Do},HOy:function(){return Ro},Gf:function(){return Eu}});var r=n(9765),i=n(5319),s=n(7574),o=n(6682),a=n(2441);var u=n(1307);function c(){return new r.xQ}function l(t){for(let e in t)if(t[e]===l)return e;throw Error("Could not find renamed property on target object.")}function h(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function d(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(d).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function f(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const p=l({__forward_ref__:l});function g(t){return t.__forward_ref__=g,t.toString=function(){return d(this())},t}function m(t){return y(t)?t():t}function y(t){return"function"==typeof t&&t.hasOwnProperty(p)&&t.__forward_ref__===g}class v extends Error{constructor(t,e){super(function(t,e){return`${t?`NG0${t}: `:""}${e}`}(t,e)),this.code=t}}function _(t){return"string"==typeof t?t:null==t?"":String(t)}function b(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():_(t)}function w(t,e){const n=e?` in ${e}`:"";throw new v("201",`No provider for ${b(t)} found${n}`)}function T(t,e){null==t&&function(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function E(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function S(t){return{providers:t.providers||[],imports:t.imports||[]}}function I(t){return A(t,k)||A(t,O)}function A(t,e){return t.hasOwnProperty(e)?t[e]:null}function C(t){return t&&(t.hasOwnProperty(x)||t.hasOwnProperty(N))?t[x]:null}const k=l({"\u0275prov":l}),x=l({"\u0275inj":l}),O=l({ngInjectableDef:l}),N=l({ngInjectorDef:l});var D=(()=>((D=D||{})[D.Default=0]="Default",D[D.Host=1]="Host",D[D.Self=2]="Self",D[D.SkipSelf=4]="SkipSelf",D[D.Optional=8]="Optional",D))();let R;function P(t){const e=R;return R=t,e}function L(t,e,n){const r=I(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&D.Optional?null:void 0!==e?e:void w(d(t),"Injector")}function F(t){return{toString:t}.toString()}var Z=(()=>((Z=Z||{})[Z.OnPush=0]="OnPush",Z[Z.Default=1]="Default",Z))(),M=(()=>((M=M||{})[M.Emulated=0]="Emulated",M[M.None=2]="None",M[M.ShadowDom=3]="ShadowDom",M))();const U="undefined"!=typeof globalThis&&globalThis,q="undefined"!=typeof window&&window,V="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,j=U||"undefined"!=typeof global&&global||q||V,B={},$=[],z=l({"\u0275cmp":l}),H=l({"\u0275dir":l}),G=l({"\u0275pipe":l}),K=l({"\u0275mod":l}),W=l({"\u0275loc":l}),Q=l({"\u0275fac":l}),Y=l({__NG_ELEMENT_ID__:l});let J=0;function X(t){return F(()=>{const e={},n={type:t.type,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputs:null,outputs:null,exportAs:t.exportAs||null,onPush:t.changeDetection===Z.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||$,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||M.Emulated,id:"c",styles:t.styles||$,_:null,setInput:null,schemas:t.schemas||null,tView:null},r=t.directives,i=t.features,s=t.pipes;return n.id+=J++,n.inputs=st(t.inputs,e),n.outputs=st(t.outputs),i&&i.forEach(t=>t(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(tt):null,n.pipeDefs=s?()=>("function"==typeof s?s():s).map(et):null,n})}function tt(t){return ut(t)||function(t){return t[H]||null}(t)}function et(t){return function(t){return t[G]||null}(t)}const nt={};function rt(t){return F(()=>{const e={type:t.type,bootstrap:t.bootstrap||$,declarations:t.declarations||$,imports:t.imports||$,exports:t.exports||$,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&(nt[t.id]=t.type),e})}function it(t,e){return F(()=>{const n=ct(t,!0);n.declarations=e.declarations||$,n.imports=e.imports||$,n.exports=e.exports||$})}function st(t,e){if(null==t)return B;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}const ot=X;function at(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,onDestroy:t.type.prototype.ngOnDestroy||null}}function ut(t){return t[z]||null}function ct(t,e){const n=t[K]||null;if(!n&&!0===e)throw new Error(`Type ${d(t)} does not have '\u0275mod' property.`);return n}function lt(t){return Array.isArray(t)&&"object"==typeof t[1]}function ht(t){return Array.isArray(t)&&!0===t[1]}function dt(t){return 0!=(8&t.flags)}function ft(t){return 2==(2&t.flags)}function pt(t){return 1==(1&t.flags)}function gt(t){return null!==t.template}function mt(t){return 0!=(512&t[2])}function yt(t,e){return t.hasOwnProperty(Q)?t[Q]:null}class vt{constructor(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function _t(){return bt}function bt(t){return t.type.prototype.ngOnChanges&&(t.setInput=Tt),wt}function wt(){const t=St(this),e=null==t?void 0:t.current;if(e){const n=t.previous;if(n===B)t.previous=e;else for(let t in e)n[t]=e[t];t.current=null,this.ngOnChanges(e)}}function Tt(t,e,n,r){const i=St(t)||function(t,e){return t[Et]=e}(t,{previous:B,current:null}),s=i.current||(i.current={}),o=i.previous,a=this.declaredInputs[n],u=o[a];s[a]=new vt(u&&u.currentValue,e,o===B),t[r]=e}_t.ngInherit=!0;const Et="__ngSimpleChanges__";function St(t){return t[Et]||null}let It;function At(t){It=t}function Ct(){return void 0!==It?It:"undefined"!=typeof document?document:void 0}function kt(t){return!!t.listen}const xt={createRenderer:(t,e)=>Ct()};function Ot(t){for(;Array.isArray(t);)t=t[0];return t}function Nt(t,e){return Ot(e[t])}function Dt(t,e){return Ot(e[t.index])}function Rt(t,e){return t.data[e]}function Pt(t,e){const n=e[t];return lt(n)?n:n[0]}function Lt(t){return 4==(4&t[2])}function Ft(t){return 128==(128&t[2])}function Zt(t,e){return null==e?null:t[e]}function Mt(t){t[18]=0}function Ut(t,e){t[5]+=e;let n=t,r=t[3];for(;null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}const qt={lFrame:le(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Vt(){return qt.bindingsEnabled}function jt(){return qt.lFrame.lView}function Bt(){return qt.lFrame.tView}function $t(t){return qt.lFrame.contextLView=t,t[8]}function zt(){let t=Ht();for(;null!==t&&64===t.type;)t=t.parent;return t}function Ht(){return qt.lFrame.currentTNode}function Gt(t,e){const n=qt.lFrame;n.currentTNode=t,n.isParent=e}function Kt(){return qt.lFrame.isParent}function Wt(){qt.lFrame.isParent=!1}function Qt(){return qt.isInCheckNoChangesMode}function Yt(t){qt.isInCheckNoChangesMode=t}function Jt(){return qt.lFrame.bindingIndex}function Xt(){return qt.lFrame.bindingIndex++}function te(t){const e=qt.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function ee(t,e){const n=qt.lFrame;n.bindingIndex=n.bindingRootIndex=t,ne(e)}function ne(t){qt.lFrame.currentDirectiveIndex=t}function re(t){const e=qt.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}function ie(){return qt.lFrame.currentQueryIndex}function se(t){qt.lFrame.currentQueryIndex=t}function oe(t){const e=t[1];return 2===e.type?e.declTNode:1===e.type?t[6]:null}function ae(t,e,n){if(n&D.SkipSelf){let r=e,i=t;for(;!(r=r.parent,null!==r||n&D.Host||(r=oe(i),null===r||(i=i[15],10&r.type))););if(null===r)return!1;e=r,t=i}const r=qt.lFrame=ce();return r.currentTNode=e,r.lView=t,!0}function ue(t){const e=ce(),n=t[1];qt.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function ce(){const t=qt.lFrame,e=null===t?null:t.child;return null===e?le(t):e}function le(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function he(){const t=qt.lFrame;return qt.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const de=he;function fe(){const t=he();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function pe(){return qt.lFrame.selectedIndex}function ge(t){qt.lFrame.selectedIndex=t}function me(){const t=qt.lFrame;return Rt(t.tView,t.selectedIndex)}function ye(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const e=t.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:s,ngAfterViewChecked:o,ngOnDestroy:a}=e;r&&(t.contentHooks||(t.contentHooks=[])).push(-n,r),i&&((t.contentHooks||(t.contentHooks=[])).push(n,i),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i)),s&&(t.viewHooks||(t.viewHooks=[])).push(-n,s),o&&((t.viewHooks||(t.viewHooks=[])).push(n,o),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,o)),null!=a&&(t.destroyHooks||(t.destroyHooks=[])).push(n,a)}}function ve(t,e,n){we(t,e,3,n)}function _e(t,e,n,r){(3&t[2])===n&&we(t,e,n,r)}function be(t,e){let n=t[2];(3&n)===e&&(n&=2047,n+=1,t[2]=n)}function we(t,e,n,r){const i=null!=r?r:-1,s=e.length-1;let o=0;for(let a=void 0!==r?65535&t[18]:0;a<s;a++)if("number"==typeof e[a+1]){if(o=e[a],null!=r&&o>=r)break}else e[a]<0&&(t[18]+=65536),(o<i||-1==i)&&(Te(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function Te(t,e,n,r){const i=n[r]<0,s=n[r+1],o=t[i?-n[r]:n[r]];if(i){if(t[2]>>11<t[18]>>16&&(3&t[2])===e){t[2]+=2048;try{s.call(o)}finally{}}}else try{s.call(o)}finally{}}class Ee{constructor(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function Se(t,e,n){const r=kt(t);let i=0;for(;i<n.length;){const s=n[i];if("number"==typeof s){if(0!==s)break;i++;const o=n[i++],a=n[i++],u=n[i++];r?t.setAttribute(e,a,u,o):e.setAttributeNS(o,a,u)}else{const o=s,a=n[++i];Ae(o)?r&&t.setProperty(e,o,a):r?t.setAttribute(e,o,a):e.setAttribute(o,a),i++}}return i}function Ie(t){return 3===t||4===t||6===t}function Ae(t){return 64===t.charCodeAt(0)}function Ce(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||ke(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function ke(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const n=t[s++];if("number"==typeof n){if(n===e){o=-1;break}if(n>e){o=s-1;break}}}for(;s<t.length;){const e=t[s];if("number"==typeof e)break;if(e===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}function xe(t){return-1!==t}function Oe(t){return 32767&t}function Ne(t,e){let n=function(t){return t>>16}(t),r=e;for(;n>0;)r=r[15],n--;return r}let De=!0;function Re(t){const e=De;return De=t,e}let Pe=0;function Le(t,e){const n=Ze(t,e);if(-1!==n)return n;const r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Fe(r.data,t),Fe(e,null),Fe(r.blueprint,null));const i=Me(t,e),s=t.injectorIndex;if(xe(i)){const t=Oe(i),n=Ne(i,e),r=n[1].data;for(let i=0;i<8;i++)e[s+i]=n[t+i]|r[t+i]}return e[s+8]=i,s}function Fe(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Ze(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Me(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){const t=i[1],e=t.type;if(r=2===e?t.declTNode:1===e?i[6]:null,null===r)return-1;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return-1}function Ue(t,e,n){!function(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Y)&&(r=n[Y]),null==r&&(r=n[Y]=Pe++);const i=255&r;e.data[t+(i>>5)]|=1<<i}(t,e,n)}function qe(t,e,n){if(n&D.Optional)return t;w(e,"NodeInjector")}function Ve(t,e,n,r){if(n&D.Optional&&void 0===r&&(r=null),0==(n&(D.Self|D.Host))){const i=t[9],s=P(void 0);try{return i?i.get(e,r,n&D.Optional):L(e,r,n&D.Optional)}finally{P(s)}}return qe(r,e,n)}function je(t,e,n,r=D.Default,i){if(null!==t){const s=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Y)?t[Y]:void 0;return"number"==typeof e?e>=0?255&e:$e:e}(n);if("function"==typeof s){if(!ae(e,t,r))return r&D.Host?qe(i,n,r):Ve(e,n,r,i);try{const t=s(r);if(null!=t||r&D.Optional)return t;w(n)}finally{de()}}else if("number"==typeof s){let i=null,o=Ze(t,e),a=-1,u=r&D.Host?e[16][6]:null;for((-1===o||r&D.SkipSelf)&&(a=-1===o?Me(t,e):e[o+8],-1!==a&&We(r,!1)?(i=e[1],o=Oe(a),e=Ne(a,e)):o=-1);-1!==o;){const t=e[1];if(Ke(s,o,t.data)){const t=ze(o,e,n,i,r,u);if(t!==Be)return t}a=e[o+8],-1!==a&&We(r,e[1].data[o+8]===u)&&Ke(s,o,e)?(i=t,o=Oe(a),e=Ne(a,e)):o=-1}}}return Ve(e,n,r,i)}const Be={};function $e(){return new Qe(zt(),jt())}function ze(t,e,n,r,i,s){const o=e[1],a=o.data[t+8],u=He(a,o,n,null==r?ft(a)&&De:r!=o&&0!=(3&a.type),i&D.Host&&s===a);return null!==u?Ge(e,o,u,a):Be}function He(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,u=t.directiveStart,c=s>>20,l=i?a+c:t.directiveEnd;for(let h=r?a:a+c;h<l;h++){const t=o[h];if(h<u&&n===t||h>=u&&t.type===n)return h}if(i){const t=o[u];if(t&&gt(t)&&t.type===n)return u}return null}function Ge(t,e,n,r){let i=t[n];const s=e.data;if(function(t){return t instanceof Ee}(i)){const o=i;o.resolving&&function(t,e){throw new v("200",`Circular dependency in DI detected for ${t}`)}(b(s[n]));const a=Re(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?P(o.injectImpl):null;ae(t,r,D.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const r=bt(e);(n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-t,i),s&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,s),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,s))}(n,s[n],e)}finally{null!==u&&P(u),Re(a),o.resolving=!1,de()}}return i}function Ke(t,e,n){return!!(n[e+(t>>5)]&1<<t)}function We(t,e){return!(t&D.Self||t&D.Host&&e)}class Qe{constructor(t,e){this._tNode=t,this._lView=e}get(t,e){return je(this._tNode,this._lView,t,void 0,e)}}function Ye(t){return F(()=>{const e=t.prototype.constructor,n=e[Q]||Je(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const t=i[Q]||Je(i);if(t&&t!==n)return t;i=Object.getPrototypeOf(i)}return t=>new t})}function Je(t){return y(t)?()=>{const e=Je(m(t));return e&&e()}:yt(t)}function Xe(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const t=n.length;let r=0;for(;r<t;){const i=n[r];if(Ie(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<t&&"string"==typeof n[r];)r++;else{if(i===e)return n[r+1];r+=2}}}return null}(zt(),t)}const tn="__parameters__";function en(t,e,n){return F(()=>{const r=function(t){return function(...e){if(t){const n=t(...e);for(const t in n)this[t]=n[t]}}}(e);function i(...t){if(this instanceof i)return r.apply(this,t),this;const e=new i(...t);return n.annotation=e,n;function n(t,n,r){const i=t.hasOwnProperty(tn)?t[tn]:Object.defineProperty(t,tn,{value:[]})[tn];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(e),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}class nn{constructor(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=E({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}toString(){return`InjectionToken ${this._desc}`}}const rn=new nn("AnalyzeForEntryComponents"),sn=Function;function on(t,e){void 0===e&&(e=t);for(let n=0;n<t.length;n++){let r=t[n];Array.isArray(r)?(e===t&&(e=t.slice(0,n)),on(r,e)):e!==t&&e.push(r)}return e}function an(t,e){t.forEach(t=>Array.isArray(t)?an(t,e):e(t))}function un(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function cn(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function ln(t,e,n){let r=dn(t,e);return r>=0?t[1|r]=n:(r=~r,function(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function hn(t,e){const n=dn(t,e);if(n>=0)return t[1|n]}function dn(t,e){return function(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const fn={},pn="__NG_DI_FLAG__",gn="ngTempTokenPath",mn=/\n/gm,yn="__source",vn=l({provide:String,useValue:l});let _n;function bn(t){const e=_n;return _n=t,e}function wn(t,e=D.Default){if(void 0===_n)throw new Error("inject() must be called from an injection context");return null===_n?L(t,void 0,e):_n.get(t,e&D.Optional?null:void 0,e)}function Tn(t,e=D.Default){return(R||wn)(m(t),e)}function En(t){const e=[];for(let n=0;n<t.length;n++){const r=m(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let t,n=D.Default;for(let e=0;e<r.length;e++){const i=r[e],s=In(i);"number"==typeof s?-1===s?t=i.token:n|=s:t=i}e.push(Tn(t,n))}else e.push(Tn(r))}return e}function Sn(t,e){return t[pn]=e,t.prototype[pn]=e,t}function In(t){return t[pn]}function An(t,e,n,r){const i=t[gn];throw e[yn]&&i.unshift(e[yn]),t.message=function(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;let i=d(e);if(Array.isArray(e))i=e.map(d).join(" -> ");else if("object"==typeof e){let t=[];for(let n in e)if(e.hasOwnProperty(n)){let r=e[n];t.push(n+":"+("string"==typeof r?JSON.stringify(r):d(r)))}i=`{${t.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(mn,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[gn]=null,t}const Cn=Sn(en("Inject",t=>({token:t})),-1),kn=Sn(en("Optional"),8),xn=Sn(en("SkipSelf"),4);let On,Nn;function Dn(t){var e;return(null===(e=function(){if(void 0===On&&(On=null,j.trustedTypes))try{On=j.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return On}())||void 0===e?void 0:e.createHTML(t))||t}function Rn(t){var e;return(null===(e=function(){if(void 0===Nn&&(Nn=null,j.trustedTypes))try{Nn=j.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch(t){}return Nn}())||void 0===e?void 0:e.createHTML(t))||t}class Pn{constructor(t){this.changingThisBreaksApplicationSecurity=t}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Ln extends Pn{getTypeName(){return"HTML"}}class Fn extends Pn{getTypeName(){return"Style"}}class Zn extends Pn{getTypeName(){return"Script"}}class Mn extends Pn{getTypeName(){return"URL"}}class Un extends Pn{getTypeName(){return"ResourceURL"}}function qn(t){return t instanceof Pn?t.changingThisBreaksApplicationSecurity:t}function Vn(t,e){const n=jn(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===e}function jn(t){return t instanceof Pn&&t.getTypeName()||null}function Bn(t){return new Ln(t)}function $n(t){return new Fn(t)}function zn(t){return new Zn(t)}function Hn(t){return new Mn(t)}function Gn(t){return new Un(t)}class Kn{constructor(t){this.inertDocumentHelper=t}getInertBodyElement(t){t="<body><remove></remove>"+t;try{const e=(new window.DOMParser).parseFromString(Dn(t),"text/html").body;return null===e?this.inertDocumentHelper.getInertBodyElement(t):(e.removeChild(e.firstChild),e)}catch(e){return null}}}class Wn{constructor(t){if(this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const t=this.inertDocument.createElement("html");this.inertDocument.appendChild(t);const e=this.inertDocument.createElement("body");t.appendChild(e)}}getInertBodyElement(t){const e=this.inertDocument.createElement("template");if("content"in e)return e.innerHTML=Dn(t),e;const n=this.inertDocument.createElement("body");return n.innerHTML=Dn(t),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(t){const e=t.attributes;for(let r=e.length-1;0<r;r--){const n=e.item(r).name;("xmlns:ns1"===n||0===n.indexOf("ns1:"))&&t.removeAttribute(n)}let n=t.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Qn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Yn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Jn(t){return(t=String(t)).match(Qn)||t.match(Yn)?t:"unsafe:"+t}function Xn(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function tr(...t){const e={};for(const n of t)for(const t in n)n.hasOwnProperty(t)&&(e[t]=!0);return e}const er=Xn("area,br,col,hr,img,wbr"),nr=Xn("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),rr=Xn("rp,rt"),ir=tr(er,tr(nr,Xn("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),tr(rr,Xn("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),tr(rr,nr)),sr=Xn("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),or=Xn("srcset"),ar=tr(sr,or,Xn("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Xn("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),ur=Xn("script,style,template");class cr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(t){let e=t.firstChild,n=!0;for(;e;)if(e.nodeType===Node.ELEMENT_NODE?n=this.startElement(e):e.nodeType===Node.TEXT_NODE?this.chars(e.nodeValue):this.sanitizedSomething=!0,n&&e.firstChild)e=e.firstChild;else for(;e;){e.nodeType===Node.ELEMENT_NODE&&this.endElement(e);let t=this.checkClobberedElement(e,e.nextSibling);if(t){e=t;break}e=this.checkClobberedElement(e,e.parentNode)}return this.buf.join("")}startElement(t){const e=t.nodeName.toLowerCase();if(!ir.hasOwnProperty(e))return this.sanitizedSomething=!0,!ur.hasOwnProperty(e);this.buf.push("<"),this.buf.push(e);const n=t.attributes;for(let i=0;i<n.length;i++){const t=n.item(i),e=t.name,s=e.toLowerCase();if(!ar.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let o=t.value;sr[s]&&(o=Jn(o)),or[s]&&(r=o,o=(r=String(r)).split(",").map(t=>Jn(t.trim())).join(", ")),this.buf.push(" ",e,'="',dr(o),'"')}var r;return this.buf.push(">"),!0}endElement(t){const e=t.nodeName.toLowerCase();ir.hasOwnProperty(e)&&!er.hasOwnProperty(e)&&(this.buf.push("</"),this.buf.push(e),this.buf.push(">"))}chars(t){this.buf.push(dr(t))}checkClobberedElement(t,e){if(e&&(t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${t.outerHTML}`);return e}}const lr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,hr=/([^\#-~ |!])/g;function dr(t){return t.replace(/&/g,"&amp;").replace(lr,function(t){return"&#"+(1024*(t.charCodeAt(0)-55296)+(t.charCodeAt(1)-56320)+65536)+";"}).replace(hr,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let fr;function pr(t,e){let n=null;try{fr=fr||function(t){const e=new Wn(t);return function(){try{return!!(new window.DOMParser).parseFromString(Dn(""),"text/html")}catch(t){return!1}}()?new Kn(e):e}(t);let r=e?String(e):"";n=fr.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=fr.getInertBodyElement(r)}while(r!==s);return Dn((new cr).sanitizeChildren(gr(n)||n))}finally{if(n){const t=gr(n)||n;for(;t.firstChild;)t.removeChild(t.firstChild)}}}function gr(t){return"content"in t&&function(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var mr=(()=>((mr=mr||{})[mr.NONE=0]="NONE",mr[mr.HTML=1]="HTML",mr[mr.STYLE=2]="STYLE",mr[mr.SCRIPT=3]="SCRIPT",mr[mr.URL=4]="URL",mr[mr.RESOURCE_URL=5]="RESOURCE_URL",mr))();function yr(t){const e=_r();return e?Rn(e.sanitize(mr.HTML,t)||""):Vn(t,"HTML")?Rn(qn(t)):pr(Ct(),_(t))}function vr(t){const e=_r();return e?e.sanitize(mr.URL,t)||"":Vn(t,"URL")?qn(t):Jn(_(t))}function _r(){const t=jt();return t&&t[12]}const br="__ngContext__";function wr(t,e){t[br]=e}function Tr(t){const e=function(t){return t[br]||null}(t);return e?Array.isArray(e)?e:e.lView:null}function Er(t){return t.ngOriginalError}function Sr(t,...e){t.error(...e)}class Ir{constructor(){this._console=console}handleError(t){const e=this._findOriginalError(t),n=this._findContext(t),r=(i=t)&&i.ngErrorLogger||Sr;var i;r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(t){return t?t.ngDebugContext||this._findContext(Er(t)):null}_findOriginalError(t){let e=t&&Er(t);for(;e&&Er(e);)e=Er(e);return e||null}}const Ar=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(j))();function Cr(t){return t instanceof Function?t():t}var kr=(()=>((kr=kr||{})[kr.Important=1]="Important",kr[kr.DashCase=2]="DashCase",kr))();function xr(t,e){return undefined(t,e)}function Or(t){const e=t[3];return ht(e)?e[3]:e}function Nr(t){return Rr(t[13])}function Dr(t){return Rr(t[4])}function Rr(t){for(;null!==t&&!ht(t);)t=t[4];return t}function Pr(t,e,n,r,i){if(null!=r){let s,o=!1;ht(r)?s=r:lt(r)&&(o=!0,r=r[0]);const a=Ot(r);0===t&&null!==n?null==i?jr(e,n,a):Vr(e,n,a,i||null,!0):1===t&&null!==n?Vr(e,n,a,i||null,!0):2===t?function(t,e,n){const r=$r(t,e);r&&function(t,e,n,r){kt(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function(t,e,n,r,i){const s=n[7];s!==Ot(n)&&Pr(e,t,r,s,i);for(let o=10;o<n.length;o++){const i=n[o];Yr(i[1],i,t,e,r,s)}}(e,t,s,n,i)}}function Lr(t,e,n){return kt(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Fr(t,e){const n=t[9],r=n.indexOf(e),i=e[3];1024&e[2]&&(e[2]&=-1025,Ut(i,-1)),n.splice(r,1)}function Zr(t,e){if(t.length<=10)return;const n=10+e,r=t[n];if(r){const i=r[17];null!==i&&i!==t&&Fr(i,r),e>0&&(t[n-1][4]=r[4]);const s=cn(t,10+e);!function(t,e){Yr(t,e,e[11],2,null,null),e[0]=null,e[6]=null}(r[1],r);const o=s[19];null!==o&&o.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}function Mr(t,e){if(!(256&e[2])){const n=e[11];kt(n)&&n.destroyNode&&Yr(t,e,n,3,null,null),function(t){let e=t[13];if(!e)return Ur(t[1],t);for(;e;){let n=null;if(lt(e))n=e[13];else{const t=e[10];t&&(n=t)}if(!n){for(;e&&!e[4]&&e!==t;)lt(e)&&Ur(e[1],e),e=e[3];null===e&&(e=t),lt(e)&&Ur(e[1],e),n=e&&e[4]}e=n}}(e)}}function Ur(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const t=e[n[r]];if(!(t instanceof Ee)){const e=n[r+1];if(Array.isArray(e))for(let n=0;n<e.length;n+=2){const r=t[e[n]],i=e[n+1];try{i.call(r)}finally{}}else try{e.call(t)}finally{}}}}(t,e),function(t,e){const n=t.cleanup,r=e[7];let i=-1;if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const t=n[s+1],o="function"==typeof t?t(e):Ot(e[t]),a=r[i=n[s+2]],u=n[s+3];"boolean"==typeof u?o.removeEventListener(n[s],a,u):u>=0?r[i=u]():r[i=-u].unsubscribe(),s+=2}else{const t=r[i=n[s+1]];n[s].call(t)}if(null!==r){for(let t=i+1;t<r.length;t++)r[t]();e[7]=null}}(t,e),1===e[1].type&&kt(e[11])&&e[11].destroy();const n=e[17];if(null!==n&&ht(e[3])){n!==e[3]&&Fr(n,e);const r=e[19];null!==r&&r.detachView(t)}}}function qr(t,e,n){return function(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[0];if(2&r.flags){const e=t.data[r.directiveStart].encapsulation;if(e===M.None||e===M.Emulated)return null}return Dt(r,n)}(t,e.parent,n)}function Vr(t,e,n,r,i){kt(t)?t.insertBefore(e,n,r,i):e.insertBefore(n,r,i)}function jr(t,e,n){kt(t)?t.appendChild(e,n):e.appendChild(n)}function Br(t,e,n,r,i){null!==r?Vr(t,e,n,r,i):jr(t,e,n)}function $r(t,e){return kt(t)?t.parentNode(e):e.parentNode}let zr=function(t,e,n){return 40&t.type?Dt(t,n):null};function Hr(t,e,n,r){const i=qr(t,r,e),s=e[11],o=function(t,e,n){return zr(t,e,n)}(r.parent||e[6],r,e);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)Br(s,i,n[a],o,!1);else Br(s,i,n,o,!1)}function Gr(t,e){if(null!==e){const n=e.type;if(3&n)return Dt(e,t);if(4&n)return Wr(-1,t[e.index]);if(8&n){const n=e.child;if(null!==n)return Gr(t,n);{const n=t[e.index];return ht(n)?Wr(-1,n):Ot(n)}}if(32&n)return xr(e,t)()||Ot(t[e.index]);{const n=Kr(t,e);return null!==n?Array.isArray(n)?n[0]:Gr(Or(t[16]),n):Gr(t,e.next)}}return null}function Kr(t,e){return null!==e?t[16][6].projection[e.projection]:null}function Wr(t,e){const n=10+t+1;if(n<e.length){const t=e[n],r=t[1].firstChild;if(null!==r)return Gr(t,r)}return e[7]}function Qr(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],u=n.type;if(o&&0===e&&(a&&wr(Ot(a),r),n.flags|=4),64!=(64&n.flags))if(8&u)Qr(t,e,n.child,r,i,s,!1),Pr(e,t,i,a,s);else if(32&u){const o=xr(n,r);let u;for(;u=o();)Pr(e,t,i,u,s);Pr(e,t,i,a,s)}else 16&u?Jr(t,e,r,n,i,s):Pr(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Yr(t,e,n,r,i,s){Qr(n,r,t.firstChild,e,i,s,!1)}function Jr(t,e,n,r,i,s){const o=n[16],a=o[6].projection[r.projection];if(Array.isArray(a))for(let u=0;u<a.length;u++)Pr(e,t,i,a[u],s);else Qr(t,e,a,o[3],i,s,!0)}function Xr(t,e,n){kt(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function ti(t,e,n){kt(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}function ei(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const n=e.length;if(i+n===r||t.charCodeAt(i+n)<=32)return i}n=i+1}}const ni="ng-template";function ri(t,e,n){let r=0;for(;r<t.length;){let i=t[r++];if(n&&"class"===i){if(i=t[r],-1!==ei(i.toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function ii(t){return 4===t.type&&t.value!==ni}function si(t,e,n){return e===(4!==t.type||n?t.value:ni)}function oi(t,e,n){let r=4;const i=t.attrs||[],s=function(t){for(let e=0;e<t.length;e++)if(Ie(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const u=e[a];if("number"!=typeof u){if(!o)if(4&r){if(r=2|1&r,""!==u&&!si(t,u,n)||""===u&&1===e.length){if(ai(r))return!1;o=!0}}else{const c=8&r?u:e[++a];if(8&r&&null!==t.attrs){if(!ri(t.attrs,c,n)){if(ai(r))return!1;o=!0}continue}const l=ui(8&r?"class":u,i,ii(t),n);if(-1===l){if(ai(r))return!1;o=!0;continue}if(""!==c){let t;t=l>s?"":i[l+1].toLowerCase();const e=8&r?t:null;if(e&&-1!==ei(e,c,0)||2&r&&c!==t){if(ai(r))return!1;o=!0}}}}else{if(!o&&!ai(r)&&!ai(u))return!1;if(o&&ai(u))continue;o=!1,r=u|1&r}}return ai(r)||o}function ai(t){return 0==(1&t)}function ui(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let n=!1;for(;i<e.length;){const r=e[i];if(r===t)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let t=e[++i];for(;"string"==typeof t;)t=e[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function ci(t,e,n=!1){for(let r=0;r<e.length;r++)if(oi(t,e[r],n))return!0;return!1}function li(t,e){return t?":not("+e.trim()+")":e}function hi(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const e=t[++n];i+="["+o+(e.length>0?'="'+e+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!ai(o)&&(e+=li(s,i),i=""),r=o,s=s||!ai(r);n++}return""!==i&&(e+=li(s,i)),e}const di={};function fi(t){pi(Bt(),jt(),pe()+t,Qt())}function pi(t,e,n,r){if(!r)if(3==(3&e[2])){const r=t.preOrderCheckHooks;null!==r&&ve(e,r,n)}else{const r=t.preOrderHooks;null!==r&&_e(e,r,0,n)}ge(n)}function gi(t,e){return t<<17|e<<2}function mi(t){return t>>17&32767}function yi(t){return 2|t}function vi(t){return(131068&t)>>2}function _i(t,e){return-131069&t|e<<2}function bi(t){return 1|t}function wi(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],s=n[r+1];if(-1!==s){const n=t.data[s];se(i),n.contentQueries(2,e[s],s)}}}function Ti(t,e,n,r,i,s,o,a,u,c){const l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Mt(l),l[3]=l[15]=t,l[8]=n,l[10]=o||t&&t[10],l[11]=a||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=s,l[16]=2==e.type?t[16]:l,l}function Ei(t,e,n,r,i){let s=t.data[e];if(null===s)s=function(t,e,n,r,i){const s=Ht(),o=Kt(),a=t.data[e]=function(t,e,n,r,i,s){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=a),null!==s&&(o?null==s.child&&null!==a.parent&&(s.child=a):null===s.next&&(s.next=a)),a}(t,e,n,r,i),qt.lFrame.inI18n&&(s.flags|=64);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const t=function(){const t=qt.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===t?-1:t.injectorIndex}return Gt(s,!0),s}function Si(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function Ii(t,e,n){ue(e);try{const r=t.viewQuery;null!==r&&ns(1,r,n);const i=t.template;null!==i&&ki(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&wi(t,e),t.staticViewQueries&&ns(2,t.viewQuery,n);const s=t.components;null!==s&&function(t,e){for(let n=0;n<e.length;n++)Yi(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[2]&=-5,fe()}}function Ai(t,e,n,r){const i=e[2];if(256==(256&i))return;ue(e);const s=Qt();try{Mt(e),function(t){qt.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&ki(t,e,n,2,r);const o=3==(3&i);if(!s)if(o){const n=t.preOrderCheckHooks;null!==n&&ve(e,n,null)}else{const n=t.preOrderHooks;null!==n&&_e(e,n,0,null),be(e,0)}if(function(t){for(let e=Nr(t);null!==e;e=Dr(e)){if(!e[2])continue;const t=e[9];for(let e=0;e<t.length;e++){const n=t[e],r=n[3];0==(1024&n[2])&&Ut(r,1),n[2]|=1024}}}(e),function(t){for(let e=Nr(t);null!==e;e=Dr(e))for(let t=10;t<e.length;t++){const n=e[t],r=n[1];Ft(n)&&Ai(r,n,r.template,n[8])}}(e),null!==t.contentQueries&&wi(t,e),!s)if(o){const n=t.contentCheckHooks;null!==n&&ve(e,n)}else{const n=t.contentHooks;null!==n&&_e(e,n,1),be(e,1)}!function(t,e){const n=t.hostBindingOpCodes;if(null!==n)try{for(let t=0;t<n.length;t++){const r=n[t];if(r<0)ge(~r);else{const i=r,s=n[++t],o=n[++t];ee(s,i),o(2,e[i])}}}finally{ge(-1)}}(t,e);const a=t.components;null!==a&&function(t,e){for(let n=0;n<e.length;n++)Wi(t,e[n])}(e,a);const u=t.viewQuery;if(null!==u&&ns(2,u,r),!s)if(o){const n=t.viewCheckHooks;null!==n&&ve(e,n)}else{const n=t.viewHooks;null!==n&&_e(e,n,2),be(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),s||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Ut(e[3],-1))}finally{fe()}}function Ci(t,e,n,r){const i=e[10],s=!Qt(),o=Lt(e);try{s&&!o&&i.begin&&i.begin(),o&&Ii(t,e,r),Ai(t,e,n,r)}finally{s&&!o&&i.end&&i.end()}}function ki(t,e,n,r,i){const s=pe(),o=2&r;try{ge(-1),o&&e.length>20&&pi(t,e,20,Qt()),n(r,i)}finally{ge(s)}}function xi(t,e,n){if(dt(e)){const r=e.directiveEnd;for(let i=e.directiveStart;i<r;i++){const e=t.data[i];e.contentQueries&&e.contentQueries(1,n[i],i)}}}function Oi(t,e,n){!Vt()||(function(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;t.firstCreatePass||Le(n,e),wr(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const r=t.data[a],s=gt(r);s&&$i(e,n,r);const u=Ge(e,t,a,n);wr(u,e),null!==o&&Hi(0,a-i,u,r,0,o),s&&(Pt(n.index,e)[8]=u)}}(t,e,n,Dt(n,e)),128==(128&n.flags)&&function(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=qt.lFrame.currentDirectiveIndex;try{ge(s);for(let n=r;n<i;n++){const r=t.data[n],i=e[n];ne(n),(null!==r.hostBindings||0!==r.hostVars||null!==r.hostAttrs)&&Ui(r,i)}}finally{ge(-1),ne(o)}}(t,e,n))}function Ni(t,e,n=Dt){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function Di(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Ri(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function Ri(t,e,n,r,i,s,o,a,u,c){const l=20+r,h=l+i,d=function(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:di);return n}(l,h),f="function"==typeof c?c():c;return d[1]={type:t,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:e,data:d.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:u,consts:f,incompleteFirstPass:!1}}function Pi(t,e,n,r){const i=is(e);null===n?i.push(r):(i.push(n),t.firstCreatePass&&ss(t).push(r,i.length-1))}function Li(t,e,n){for(let r in t)if(t.hasOwnProperty(r)){const i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function Fi(t,e,n,r,i,s,o,a){const u=Dt(e,n);let c,l=e.inputs;!a&&null!=l&&(c=l[r])?(as(t,n,c,r,i),ft(e)&&function(t,e){const n=Pt(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3&e.type&&(r=function(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,kt(s)?s.setProperty(u,r,i):Ae(r)||(u.setProperty?u.setProperty(r,i):u[r]=i))}function Zi(t,e,n,r){let i=!1;if(Vt()){const s=function(t,e,n){const r=t.directiveRegistry;let i=null;if(r)for(let s=0;s<r.length;s++){const o=r[s];ci(n,o.selectors,!1)&&(i||(i=[]),Ue(Le(n,e),t,o.type),gt(o)?(qi(t,n),i.unshift(o)):i.push(o))}return i}(t,e,n),o=null===r?null:{"":-1};if(null!==s){i=!0,ji(n,t.data.length,s.length);for(let t=0;t<s.length;t++){const e=s[t];e.providersResolver&&e.providersResolver(e)}let r=!1,a=!1,u=Si(t,e,s.length,null);for(let i=0;i<s.length;i++){const c=s[i];n.mergedAttrs=Ce(n.mergedAttrs,c.hostAttrs),Bi(t,n,e,u,c),Vi(u,c,o),null!==c.contentQueries&&(n.flags|=8),(null!==c.hostBindings||null!==c.hostAttrs||0!==c.hostVars)&&(n.flags|=128);const l=c.type.prototype;!r&&(l.ngOnChanges||l.ngOnInit||l.ngDoCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index),r=!0),!a&&(l.ngOnChanges||l.ngDoCheck)&&((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index),a=!0),u++}!function(t,e){const n=e.directiveEnd,r=t.data,i=e.attrs,s=[];let o=null,a=null;for(let u=e.directiveStart;u<n;u++){const t=r[u],n=t.inputs,c=null===i||ii(e)?null:Gi(n,i);s.push(c),o=Li(n,u,o),a=Li(t.outputs,u,a)}null!==o&&(o.hasOwnProperty("class")&&(e.flags|=16),o.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=s,e.inputs=o,e.outputs=a}(t,n)}o&&function(t,e,n){if(e){const r=t.localNames=[];for(let t=0;t<e.length;t+=2){const i=n[e[t+1]];if(null==i)throw new v("301",`Export of name '${e[t+1]}' not found!`);r.push(e[t],i)}}}(n,r,o)}return n.mergedAttrs=Ce(n.mergedAttrs,n.attrs),i}function Mi(t,e,n,r,i,s){const o=s.hostBindings;if(o){let n=t.hostBindingOpCodes;null===n&&(n=t.hostBindingOpCodes=[]);const s=~e.index;(function(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(n)!=s&&n.push(s),n.push(r,i,o)}}function Ui(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function qi(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function Vi(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;gt(e)&&(n[""]=t)}}function ji(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function Bi(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=yt(i.type)),o=new Ee(s,gt(i),null);t.blueprint[r]=o,n[r]=o,Mi(t,e,0,r,Si(t,n,i.hostVars,di),i)}function $i(t,e,n){const r=Dt(e,t),i=Di(n),s=t[10],o=Ji(t,Ti(t,i,null,n.onPush?64:16,r,e,s,s.createRenderer(r,n),null,null));t[e.index]=o}function zi(t,e,n,r,i,s){const o=Dt(t,e);!function(t,e,n,r,i,s,o){if(null==s)kt(t)?t.removeAttribute(e,i,n):e.removeAttribute(i);else{const a=null==o?_(s):o(s,r||"",i);kt(t)?t.setAttribute(e,i,a,n):n?e.setAttributeNS(n,i,a):e.setAttribute(i,a)}}(e[11],o,s,t.value,n,r,i)}function Hi(t,e,n,r,i,s){const o=s[e];if(null!==o){const t=r.setInput;for(let e=0;e<o.length;){const i=o[e++],s=o[e++],a=o[e++];null!==t?r.setInput(n,a,i,s):n[s]=a}}}function Gi(t,e){let n=null,r=0;for(;r<e.length;){const i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function Ki(t,e,n,r){return new Array(t,!0,!1,e,null,0,r,n,null,null)}function Wi(t,e){const n=Pt(e,t);if(Ft(n)){const t=n[1];80&n[2]?Ai(t,n,t.template,n[8]):n[5]>0&&Qi(n)}}function Qi(t){for(let n=Nr(t);null!==n;n=Dr(n))for(let t=10;t<n.length;t++){const e=n[t];if(1024&e[2]){const t=e[1];Ai(t,e,t.template,e[8])}else e[5]>0&&Qi(e)}const e=t[1].components;if(null!==e)for(let n=0;n<e.length;n++){const r=Pt(e[n],t);Ft(r)&&r[5]>0&&Qi(r)}}function Yi(t,e){const n=Pt(e,t),r=n[1];(function(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])})(r,n),Ii(r,n,n[8])}function Ji(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Xi(t){for(;t;){t[2]|=64;const e=Or(t);if(mt(t)&&!e)return t;t=e}return null}function ts(t,e,n){const r=e[10];r.begin&&r.begin();try{Ai(t,e,t.template,n)}catch(i){throw os(e,i),i}finally{r.end&&r.end()}}function es(t){!function(t){for(let e=0;e<t.components.length;e++){const n=t.components[e],r=Tr(n),i=r[1];Ci(i,r,i.template,n)}}(t[8])}function ns(t,e,n){se(0),e(t,n)}const rs=(()=>Promise.resolve(null))();function is(t){return t[7]||(t[7]=[])}function ss(t){return t.cleanup||(t.cleanup=[])}function os(t,e){const n=t[9],r=n?n.get(Ir,null):null;r&&r.handleError(e)}function as(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++],u=e[o],c=t.data[o];null!==c.setInput?c.setInput(u,i,r,a):u[a]=i}}function us(t,e,n){const r=Nt(e,t);!function(t,e,n){kt(t)?t.setValue(e,n):e.textContent=n}(t[11],r,n)}function cs(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const t=e[o];"number"==typeof t?s=t:1==s?i=f(i,t):2==s&&(r=f(r,t+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}const ls=new nn("INJECTOR",-1);class hs{get(t,e=fn){if(e===fn){const e=new Error(`NullInjectorError: No provider for ${d(t)}!`);throw e.name="NullInjectorError",e}return e}}const ds=new nn("Set Injector scope."),fs={},ps={};let gs;function ms(){return void 0===gs&&(gs=new hs),gs}function ys(t,e=null,n=null,r){return new vs(t,n,e||ms(),r)}class vs{constructor(t,e,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];e&&an(e,n=>this.processProvider(n,t,e)),an([t],t=>this.processInjectorType(t,[],i)),this.records.set(ls,ws(void 0,this));const s=this.records.get(ds);this.scope=null!=s?s.value:null,this.source=r||("object"==typeof t?null:d(t))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(t=>t.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(t,e=fn,n=D.Default){this.assertNotDestroyed();const r=bn(this),i=P(void 0);try{if(!(n&D.SkipSelf)){let e=this.records.get(t);if(void 0===e){const n=("function"==typeof(s=t)||"object"==typeof s&&s instanceof nn)&&I(t);e=n&&this.injectableDefInScope(n)?ws(_s(t),fs):null,this.records.set(t,e)}if(null!=e)return this.hydrate(t,e)}return(n&D.Self?ms():this.parent).get(t,e=n&D.Optional&&e===fn?null:e)}catch(o){if("NullInjectorError"===o.name){if((o[gn]=o[gn]||[]).unshift(d(t)),r)throw o;return An(o,t,"R3InjectorError",this.source)}throw o}finally{P(i),bn(r)}var s}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(t=>this.get(t))}toString(){const t=[];return this.records.forEach((e,n)=>t.push(d(n))),`R3Injector[${t.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(t,e,n){if(!(t=m(t)))return!1;let r=C(t);const i=null==r&&t.ngModule||void 0,s=void 0===i?t:i,o=-1!==n.indexOf(s);if(void 0!==i&&(r=C(i)),null==r)return!1;if(null!=r.imports&&!o){let t;n.push(s);try{an(r.imports,r=>{this.processInjectorType(r,e,n)&&(void 0===t&&(t=[]),t.push(r))})}finally{}if(void 0!==t)for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];an(r,t=>this.processProvider(t,n,r||$))}}this.injectorDefTypes.add(s);const a=yt(s)||(()=>new s);this.records.set(s,ws(a,fs));const u=r.providers;if(null!=u&&!o){const e=t;an(u,t=>this.processProvider(t,e,u))}return void 0!==i&&void 0!==t.providers}processProvider(t,e,n){let r=Es(t=m(t))?t:m(t&&t.provide);const i=Ts(s=t)?ws(void 0,s.useValue):ws(bs(s),fs);var s;if(Es(t)||!0!==t.multi)this.records.get(r);else{let e=this.records.get(r);e||(e=ws(void 0,fs,!0),e.factory=()=>En(e.multi),this.records.set(r,e)),r=t,e.multi.push(t)}this.records.set(r,i)}hydrate(t,e){return e.value===fs&&(e.value=ps,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value;var n}injectableDefInScope(t){if(!t.providedIn)return!1;const e=m(t.providedIn);return"string"==typeof e?"any"===e||e===this.scope:this.injectorDefTypes.has(e)}}function _s(t){const e=I(t),n=null!==e?e.factory:yt(t);if(null!==n)return n;if(t instanceof nn)throw new Error(`Token ${d(t)} is missing a \u0275prov definition.`);if(t instanceof Function)return function(t){const e=t.length;if(e>0){const n=function(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}(e,"?");throw new Error(`Can't resolve all parameters for ${d(t)}: (${n.join(", ")}).`)}const n=function(t){const e=t&&(t[k]||t[O]);if(e){const n=function(t){if(t.hasOwnProperty("name"))return t.name;const e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),e}return null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new Error("unreachable")}function bs(t,e,n){let r;if(Es(t)){const e=m(t);return yt(e)||_s(e)}if(Ts(t))r=()=>m(t.useValue);else if(function(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...En(t.deps||[]));else if(function(t){return!(!t||!t.useExisting)}(t))r=()=>Tn(m(t.useExisting));else{const e=m(t&&(t.useClass||t.provide));if(!function(t){return!!t.deps}(t))return yt(e)||_s(e);r=()=>new e(...En(t.deps))}return r}function ws(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function Ts(t){return null!==t&&"object"==typeof t&&vn in t}function Es(t){return"function"==typeof t}const Ss=function(t,e,n){return function(t,e=null,n=null,r){const i=ys(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)};let Is=(()=>{class t{static create(t,e){return Array.isArray(t)?Ss(t,e,""):Ss(t.providers,t.parent,t.name||"")}}return t.THROW_IF_NOT_FOUND=fn,t.NULL=new hs,t.\u0275prov=E({token:t,providedIn:"any",factory:()=>Tn(ls)}),t.__NG_ELEMENT_ID__=-1,t})();function As(t,e){ye(Tr(t)[1],zt())}function Cs(t){let e=function(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(gt(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);const e=t;e.inputs=ks(t.inputs),e.declaredInputs=ks(t.declaredInputs),e.outputs=ks(t.outputs);const n=i.hostBindings;n&&Ns(t,n);const s=i.viewQuery,o=i.contentQueries;if(s&&xs(t,s),o&&Os(t,o),h(t.inputs,i.inputs),h(t.declaredInputs,i.declaredInputs),h(t.outputs,i.outputs),gt(i)&&i.data.animation){const e=t.data;e.animation=(e.animation||[]).concat(i.data.animation)}}const e=i.features;if(e)for(let r=0;r<e.length;r++){const i=e[r];i&&i.ngInherit&&i(t),i===Cs&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ce(i.hostAttrs,n=Ce(n,i.hostAttrs))}}(r)}function ks(t){return t===B?{}:t===$?[]:t}function xs(t,e){const n=t.viewQuery;t.viewQuery=n?(t,r)=>{e(t,r),n(t,r)}:e}function Os(t,e){const n=t.contentQueries;t.contentQueries=n?(t,r,i)=>{e(t,r,i),n(t,r,i)}:e}function Ns(t,e){const n=t.hostBindings;t.hostBindings=n?(t,r)=>{e(t,r),n(t,r)}:e}let Ds=null;function Rs(){if(!Ds){const t=j.Symbol;if(t&&t.iterator)Ds=t.iterator;else{const t=Object.getOwnPropertyNames(Map.prototype);for(let e=0;e<t.length;++e){const n=t[e];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Ds=n)}}}return Ds}class Ps{constructor(t){this.wrapped=t}static wrap(t){return new Ps(t)}static unwrap(t){return Ps.isWrapped(t)?t.wrapped:t}static isWrapped(t){return t instanceof Ps}}function Ls(t){return!!Fs(t)&&(Array.isArray(t)||!(t instanceof Map)&&Rs()in t)}function Fs(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Zs(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Ms(t,e,n,r){const i=Zs(t,e,n);return Zs(t,e+1,r)||i}function Us(t,e,n,r){const i=jt();return Zs(i,Xt(),e)&&(Bt(),zi(me(),i,t,e,n,r)),Us}function qs(t,e,n,r){return Zs(t,Xt(),n)?e+_(n)+r:di}function Vs(t,e,n,r,i,s,o,a){const u=function(t,e,n,r,i){const s=Ms(t,e,n,r);return Zs(t,e+2,i)||s}(t,Jt(),n,i,o);return te(3),u?e+_(n)+r+_(i)+s+_(o)+a:di}function js(t,e,n,r,i,s,o,a,u,c){const l=function(t,e,n,r,i,s){const o=Ms(t,e,n,r);return Ms(t,e+2,i,s)||o}(t,Jt(),n,i,o,u);return te(4),l?e+_(n)+r+_(i)+s+_(o)+a+_(u)+c:di}function Bs(t,e,n,r,i,s,o,a){const u=jt(),c=Bt(),l=t+20,h=c.firstCreatePass?function(t,e,n,r,i,s,o,a,u){const c=e.consts,l=Ei(e,t,4,o||null,Zt(c,a));Zi(e,n,l,Zt(c,u)),ye(e,l);const h=l.tViews=Ri(2,l,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c);return null!==e.queries&&(e.queries.template(e,l),h.queries=e.queries.embeddedTView(l)),l}(l,c,u,e,n,r,i,s,o):c.data[l];Gt(h,!1);const d=u[11].createComment("");Hr(c,u,d,h),wr(d,u),Ji(u,u[l]=Ki(d,u,d,h)),pt(h)&&Oi(c,u,h),null!=o&&Ni(u,h,a)}function $s(t,e=D.Default){const n=jt();return null===n?Tn(t,e):je(zt(),n,m(t),e)}function zs(t,e,n){const r=jt();return Zs(r,Xt(),e)&&Fi(Bt(),me(),r,t,e,r[11],n,!1),zs}function Hs(t,e,n,r,i){const s=i?"class":"style";as(t,n,e.inputs[s],s,r)}function Gs(t,e,n,r){const i=jt(),s=Bt(),o=20+t,a=i[11],u=i[o]=Lr(a,e,qt.lFrame.currentNamespace),c=s.firstCreatePass?function(t,e,n,r,i,s,o){const a=e.consts,u=Ei(e,t,2,i,Zt(a,s));return Zi(e,n,u,Zt(a,o)),null!==u.attrs&&cs(u,u.attrs,!1),null!==u.mergedAttrs&&cs(u,u.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,u),u}(o,s,i,0,e,n,r):s.data[o];Gt(c,!0);const l=c.mergedAttrs;null!==l&&Se(a,u,l);const h=c.classes;null!==h&&ti(a,u,h);const d=c.styles;null!==d&&Xr(a,u,d),64!=(64&c.flags)&&Hr(s,i,u,c),0===qt.lFrame.elementDepthCount&&wr(u,i),qt.lFrame.elementDepthCount++,pt(c)&&(Oi(s,i,c),xi(s,c,i)),null!==r&&Ni(i,c)}function Ks(){let t=zt();Kt()?Wt():(t=t.parent,Gt(t,!1));const e=t;qt.lFrame.elementDepthCount--;const n=Bt();n.firstCreatePass&&(ye(n,t),dt(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function(t){return 0!=(16&t.flags)}(e)&&Hs(n,e,jt(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function(t){return 0!=(32&t.flags)}(e)&&Hs(n,e,jt(),e.stylesWithoutHost,!1)}function Ws(t,e,n,r){Gs(t,e,n,r),Ks()}function Qs(t,e,n){const r=jt(),i=Bt(),s=t+20,o=i.firstCreatePass?function(t,e,n,r,i){const s=e.consts,o=Zt(s,r),a=Ei(e,t,8,"ng-container",o);return null!==o&&cs(a,o,!0),Zi(e,n,a,Zt(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,n):i.data[s];Gt(o,!0);const a=r[s]=r[11].createComment("");Hr(i,r,a,o),wr(a,r),pt(o)&&(Oi(i,r,o),xi(i,o,r)),null!=n&&Ni(r,o)}function Ys(){let t=zt();const e=Bt();Kt()?Wt():(t=t.parent,Gt(t,!1)),e.firstCreatePass&&(ye(e,t),dt(t)&&e.queries.elementEnd(t))}function Js(){return jt()}function Xs(t){return!!t&&"function"==typeof t.then}function to(t){return!!t&&"function"==typeof t.subscribe}const eo=to;function no(t,e,n,r){const i=jt(),s=Bt(),o=zt();return function(t,e,n,r,i,s,o,a){const u=pt(r),c=t.firstCreatePass&&ss(t),l=e[8],h=is(e);let d=!0;if(3&r.type||a){const f=Dt(r,e),p=a?a(f):f,g=h.length,m=a?t=>a(Ot(t[r.index])):r.index;if(kt(n)){let o=null;if(!a&&u&&(o=function(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const t=i[s];if(t===n&&i[s+1]===r){const t=e[7],n=i[s+2];return t.length>n?t[n]:null}"string"==typeof t&&(s+=2)}return null}(t,e,i,r.index)),null!==o)(o.__ngLastListenerFn__||o).__ngNextListenerFn__=s,o.__ngLastListenerFn__=s,d=!1;else{s=io(r,e,l,s,!1);const t=n.listen(p,i,s);h.push(s,t),c&&c.push(i,m,g,g+1)}}else s=io(r,e,l,s,!0),p.addEventListener(i,s,o),h.push(s),c&&c.push(i,m,g,o)}else s=io(r,e,l,s,!1);const f=r.outputs;let p;if(d&&null!==f&&(p=f[i])){const t=p.length;if(t)for(let n=0;n<t;n+=2){const t=e[p[n]][p[n+1]].subscribe(s),o=h.length;h.push(s,t),c&&c.push(i,r.index,o,-(o+1))}}}(s,i,i[11],o,t,e,!!n,r),no}function ro(t,e,n,r){try{return!1!==n(r)}catch(i){return os(t,i),!1}}function io(t,e,n,r,i){return function n(s){if(s===Function)return r;const o=2&t.flags?Pt(t.index,e):e;0==(32&e[2])&&Xi(o);let a=ro(e,0,r,s),u=n.__ngNextListenerFn__;for(;u;)a=ro(e,0,u,s)&&a,u=u.__ngNextListenerFn__;return i&&!1===a&&(s.preventDefault(),s.returnValue=!1),a}}function so(t=1){return function(t){return(qt.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,qt.lFrame.contextLView))[8]}(t)}function oo(t,e,n){return ao(t,"",e,"",n),oo}function ao(t,e,n,r,i){const s=jt(),o=qs(s,e,n,r);return o!==di&&Fi(Bt(),me(),s,t,o,s[11],i,!1),ao}function uo(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?mi(s):vi(s),u=!1;for(;0!==a&&(!1===u||o);){const n=t[a+1];co(t[a],e)&&(u=!0,t[a+1]=r?bi(n):yi(n)),a=r?mi(n):vi(n)}u&&(t[n+1]=r?yi(s):bi(s))}function co(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&dn(t,e)>=0}const lo={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function ho(t){return t.substring(lo.key,lo.keyEnd)}function fo(t,e){const n=lo.textEnd;return n===e?-1:(e=lo.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,lo.key=e,n),po(t,e,n))}function po(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function go(t,e,n){return _o(t,e,n,!1),go}function mo(t,e){return _o(t,e,null,!0),mo}function yo(t){!function(t,e,n,r){const i=Bt(),s=te(2);i.firstUpdatePass&&wo(i,null,s,r);const o=jt();if(n!==di&&Zs(o,s,n)){const a=i.data[pe()];if(Co(a,r)&&!bo(i,s)){let t=r?a.classesWithoutHost:a.stylesWithoutHost;null!==t&&(n=f(t,n||"")),Hs(i,a,o,n,r)}else!function(t,e,n,r,i,s,o,a){i===di&&(i=$);let u=0,c=0,l=0<i.length?i[0]:null,h=0<s.length?s[0]:null;for(;null!==l||null!==h;){const d=u<i.length?i[u+1]:void 0,f=c<s.length?s[c+1]:void 0;let p,g=null;l===h?(u+=2,c+=2,d!==f&&(g=h,p=f)):null===h||null!==l&&l<h?(u+=2,g=l):(c+=2,g=h,p=f),null!==g&&So(t,e,n,r,g,p,o,a),l=u<i.length?i[u]:null,h=c<s.length?s[c]:null}}(i,a,o,o[11],o[s+1],o[s+1]=function(t,e,n){if(null==n||""===n)return $;const r=[],i=qn(n);if(Array.isArray(i))for(let s=0;s<i.length;s++)t(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&t(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(t,e,n),r,s)}}(ln,vo,t,!0)}function vo(t,e){for(let n=function(t){return function(t){lo.key=0,lo.keyEnd=0,lo.value=0,lo.valueEnd=0,lo.textEnd=t.length}(t),fo(t,po(t,0,lo.textEnd))}(e);n>=0;n=fo(e,n))ln(t,ho(e),!0)}function _o(t,e,n,r){const i=jt(),s=Bt(),o=te(2);s.firstUpdatePass&&wo(s,t,o,r),e!==di&&Zs(i,o,e)&&So(s,s.data[pe()],i,i[11],t,i[o+1]=function(t,e){return null==t||("string"==typeof e?t+=e:"object"==typeof t&&(t=d(qn(t)))),t}(e,n),r,o)}function bo(t,e){return e>=t.expandoStartIndex}function wo(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[pe()],o=bo(t,n);Co(s,r)&&null===e&&!o&&(e=!1),e=function(t,e,n,r){const i=re(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Eo(n=To(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=To(i,t,e,n,r),null===s){let n=function(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==vi(r))return t[mi(r)]}(t,e,r);void 0!==n&&Array.isArray(n)&&(n=To(null,t,e,n[1],r),n=Eo(n,e.attrs,r),function(t,e,n,r){t[mi(n?e.classBindings:e.styleBindings)]=r}(t,e,r,n))}else s=function(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=Eo(r,t[s].hostAttrs,n);return Eo(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=mi(o),u=vi(o);t[r]=n;let c,l=!1;if(Array.isArray(n)){const t=n;c=t[1],(null===c||dn(t,c)>0)&&(l=!0)}else c=n;if(i)if(0!==u){const e=mi(t[a+1]);t[r+1]=gi(e,a),0!==e&&(t[e+1]=_i(t[e+1],r)),t[a+1]=function(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=gi(a,0),0!==a&&(t[a+1]=_i(t[a+1],r)),a=r;else t[r+1]=gi(u,0),0===a?a=r:t[u+1]=_i(t[u+1],r),u=r;l&&(t[r+1]=yi(t[r+1])),uo(t,c,r,!0),uo(t,c,r,!1),function(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&dn(s,e)>=0&&(n[r+1]=bi(n[r+1]))}(e,c,t,r,s),o=gi(a,u),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}function To(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=Eo(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function Eo(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),ln(t,o,!!n||e[++s]))}return void 0===t?null:t}function So(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const u=t.data,c=u[a+1];Ao(function(t){return 1==(1&t)}(c)?Io(u,e,n,i,vi(c),o):void 0)||(Ao(s)||function(t){return 2==(2&t)}(c)&&(s=Io(u,null,n,i,a,o)),function(t,e,n,r,i){const s=kt(t);if(e)i?s?t.addClass(n,r):n.classList.add(r):s?t.removeClass(n,r):n.classList.remove(r);else{let e=-1===r.indexOf("-")?void 0:kr.DashCase;if(null==i)s?t.removeStyle(n,r,e):n.style.removeProperty(r);else{const o="string"==typeof i&&i.endsWith("!important");o&&(i=i.slice(0,-10),e|=kr.Important),s?t.setStyle(n,r,i,e):n.style.setProperty(r,i,o?"important":"")}}}(r,o,Nt(pe(),n),i,s))}function Io(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const e=t[i],s=Array.isArray(e),u=s?e[1]:e,c=null===u;let l=n[i+1];l===di&&(l=c?$:void 0);let h=c?hn(l,r):u===r?l:void 0;if(s&&!Ao(h)&&(h=hn(e,r)),Ao(h)&&(a=h,o))return a;const d=t[i+1];i=o?mi(d):vi(d)}if(null!==e){let t=s?e.residualClasses:e.residualStyles;null!=t&&(a=hn(t,r))}return a}function Ao(t){return void 0!==t}function Co(t,e){return 0!=(t.flags&(e?16:32))}function ko(t,e=""){const n=jt(),r=Bt(),i=t+20,s=r.firstCreatePass?Ei(r,i,1,e,null):r.data[i],o=n[i]=function(t,e){return kt(t)?t.createText(e):t.createTextNode(e)}(n[11],e);Hr(r,n,o,s),Gt(s,!1)}function xo(t){return Oo("",t,""),xo}function Oo(t,e,n){const r=jt(),i=qs(r,t,e,n);return i!==di&&us(r,pe(),i),Oo}function No(t,e,n,r,i){const s=jt(),o=function(t,e,n,r,i,s){const o=Ms(t,Jt(),n,i);return te(2),o?e+_(n)+r+_(i)+s:di}(s,t,e,n,r,i);return o!==di&&us(s,pe(),o),No}function Do(t,e,n,r,i,s,o){const a=jt(),u=Vs(a,t,e,n,r,i,s,o);return u!==di&&us(a,pe(),u),Do}function Ro(t,e,n,r,i,s,o,a,u){const c=jt(),l=js(c,t,e,n,r,i,s,o,a,u);return l!==di&&us(c,pe(),l),Ro}function Po(t,e,n){const r=jt();return Zs(r,Xt(),e)&&Fi(Bt(),me(),r,t,e,r[11],n,!0),Po}function Lo(t,e,n){const r=jt();if(Zs(r,Xt(),e)){const i=Bt(),s=me();Fi(i,s,r,t,e,function(t,e,n){return(null===t||gt(t))&&(n=function(t){for(;Array.isArray(t);){if("object"==typeof t[1])return t;t=t[0]}return null}(n[e.index])),n[11]}(re(i.data),s,r),n,!0)}return Lo}const Fo=void 0;var Zo=["en",[["a","p"],["AM","PM"],Fo],[["AM","PM"],Fo,Fo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Fo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Fo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Fo,"{1} 'at' {0}",Fo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){const e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}];let Mo={};function Uo(t){const e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t);let n=Vo(e);if(n)return n;const r=e.split("-")[0];if(n=Vo(r),n)return n;if("en"===r)return Zo;throw new Error(`Missing locale data for the locale "${t}".`)}function qo(t){return Uo(t)[jo.PluralCase]}function Vo(t){return t in Mo||(Mo[t]=j.ng&&j.ng.common&&j.ng.common.locales&&j.ng.common.locales[t]),Mo[t]}var jo=(()=>((jo=jo||{})[jo.LocaleId=0]="LocaleId",jo[jo.DayPeriodsFormat=1]="DayPeriodsFormat",jo[jo.DayPeriodsStandalone=2]="DayPeriodsStandalone",jo[jo.DaysFormat=3]="DaysFormat",jo[jo.DaysStandalone=4]="DaysStandalone",jo[jo.MonthsFormat=5]="MonthsFormat",jo[jo.MonthsStandalone=6]="MonthsStandalone",jo[jo.Eras=7]="Eras",jo[jo.FirstDayOfWeek=8]="FirstDayOfWeek",jo[jo.WeekendRange=9]="WeekendRange",jo[jo.DateFormat=10]="DateFormat",jo[jo.TimeFormat=11]="TimeFormat",jo[jo.DateTimeFormat=12]="DateTimeFormat",jo[jo.NumberSymbols=13]="NumberSymbols",jo[jo.NumberFormats=14]="NumberFormats",jo[jo.CurrencyCode=15]="CurrencyCode",jo[jo.CurrencySymbol=16]="CurrencySymbol",jo[jo.CurrencyName=17]="CurrencyName",jo[jo.Currencies=18]="Currencies",jo[jo.Directionality=19]="Directionality",jo[jo.PluralCase=20]="PluralCase",jo[jo.ExtraData=21]="ExtraData",jo))();const Bo="en-US";let $o=Bo;function zo(t){T(t,"Expected localeId to be defined"),"string"==typeof t&&($o=t.toLowerCase().replace(/_/g,"-"))}function Ho(t,e,n,r,i){if(t=m(t),Array.isArray(t))for(let s=0;s<t.length;s++)Ho(t[s],e,n,r,i);else{const s=Bt(),o=jt();let a=Es(t)?t:m(t.provide),u=bs(t);const c=zt(),l=1048575&c.providerIndexes,h=c.directiveStart,d=c.providerIndexes>>20;if(Es(t)||!t.multi){const r=new Ee(u,i,$s),f=Wo(a,e,i?l:l+d,h);-1===f?(Ue(Le(c,o),s,a),Go(s,t,e.length),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(r),o.push(r)):(n[f]=r,o[f]=r)}else{const f=Wo(a,e,l+d,h),p=Wo(a,e,l,l+d),g=f>=0&&n[f],m=p>=0&&n[p];if(i&&!m||!i&&!g){Ue(Le(c,o),s,a);const l=function(t,e,n,r,i){const s=new Ee(t,n,$s);return s.multi=[],s.index=e,s.componentProviders=0,Ko(s,i,r&&!n),s}(i?Yo:Qo,n.length,i,r,u);!i&&m&&(n[p].providerFactory=l),Go(s,t,e.length,0),e.push(a),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(l),o.push(l)}else Go(s,t,f>-1?f:p,Ko(n[i?p:f],u,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function Go(t,e,n,r){const i=Es(e);if(i||function(t){return!!t.useClass}(e)){const s=(e.useClass||e).prototype.ngOnDestroy;if(s){const o=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const t=o.indexOf(n);-1===t?o.push(n,[r,s]):o[t+1].push(r,s)}else o.push(n,s)}}}function Ko(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Wo(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Qo(t,e,n,r){return Jo(this.multi,[])}function Yo(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const t=this.providerFactory.componentProviders,e=Ge(n,n[1],this.providerFactory.index,r);s=e.slice(0,t),Jo(i,s);for(let n=t;n<e.length;n++)s.push(e[n])}else s=[],Jo(i,s);return s}function Jo(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function Xo(t,e=[]){return n=>{n.providersResolver=(n,r)=>function(t,e,n){const r=Bt();if(r.firstCreatePass){const i=gt(t);Ho(n,r.data,r.blueprint,i,!0),Ho(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}class ta{}const ea="ngComponent";class na{resolveComponentFactory(t){throw function(t){const e=Error(`No component factory found for ${d(t)}. Did you add it to @NgModule.entryComponents?`);return e[ea]=t,e}(t)}}let ra=(()=>{class t{}return t.NULL=new na,t})();function ia(...t){}function sa(t,e){return new aa(Dt(t,e))}const oa=function(){return sa(zt(),jt())};let aa=(()=>{class t{constructor(t){this.nativeElement=t}}return t.__NG_ELEMENT_ID__=oa,t})();function ua(t){return t instanceof aa?t.nativeElement:t}class ca{}let la=(()=>{class t{}return t.__NG_ELEMENT_ID__=()=>ha(),t})();const ha=function(){const t=jt(),e=Pt(zt().index,t);return function(t){return t[11]}(lt(e)?e:t)};let da=(()=>{class t{}return t.\u0275prov=E({token:t,providedIn:"root",factory:()=>null}),t})();class fa{constructor(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}const pa=new fa("12.2.11");class ga{constructor(){}supports(t){return Ls(t)}create(t){return new ya(t)}}const ma=(t,e)=>e;class ya{constructor(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||ma}forEachItem(t){let e;for(e=this._itHead;null!==e;e=e._next)t(e)}forEachOperation(t){let e=this._itHead,n=this._removalsHead,r=0,i=null;for(;e||n;){const s=!n||e&&e.currentIndex<wa(n,r,i)?e:n,o=wa(s,r,i),a=s.currentIndex;if(s===n)r--,n=n._nextRemoved;else if(e=e._next,null==s.previousIndex)r++;else{i||(i=[]);const t=o-r,e=a-r;if(t!=e){for(let n=0;n<t;n++){const r=n<i.length?i[n]:i[n]=0,s=r+n;e<=s&&s<t&&(i[n]=r+1)}i[s.previousIndex]=e-t}}o!==a&&t(s,o,a)}}forEachPreviousItem(t){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachMovedItem(t){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}forEachIdentityChange(t){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)}diff(t){if(null==t&&(t=[]),!Ls(t))throw new Error(`Error trying to diff '${d(t)}'. Only arrays and iterables are allowed`);return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e,n,r,i=this._itHead,s=!1;if(Array.isArray(t)){this.length=t.length;for(let e=0;e<this.length;e++)n=t[e],r=this._trackByFn(e,n),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,n,r,e)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,e),s=!0),i=i._next}else e=0,function(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Rs()]();let r;for(;!(r=n.next()).done;)e(r.value)}}(t,t=>{r=this._trackByFn(e,t),null!==i&&Object.is(i.trackById,r)?(s&&(i=this._verifyReinsertion(i,t,r,e)),Object.is(i.item,t)||this._addIdentityChange(i,t)):(i=this._mismatch(i,t,r,e),s=!0),i=i._next,e++}),this.length=e;return this._truncate(i),this.collection=t,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let t;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=t._nextMoved)t.previousIndex=t.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(t,e,n,r){let i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):t=this._addAfter(new va(e,n),i,r),t}_verifyReinsertion(t,e,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t}_truncate(t){for(;null!==t;){const e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);const r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t}_moveAfter(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t}_addAfter(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t}_insertAfter(t,e,n){const r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new ba),this._linkedRecords.put(t),t.currentIndex=n,t}_remove(t){return this._addToRemovals(this._unlink(t))}_unlink(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);const e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t}_addToMoves(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t}_addToRemovals(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new ba),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t}_addIdentityChange(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t}}class va{constructor(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class _a{constructor(){this._head=null,this._tail=null}add(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)}get(t,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,t))return n;return null}remove(t){const e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class ba{constructor(){this.map=new Map}put(t){const e=t.trackById;let n=this.map.get(e);n||(n=new _a,this.map.set(e,n)),n.add(t)}get(t,e){const n=this.map.get(t);return n?n.get(t,e):null}remove(t){const e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function wa(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class Ta{constructor(){}supports(t){return t instanceof Map||Fs(t)}create(){return new Ea}}class Ea{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(t){let e;for(e=this._mapHead;null!==e;e=e._next)t(e)}forEachPreviousItem(t){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)}forEachChangedItem(t){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)}forEachAddedItem(t){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)}forEachRemovedItem(t){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)}diff(t){if(t){if(!(t instanceof Map||Fs(t)))throw new Error(`Error trying to diff '${d(t)}'. Only maps and objects are allowed`)}else t=new Map;return this.check(t)?this:null}onDestroy(){}check(t){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(t,(t,n)=>{if(e&&e.key===n)this._maybeAddToChanges(e,t),this._appendAfter=e,e=e._next;else{const r=this._getOrCreateRecordForKey(n,t);e=this._insertBeforeOrAppend(e,r)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let t=e;null!==t;t=t._nextRemoved)t===this._mapHead&&(this._mapHead=null),this._records.delete(t.key),t._nextRemoved=t._next,t.previousValue=t.currentValue,t.currentValue=null,t._prev=null,t._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(t,e){if(t){const n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(t,e){if(this._records.has(t)){const n=this._records.get(t);this._maybeAddToChanges(n,e);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Sa(t);return this._records.set(t,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let t;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(t,e){Object.is(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))}_addToAdditions(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)}_addToChanges(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)}_forEach(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach(n=>e(t[n],n))}}class Sa{constructor(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Ia(){return new Aa([new ga])}let Aa=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(null!=n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Ia()),deps:[[t,new xn,new kn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(null!=e)return e;throw new Error(`Cannot find a differ supporting object '${t}' of type '${function(t){return t.name||typeof t}(t)}'`)}}return t.\u0275prov=E({token:t,providedIn:"root",factory:Ia}),t})();function Ca(){return new ka([new Ta])}let ka=(()=>{class t{constructor(t){this.factories=t}static create(e,n){if(n){const t=n.factories.slice();e=e.concat(t)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||Ca()),deps:[[t,new xn,new kn]]}}find(t){const e=this.factories.find(e=>e.supports(t));if(e)return e;throw new Error(`Cannot find a differ supporting object '${t}'`)}}return t.\u0275prov=E({token:t,providedIn:"root",factory:Ca}),t})();function xa(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];if(null!==s&&r.push(Ot(s)),ht(s))for(let t=10;t<s.length;t++){const e=s[t],n=e[1].firstChild;null!==n&&xa(e[1],e,n,r)}const o=n.type;if(8&o)xa(t,e,n.child,r);else if(32&o){const t=xr(n,e);let i;for(;i=t();)r.push(i)}else if(16&o){const t=Kr(e,n);if(Array.isArray(t))r.push(...t);else{const n=Or(e[16]);xa(n[1],n,t,r,!0)}}n=i?n.projectionNext:n.next}return r}class Oa{constructor(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const t=this._lView,e=t[1];return xa(e,t,e.firstChild,[])}get context(){return this._lView[8]}set context(t){this._lView[8]=t}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const t=this._lView[3];if(ht(t)){const e=t[8],n=e?e.indexOf(this):-1;n>-1&&(Zr(t,n),cn(e,n))}this._attachedToViewContainer=!1}Mr(this._lView[1],this._lView)}onDestroy(t){Pi(this._lView[1],this._lView,null,t)}markForCheck(){Xi(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){ts(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(t,e,n){Yt(!0);try{ts(t,e,n)}finally{Yt(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var t;this._appRef=null,Yr(this._lView[1],t=this._lView,t[11],2,null,null)}attachToAppRef(t){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t}}class Na extends Oa{constructor(t){super(t),this._view=t}detectChanges(){es(this._view)}checkNoChanges(){!function(t){Yt(!0);try{es(t)}finally{Yt(!1)}}(this._view)}get context(){return null}}const Da=function(t){return function(t,e,n){if(ft(t)&&!n){const n=Pt(t.index,e);return new Oa(n,n)}return 47&t.type?new Oa(e[16],e):null}(zt(),jt(),16==(16&t))};let Ra=(()=>{class t{}return t.__NG_ELEMENT_ID__=Da,t})();const Pa=[new Ta],La=new Aa([new ga]),Fa=new ka(Pa),Za=function(){return Va(zt(),jt())};let Ma=(()=>{class t{}return t.__NG_ELEMENT_ID__=Za,t})();const Ua=Ma,qa=class extends Ua{constructor(t,e,n){super(),this._declarationLView=t,this._declarationTContainer=e,this.elementRef=n}createEmbeddedView(t){const e=this._declarationTContainer.tViews,n=Ti(this._declarationLView,e,t,16,null,e.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(e)),Ii(e,n,t),new Oa(n)}};function Va(t,e){return 4&t.type?new qa(e,t,sa(t,e)):null}class ja{}class Ba{}const $a=function(){return Qa(zt(),jt())};let za=(()=>{class t{}return t.__NG_ELEMENT_ID__=$a,t})();const Ha=za,Ga=class extends Ha{constructor(t,e,n){super(),this._lContainer=t,this._hostTNode=e,this._hostLView=n}get element(){return sa(this._hostTNode,this._hostLView)}get injector(){return new Qe(this._hostTNode,this._hostLView)}get parentInjector(){const t=Me(this._hostTNode,this._hostLView);if(xe(t)){const e=Ne(t,this._hostLView),n=Oe(t);return new Qe(e[1].data[n+8],e)}return new Qe(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(t){const e=Ka(this._lContainer);return null!==e&&e[t]||null}get length(){return this._lContainer.length-10}createEmbeddedView(t,e,n){const r=t.createEmbeddedView(e||{});return this.insert(r,n),r}createComponent(t,e,n,r,i){const s=n||this.parentInjector;if(!i&&null==t.ngModule&&s){const t=s.get(ja,null);t&&(i=t)}const o=t.create(s,r,void 0,i);return this.insert(o.hostView,e),o}insert(t,e){const n=t._lView,r=n[1];if(ht(n[3])){const e=this.indexOf(t);if(-1!==e)this.detach(e);else{const e=n[3],r=new Ga(e,e[6],e[3]);r.detach(r.indexOf(t))}}const i=this._adjustIndex(e),s=this._lContainer;!function(t,e,n,r){const i=10+r,s=n.length;r>0&&(n[i-1][4]=e),r<s-10?(e[4]=n[i],un(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;const o=e[17];null!==o&&n!==o&&function(t,e){const n=t[9];e[16]!==e[3][3][16]&&(t[2]=!0),null===n?t[9]=[e]:n.push(e)}(o,e);const a=e[19];null!==a&&a.insertView(t),e[2]|=128}(r,n,s,i);const o=Wr(i,s),a=n[11],u=$r(a,s[7]);return null!==u&&function(t,e,n,r,i,s){r[0]=i,r[6]=e,Yr(t,r,n,1,i,s)}(r,s[6],a,n,u,o),t.attachToViewContainerRef(),un(Wa(s),i,t),t}move(t,e){return this.insert(t,e)}indexOf(t){const e=Ka(this._lContainer);return null!==e?e.indexOf(t):-1}remove(t){const e=this._adjustIndex(t,-1),n=Zr(this._lContainer,e);n&&(cn(Wa(this._lContainer),e),Mr(n[1],n))}detach(t){const e=this._adjustIndex(t,-1),n=Zr(this._lContainer,e);return n&&null!=cn(Wa(this._lContainer),e)?new Oa(n):null}_adjustIndex(t,e=0){return null==t?this.length+e:t}};function Ka(t){return t[8]}function Wa(t){return t[8]||(t[8]=[])}function Qa(t,e){let n;const r=e[t.index];if(ht(r))n=r;else{let i;if(8&t.type)i=Ot(r);else{const n=e[11];i=n.createComment("");const r=Dt(t,e);Vr(n,$r(n,r),i,function(t,e){return kt(t)?t.nextSibling(e):e.nextSibling}(n,r),!1)}e[t.index]=n=Ki(r,e,i,t),Ji(e,n)}return new Ga(n,t,e)}const Ya={};class Ja extends ra{constructor(t){super(),this.ngModule=t}resolveComponentFactory(t){const e=ut(t);return new eu(e,this.ngModule)}}function Xa(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}const tu=new nn("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Ar});class eu extends ta{constructor(t,e){super(),this.componentDef=t,this.ngModule=e,this.componentType=t.type,this.selector=t.selectors.map(hi).join(","),this.ngContentSelectors=t.ngContentSelectors?t.ngContentSelectors:[],this.isBoundToModule=!!e}get inputs(){return Xa(this.componentDef.inputs)}get outputs(){return Xa(this.componentDef.outputs)}create(t,e,n,r){const i=(r=r||this.ngModule)?function(t,e){return{get:(n,r,i)=>{const s=t.get(n,Ya,i);return s!==Ya||r===Ya?s:e.get(n,r,i)}}}(t,r.injector):t,s=i.get(ca,xt),o=i.get(da,null),a=s.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",c=n?function(t,e,n){if(kt(t))return t.selectRootElement(e,n===M.ShadowDom);let r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(a,n,this.componentDef.encapsulation):Lr(s.createRenderer(null,this.componentDef),u,function(t){const e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(u)),l=this.componentDef.onPush?576:528,h=function(t,e){return{components:[],scheduler:t||Ar,clean:rs,playerHandler:e||null,flags:0}}(),d=Ri(0,null,null,1,0,null,null,null,null,null),f=Ti(null,d,h,l,null,null,s,a,o,i);let p,g;ue(f);try{const t=function(t,e,n,r,i,s){const o=n[1];n[20]=t;const a=Ei(o,20,2,"#host",null),u=a.mergedAttrs=e.hostAttrs;null!==u&&(cs(a,u,!0),null!==t&&(Se(i,t,u),null!==a.classes&&ti(i,t,a.classes),null!==a.styles&&Xr(i,t,a.styles)));const c=r.createRenderer(t,e),l=Ti(n,Di(e),null,e.onPush?64:16,n[20],a,r,c,s||null,null);return o.firstCreatePass&&(Ue(Le(a,n),o,e.type),qi(o,a),ji(a,n.length,1)),Ji(n,l),n[20]=l}(c,this.componentDef,f,s,a);if(c)if(n)Se(a,c,["ng-version",pa.full]);else{const{attrs:t,classes:e}=function(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!ai(i))break;i=s}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]);t&&Se(a,c,t),e&&e.length>0&&ti(a,c,e.join(" "))}if(g=Rt(d,20),void 0!==e){const t=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=e[n];t.push(null!=r?Array.from(r):null)}}p=function(t,e,n,r,i){const s=n[1],o=function(t,e,n){const r=zt();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Bi(t,r,e,Si(t,e,1,null),n));const i=Ge(e,t,r.directiveStart,r);wr(i,e);const s=Dt(r,e);return s&&wr(s,e),i}(s,n,e);if(r.components.push(o),t[8]=o,i&&i.forEach(t=>t(o,e)),e.contentQueries){const t=zt();e.contentQueries(1,o,t.directiveStart)}const a=zt();return!s.firstCreatePass||null===e.hostBindings&&null===e.hostAttrs||(ge(a.index),Mi(n[1],a,0,a.directiveStart,a.directiveEnd,e),Ui(e,o)),o}(t,this.componentDef,f,h,[As]),Ii(d,f,null)}finally{fe()}return new nu(this.componentType,p,sa(g,f),f,g)}}class nu extends class{}{constructor(t,e,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=e,this.hostView=this.changeDetectorRef=new Na(r),this.componentType=t}get injector(){return new Qe(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(t){this.hostView.onDestroy(t)}}const ru=new Map;class iu extends ja{constructor(t,e){super(),this._parent=e,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new Ja(this);const n=ct(t),r=t[W]||null;r&&zo(r),this._bootstrapComponents=Cr(n.bootstrap),this._r3Injector=ys(t,e,[{provide:ja,useValue:this},{provide:ra,useValue:this.componentFactoryResolver}],d(t)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(t)}get(t,e=Is.THROW_IF_NOT_FOUND,n=D.Default){return t===Is||t===ja||t===ls?this:this._r3Injector.get(t,e,n)}destroy(){const t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(t){this.destroyCbs.push(t)}}class su extends Ba{constructor(t){super(),this.moduleType=t,null!==ct(t)&&function(t){const e=new Set;!function t(n){const r=ct(n,!0),i=r.id;null!==i&&(function(t,e,n){if(e&&e!==n)throw new Error(`Duplicate module registered for ${t} - ${d(e)} vs ${d(e.name)}`)}(i,ru.get(i),n),ru.set(i,n));const s=Cr(r.imports);for(const o of s)e.has(o)||(e.add(o),t(o))}(t)}(t)}create(t){return new iu(this.moduleType,t)}}function ou(t,e,n,r,i,s){const o=e+n;return Zs(t,o,i)?function(t,e,n){return t[e]=n}(t,o+1,s?r.call(s,i):r(i)):function(t,e){const n=t[e];return n===di?void 0:n}(t,o+1)}function au(t,e){const n=Bt();let r;const i=t+20;n.firstCreatePass?(r=function(t,e){if(e)for(let n=e.length-1;n>=0;n--){const r=e[n];if(t===r.name)return r}throw new v("302",`The pipe '${t}' could not be found!`)}(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const s=r.factory||(r.factory=yt(r.type)),o=P($s);try{const t=Re(!1),e=s();return Re(t),function(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}(n,jt(),i,e),e}finally{P(o)}}function uu(t,e,n){const r=t+20,i=jt(),s=function(t,e){return t[e]}(i,r);return function(t,e){Ps.isWrapped(e)&&(e=Ps.unwrap(e),t[Jt()]=di);return e}(i,function(t,e){return t[1].data[e].pure}(i,r)?ou(i,function(){const t=qt.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}(),e,s.transform,n,s):s.transform(n))}function cu(t){return e=>{setTimeout(t,void 0,e)}}const lu=class extends r.xQ{constructor(t=!1){super(),this.__isAsync=t}emit(t){super.next(t)}subscribe(t,e,n){var r,s,o;let a=t,u=e||(()=>null),c=n;if(t&&"object"==typeof t){const e=t;a=null===(r=e.next)||void 0===r?void 0:r.bind(e),u=null===(s=e.error)||void 0===s?void 0:s.bind(e),c=null===(o=e.complete)||void 0===o?void 0:o.bind(e)}this.__isAsync&&(u=cu(u),a&&(a=cu(a)),c&&(c=cu(c)));const l=super.subscribe({next:a,error:u,complete:c});return t instanceof i.w&&t.add(l),l}};function hu(){return this._results[Rs()]()}class du{constructor(t=!1){this._emitDistinctChangesOnly=t,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const e=Rs(),n=du.prototype;n[e]||(n[e]=hu)}get changes(){return this._changes||(this._changes=new lu)}get(t){return this._results[t]}map(t){return this._results.map(t)}filter(t){return this._results.filter(t)}find(t){return this._results.find(t)}reduce(t,e){return this._results.reduce(t,e)}forEach(t){this._results.forEach(t)}some(t){return this._results.some(t)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(t,e){const n=this;n.dirty=!1;const r=on(t);(this._changesDetected=!function(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(n._results,r,e))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class fu{constructor(t){this.queryList=t,this.matches=null}clone(){return new fu(this.queryList)}setDirty(){this.queryList.setDirty()}}class pu{constructor(t=[]){this.queries=t}createEmbeddedView(t){const e=t.queries;if(null!==e){const n=null!==t.contentQueries?t.contentQueries[0]:e.length,r=[];for(let t=0;t<n;t++){const n=e.getByIndex(t);r.push(this.queries[n.indexInDeclarationView].clone())}return new pu(r)}return null}insertView(t){this.dirtyQueriesWithMatches(t)}detachView(t){this.dirtyQueriesWithMatches(t)}dirtyQueriesWithMatches(t){for(let e=0;e<this.queries.length;e++)null!==ku(t,e).matches&&this.queries[e].setDirty()}}class gu{constructor(t,e,n=null){this.predicate=t,this.flags=e,this.read=n}}class mu{constructor(t=[]){this.queries=t}elementStart(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)}elementEnd(t){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)}embeddedTView(t){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,i=this.getByIndex(n).embeddedTView(t,r);i&&(i.indexInDeclarationView=n,null!==e?e.push(i):e=[i])}return null!==e?new mu(e):null}template(t,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(t,e)}getByIndex(t){return this.queries[t]}get length(){return this.queries.length}track(t){this.queries.push(t)}}class yu{constructor(t,e=-1){this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)}elementEnd(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)}template(t,e){this.elementStart(t,e)}embeddedTView(t,e){return this.isApplyingToNode(t)?(this.crossesNgTemplate=!0,this.addMatch(-t.index,e),new yu(this.metadata)):null}isApplyingToNode(t){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=t.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(t,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(t,e,vu(e,i)),this.matchTNodeWithReadOption(t,e,He(e,t,i,!1,!1))}else n===Ma?4&e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,He(e,t,n,!1,!1))}matchTNodeWithReadOption(t,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===aa||r===za||r===Ma&&4&e.type)this.addMatch(e.index,-2);else{const n=He(e,t,r,!1,!1);null!==n&&this.addMatch(e.index,n)}else this.addMatch(e.index,n)}}addMatch(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)}}function vu(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function _u(t,e,n,r){return-1===n?function(t,e){return 11&t.type?sa(t,e):4&t.type?Va(t,e):null}(e,t):-2===n?function(t,e,n){return n===aa?sa(e,t):n===Ma?Va(e,t):n===za?Qa(e,t):void 0}(t,e,r):Ge(t,t[1],n,e)}function bu(t,e,n,r){const i=e[19].queries[r];if(null===i.matches){const r=t.data,s=n.matches,o=[];for(let t=0;t<s.length;t+=2){const i=s[t];o.push(i<0?null:_u(e,r[i],s[t+1],n.metadata.read))}i.matches=o}return i.matches}function wu(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=bu(t,e,i,n);for(let t=0;t<s.length;t+=2){const n=s[t];if(n>0)r.push(o[t/2]);else{const i=s[t+1],o=e[-n];for(let t=10;t<o.length;t++){const e=o[t];e[17]===e[3]&&wu(e[1],e,i,r)}if(null!==o[9]){const t=o[9];for(let e=0;e<t.length;e++){const n=t[e];wu(n[1],n,i,r)}}}}}return r}function Tu(t){const e=jt(),n=Bt(),r=ie();se(r+1);const i=ku(n,r);if(t.dirty&&Lt(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?wu(n,e,r,[]):bu(n,e,i,r);t.reset(s,ua),t.notifyOnChanges()}return!0}return!1}function Eu(t,e,n){const r=Bt();r.firstCreatePass&&(Cu(r,new gu(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),Au(r,jt(),e)}function Su(t,e,n,r){const i=Bt();if(i.firstCreatePass){const s=zt();Cu(i,new gu(e,n,r),s.index),function(t,e){const n=t.contentQueries||(t.contentQueries=[]);e!==(n.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(i,t),2==(2&n)&&(i.staticContentQueries=!0)}Au(i,jt(),n)}function Iu(){return t=jt(),e=ie(),t[19].queries[e].queryList;var t,e}function Au(t,e,n){const r=new du(4==(4&n));Pi(t,e,r,r.destroy),null===e[19]&&(e[19]=new pu),e[19].queries.push(new fu(r))}function Cu(t,e,n){null===t.queries&&(t.queries=new mu),t.queries.track(new yu(e,n))}function ku(t,e){return t.queries.getByIndex(e)}const xu=new nn("Application Initializer");let Ou=(()=>{class t{constructor(t){this.appInits=t,this.resolve=ia,this.reject=ia,this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}runInitializers(){if(this.initialized)return;const t=[],e=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const e=this.appInits[n]();if(Xs(e))t.push(e);else if(eo(e)){const n=new Promise((t,n)=>{e.subscribe({complete:t,error:n})});t.push(n)}}Promise.all(t).then(()=>{e()}).catch(t=>{this.reject(t)}),0===t.length&&e(),this.initialized=!0}}return t.\u0275fac=function(e){return new(e||t)(Tn(xu,8))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();const Nu=new nn("AppId"),Du={provide:Nu,useFactory:function(){return`${Ru()}${Ru()}${Ru()}`},deps:[]};function Ru(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Pu=new nn("Platform Initializer"),Lu=new nn("Platform ID"),Fu=new nn("appBootstrapListener");let Zu=(()=>{class t{log(t){console.log(t)}warn(t){console.warn(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();const Mu=new nn("LocaleId"),Uu=new nn("DefaultCurrencyCode");class qu{constructor(t,e){this.ngModuleFactory=t,this.componentFactories=e}}const Vu=function(t){return new su(t)},ju=Vu,Bu=function(t){return Promise.resolve(Vu(t))},$u=function(t){const e=Vu(t),n=Cr(ct(t).declarations).reduce((t,e)=>{const n=ut(e);return n&&t.push(new eu(n)),t},[]);return new qu(e,n)},zu=$u,Hu=function(t){return Promise.resolve($u(t))};let Gu=(()=>{class t{constructor(){this.compileModuleSync=ju,this.compileModuleAsync=Bu,this.compileModuleAndAllComponentsSync=zu,this.compileModuleAndAllComponentsAsync=Hu}clearCache(){}clearCacheFor(t){}getModuleId(t){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();const Ku=(()=>Promise.resolve(0))();function Wu(t){"undefined"==typeof Zone?Ku.then(()=>{t&&t.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}class Qu{constructor({enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new lu(!1),this.onMicrotaskEmpty=new lu(!1),this.onStable=new lu(!1),this.onError=new lu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&e,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let t=j.requestAnimationFrame,e=j.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){const n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function(t){const e=()=>{!function(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(j,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Xu(t),t.isCheckStableRunning=!0,Ju(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Xu(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{try{return tc(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),ec(t)}},onInvoke:(n,r,i,s,o,a,u)=>{try{return tc(t),n.invoke(i,s,o,a,u)}finally{t.shouldCoalesceRunChangeDetection&&e(),ec(t)}},onHasTask:(e,n,r,i)=>{e.hasTask(r,i),n===r&&("microTask"==i.change?(t._hasPendingMicrotasks=i.microTask,Xu(t),Ju(t)):"macroTask"==i.change&&(t.hasPendingMacrotasks=i.macroTask))},onHandleError:(e,n,r,i)=>(e.handleError(r,i),t.runOutsideAngular(()=>t.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Qu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Qu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(t,e,n){return this._inner.run(t,e,n)}runTask(t,e,n,r){const i=this._inner,s=i.scheduleEventTask("NgZoneEvent: "+r,t,Yu,ia,ia);try{return i.runTask(s,e,n)}finally{i.cancelTask(s)}}runGuarded(t,e,n){return this._inner.runGuarded(t,e,n)}runOutsideAngular(t){return this._outer.run(t)}}const Yu={};function Ju(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Xu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function tc(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function ec(t){t._nesting--,Ju(t)}class nc{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new lu,this.onMicrotaskEmpty=new lu,this.onStable=new lu,this.onError=new lu}run(t,e,n){return t.apply(e,n)}runGuarded(t,e,n){return t.apply(e,n)}runOutsideAngular(t){return t()}runTask(t,e,n,r){return t.apply(e,n)}}let rc=(()=>{class t{constructor(t){this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Qu.assertNotInAngularZone(),Wu(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Wu(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(e=>!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,e,n){let r=-1;e&&e>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(t=>t.timeoutId!==r),t(this._didWork,this.getPendingTasks())},e)),this._callbacks.push({doneCb:t,timeoutId:r,updateCb:n})}whenStable(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(t,e,n){return[]}}return t.\u0275fac=function(e){return new(e||t)(Tn(Qu))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})(),ic=(()=>{class t{constructor(){this._applications=new Map,ac.addToWindow(this)}registerApplication(t,e){this._applications.set(t,e)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,e=!0){return ac.findTestabilityInTree(this,t,e)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();class sc{addToWindow(t){}findTestabilityInTree(t,e,n){return null}}function oc(t){ac=t}let ac=new sc,uc=!0,cc=!1;function lc(){return cc=!0,uc}function hc(){if(cc)throw new Error("Cannot enable prod mode after platform setup.");uc=!1}let dc;const fc=new nn("AllowMultipleToken");class pc{constructor(t,e){this.name=t,this.token=e}}function gc(t,e,n=[]){const r=`Platform: ${e}`,i=new nn(r);return(e=[])=>{let s=mc();if(!s||s.injector.get(fc,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{const t=n.concat(e).concat({provide:i,useValue:!0},{provide:ds,useValue:"platform"});!function(t){if(dc&&!dc.destroyed&&!dc.injector.get(fc,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");dc=t.get(yc);const e=t.get(Pu,null);e&&e.forEach(t=>t())}(Is.create({providers:t,name:r}))}return function(t){const e=mc();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function mc(){return dc&&!dc.destroyed?dc:null}let yc=(()=>{class t{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,e){const n=function(t,e){let n;return n="noop"===t?new nc:("zone.js"===t?void 0:t)||new Qu({enableLongStackTrace:lc(),shouldCoalesceEventChangeDetection:!!(null==e?void 0:e.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==e?void 0:e.ngZoneRunCoalescing)}),n}(e?e.ngZone:void 0,{ngZoneEventCoalescing:e&&e.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:e&&e.ngZoneRunCoalescing||!1}),r=[{provide:Qu,useValue:n}];return n.run(()=>{const i=Is.create({providers:r,parent:this.injector,name:t.moduleType.name}),s=t.create(i),o=s.injector.get(Ir,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const t=n.onError.subscribe({next:t=>{o.handleError(t)}});s.onDestroy(()=>{bc(this._modules,s),t.unsubscribe()})}),function(t,n,r){try{const e=r();return Xs(e)?e.catch(e=>{throw n.runOutsideAngular(()=>t.handleError(e)),e}):e}catch(e){throw n.runOutsideAngular(()=>t.handleError(e)),e}}(o,n,()=>{const t=s.injector.get(Ou);return t.runInitializers(),t.donePromise.then(()=>(zo(s.injector.get(Mu,Bo)||Bo),this._moduleDoBootstrap(s),s))})})}bootstrapModule(t,e=[]){const n=vc({},e);return function(t,e,n){const r=new su(n);return Promise.resolve(r)}(0,0,t).then(t=>this.bootstrapModuleFactory(t,n))}_moduleDoBootstrap(t){const e=t.injector.get(_c);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(t=>e.bootstrap(t));else{if(!t.instance.ngDoBootstrap)throw new Error(`The module ${d(t.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);t.instance.ngDoBootstrap(e)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(t=>t.destroy()),this._destroyListeners.forEach(t=>t()),this._destroyed=!0}get destroyed(){return this._destroyed}}return t.\u0275fac=function(e){return new(e||t)(Tn(Is))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();function vc(t,e){return Array.isArray(e)?e.reduce(vc,t):Object.assign(Object.assign({},t),e)}let _c=(()=>{class t{constructor(t,e,n,r,i){this._zone=t,this._injector=e,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const l=new s.y(t=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{t.next(this._stable),t.complete()})}),h=new s.y(t=>{let e;this._zone.runOutsideAngular(()=>{e=this._zone.onStable.subscribe(()=>{Qu.assertNotInAngularZone(),Wu(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,t.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{Qu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{t.next(!1)}))});return()=>{e.unsubscribe(),n.unsubscribe()}});this.isStable=(0,o.T)(l,h.pipe(t=>(0,u.x)()(function(t,e){return function(e){let n;n="function"==typeof t?t:function(){return t};const r=Object.create(e,a.N);return r.source=e,r.subjectFactory=n,r}}(c)(t))))}bootstrap(t,e){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=t instanceof ta?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);const r=function(t){return t.isBoundToModule}(n)?void 0:this._injector.get(ja),i=n.create(Is.NULL,[],e||n.selector,r),s=i.location.nativeElement,o=i.injector.get(rc,null),a=o&&i.injector.get(ic);return o&&a&&a.registerApplication(s,o),i.onDestroy(()=>{this.detachView(i.hostView),bc(this.components,i),a&&a.unregisterApplication(s)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(t))}finally{this._runningTick=!1}}attachView(t){const e=t;this._views.push(e),e.attachToAppRef(this)}detachView(t){const e=t;bc(this._views,e),e.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Fu,[]).concat(this._bootstrapListeners).forEach(e=>e(t))}ngOnDestroy(){this._views.slice().forEach(t=>t.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return t.\u0275fac=function(e){return new(e||t)(Tn(Qu),Tn(Is),Tn(Ir),Tn(ra),Tn(Ou))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();function bc(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class wc{}class Tc{}const Ec={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let Sc=(()=>{class t{constructor(t,e){this._compiler=t,this._config=e||Ec}load(t){return this.loadAndCompile(t)}loadAndCompile(t){let[e,r]=t.split("#");return void 0===r&&(r="default"),n(8255)(e).then(t=>t[r]).then(t=>Ic(t,e,r)).then(t=>this._compiler.compileModuleAsync(t))}loadFactory(t){let[e,r]=t.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n(8255)(this._config.factoryPathPrefix+e+this._config.factoryPathSuffix).then(t=>t[r+i]).then(t=>Ic(t,e,r))}}return t.\u0275fac=function(e){return new(e||t)(Tn(Gu),Tn(Tc,8))},t.\u0275prov=E({token:t,factory:t.\u0275fac}),t})();function Ic(t,e,n){if(!t)throw new Error(`Cannot find '${n}' in '${e}'`);return t}const Ac=function(t){return null},Cc=gc(null,"core",[{provide:Lu,useValue:"unknown"},{provide:yc,deps:[Is]},{provide:ic,deps:[]},{provide:Zu,deps:[]}]),kc=[{provide:_c,useClass:_c,deps:[Qu,Is,Ir,ra,Ou]},{provide:tu,deps:[Qu],useFactory:function(t){let e=[];return t.onStable.subscribe(()=>{for(;e.length;)e.pop()()}),function(t){e.push(t)}}},{provide:Ou,useClass:Ou,deps:[[new kn,xu]]},{provide:Gu,useClass:Gu,deps:[]},Du,{provide:Aa,useFactory:function(){return La},deps:[]},{provide:ka,useFactory:function(){return Fa},deps:[]},{provide:Mu,useFactory:function(t){return zo(t=t||"undefined"!=typeof $localize&&$localize.locale||Bo),t},deps:[[new Cn(Mu),new kn,new xn]]},{provide:Uu,useValue:"USD"}];let xc=(()=>{class t{constructor(t){}}return t.\u0275fac=function(e){return new(e||t)(Tn(_c))},t.\u0275mod=rt({type:t}),t.\u0275inj=S({providers:kc}),t})()},8939:function(t,e,n){"use strict";n.d(e,{hO:function(){return g},xv:function(){return h},Dh:function(){return l},GT:function(){return u},cc:function(){return m},on:function(){return d},pX:function(){return a}});var r=n(3018),i=n(7841),s=n(6643);t=n.hmd(t);const o=["ngOnDestroy"],a=(t,e,n,r={})=>new Proxy(t,{get:(i,s)=>n.runOutsideAngular(()=>{var i;if(t[s])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(s,t[s]),t[s];if(o.indexOf(s)>-1)return()=>{};const a=e.toPromise().then(t=>{const e=t&&t[s];return"function"==typeof e?e.bind(t):e&&e.then?e.then(t=>n.run(()=>t)):n.run(()=>e)});return new Proxy(()=>{},{get:(t,e)=>a[e],apply:(t,e,n)=>a.then(t=>{var e;const i=t&&t(...n);return(null===(e=null==r?void 0:r.spy)||void 0===e?void 0:e.apply)&&r.spy.apply(s,n,i),i})})})}),u=(t,e)=>{e.forEach(e=>{Object.getOwnPropertyNames(e.prototype||e).forEach(n=>{Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e.prototype||e,n))})})};class c{constructor(t){return t}}const l=new r.OlP("angularfire2.app.options"),h=new r.OlP("angularfire2.app.name");function d(e,n,r){const s="object"==typeof r&&r||{};s.name=s.name||"string"==typeof r&&r||"[DEFAULT]";const o=i.Z.apps.filter(t=>t&&t.name===s.name)[0]||n.runOutsideAngular(()=>i.Z.initializeApp(e,s));try{JSON.stringify(e)!==JSON.stringify(o.options)&&f("error",`${o.name} Firebase App already initialized with different options${t.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(a){}return new c(o)}const f=(t,...e)=>{(0,r.X6Q)()&&"undefined"!=typeof console&&console[t](...e)},p={provide:c,useFactory:d,deps:[l,r.R0b,[new r.FiY,h]]};let g=(()=>{class t{constructor(t){i.Z.registerVersion("angularfire",s.q4.full,"core"),i.Z.registerVersion("angularfire",s.q4.full,"app-compat"),i.Z.registerVersion("angular",r.q4F.full,t.toString())}static initializeApp(e,n){return{ngModule:t,providers:[{provide:l,useValue:e},{provide:h,useValue:n}]}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.Lbi))},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[p]}),t})();function m(t,e,n,r,i){const[,s,o]=globalThis.\u0275AngularfireInstanceCache.find(e=>e[0]===t)||[];if(s)return function(t,e){try{return t.toString()===e.toString()}catch(n){return t===e}}(i,o)||(v("error",`${e} was already initialized on the ${n} Firebase App with different settings.${y?" You may need to reload as Firebase is not HMR aware.":""}`),v("warn",{is:i,was:o})),s;{const e=r();return globalThis.\u0275AngularfireInstanceCache.push([t,e,i]),e}}const y=!!t.hot,v=(t,...e)=>{(0,r.X6Q)()&&"undefined"!=typeof console&&console[t](...e)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},6643:function(t,e,n){"use strict";n.d(e,{q4:function(){return Zn},iC:function(){return Kn},HU:function(){return Hn},vb:function(){return jn},JM:function(){return Vn}});var r=n(3018),i=n(2329),s=n(8239),o=n(5452),a=n(3854),u=n(6034),c=n(5601),l=n(6676);const h="@firebase/installations",d="0.5.2",f=`w:${d}`,p="FIS_v2",g=new a.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function m(t){return t instanceof a.ZR&&t.code.includes("request-failed")}function y({projectId:t}){return`https://firebaseinstallations.googleapis.com/v1/projects/${t}/installations`}function v(t){return{token:t.token,requestStatus:2,expiresIn:I(t.expiresIn),creationTime:Date.now()}}function _(t,e){return b.apply(this,arguments)}function b(){return(b=(0,s.Z)(function*(t,e){const n=(yield e.json()).error;return g.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})})).apply(this,arguments)}function w({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function T(t,{refreshToken:e}){const n=w(t);return n.append("Authorization",function(t){return`${p} ${t}`}(e)),n}function E(t){return S.apply(this,arguments)}function S(){return(S=(0,s.Z)(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function I(t){return Number(t.replace("s","000"))}function A(t,e){return C.apply(this,arguments)}function C(){return(C=(0,s.Z)(function*(t,{fid:e}){const n=y(t),r={method:"POST",headers:w(t),body:JSON.stringify({fid:e,authVersion:p,appId:t.appId,sdkVersion:f})},i=yield E(()=>fetch(n,r));if(i.ok){const t=yield i.json();return{fid:t.fid||e,registrationStatus:2,refreshToken:t.refreshToken,authToken:v(t.authToken)}}throw yield _("Create Installation",i)})).apply(this,arguments)}function k(t){return new Promise(e=>{setTimeout(e,t)})}const x=/^[cdef][\w-]{21}$/;function O(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const e=function(t){return function(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return x.test(e)?e:""}catch(t){return""}}function N(t){return`${t.appName}!${t.appId}`}const D=new Map;function R(t,e){const n=N(t);P(n,e),function(t,e){const n=(!L&&"BroadcastChannel"in self&&(L=new BroadcastChannel("[Firebase] FID Change"),L.onmessage=t=>{P(t.data.key,t.data.fid)}),L);n&&n.postMessage({key:t,fid:e}),0===D.size&&L&&(L.close(),L=null)}(n,e)}function P(t,e){const n=D.get(t);if(n)for(const r of n)r(e)}let L=null;const F="firebase-installations-store";let Z=null;function M(){return Z||(Z=(0,l.openDb)("firebase-installations-database",1,t=>{switch(t.oldVersion){case 0:t.createObjectStore(F)}})),Z}function U(t,e){return q.apply(this,arguments)}function q(){return(q=(0,s.Z)(function*(t,e){const n=N(t),r=(yield M()).transaction(F,"readwrite"),i=r.objectStore(F),s=yield i.get(n);return yield i.put(e,n),yield r.complete,(!s||s.fid!==e.fid)&&R(t,e.fid),e})).apply(this,arguments)}function V(t){return j.apply(this,arguments)}function j(){return(j=(0,s.Z)(function*(t){const e=N(t),n=(yield M()).transaction(F,"readwrite");yield n.objectStore(F).delete(e),yield n.complete})).apply(this,arguments)}function B(t,e){return $.apply(this,arguments)}function $(){return($=(0,s.Z)(function*(t,e){const n=N(t),r=(yield M()).transaction(F,"readwrite"),i=r.objectStore(F),s=yield i.get(n),o=e(s);return void 0===o?yield i.delete(n):yield i.put(o,n),yield r.complete,o&&(!s||s.fid!==o.fid)&&R(t,o.fid),o})).apply(this,arguments)}function z(t){return H.apply(this,arguments)}function H(){return(H=(0,s.Z)(function*(t){let e;const n=yield B(t,n=>{const r=G(n),i=K(t,r);return e=i.registrationPromise,i.installationEntry});return""===n.fid?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}})).apply(this,arguments)}function G(t){return X(t||{fid:O(),registrationStatus:0})}function K(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(g.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(t,e){return W.apply(this,arguments)}(t,n)}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Q(t)}:{installationEntry:e}}function W(){return(W=(0,s.Z)(function*(t,e){try{return U(t,yield A(t,e))}catch(n){throw m(n)&&409===n.customData.serverCode?yield V(t):yield U(t,{fid:e.fid,registrationStatus:0}),n}})).apply(this,arguments)}function Q(t){return Y.apply(this,arguments)}function Y(){return(Y=(0,s.Z)(function*(t){let e=yield J(t);for(;1===e.registrationStatus;)yield k(100),e=yield J(t);if(0===e.registrationStatus){const{installationEntry:e,registrationPromise:n}=yield z(t);return n||e}return e})).apply(this,arguments)}function J(t){return B(t,t=>{if(!t)throw g.create("installation-not-found");return X(t)})}function X(t){return function(t){return 1===t.registrationStatus&&t.registrationTime+1e4<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function tt(t,e){return et.apply(this,arguments)}function et(){return(et=(0,s.Z)(function*({appConfig:t,platformLoggerProvider:e},n){const r=nt(t,n),i=T(t,n),s=e.getImmediate({optional:!0});s&&i.append("x-firebase-client",s.getPlatformInfoString());const o={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:f}})},a=yield E(()=>fetch(r,o));if(a.ok)return v(yield a.json());throw yield _("Generate Auth Token",a)})).apply(this,arguments)}function nt(t,{fid:e}){return`${y(t)}/${e}/authTokens:generate`}function rt(t){return it.apply(this,arguments)}function it(){return(it=(0,s.Z)(function*(t,e=!1){let n;const r=yield B(t.appConfig,r=>{if(!lt(r))throw g.create("not-registered");const i=r.authToken;if(!e&&ht(i))return r;if(1===i.requestStatus)return n=st(t,e),r;{if(!navigator.onLine)throw g.create("app-offline");const e=dt(r);return n=ut(t,e),e}});return n?yield n:r.authToken})).apply(this,arguments)}function st(t,e){return ot.apply(this,arguments)}function ot(){return(ot=(0,s.Z)(function*(t,e){let n=yield at(t.appConfig);for(;1===n.authToken.requestStatus;)yield k(100),n=yield at(t.appConfig);const r=n.authToken;return 0===r.requestStatus?rt(t,e):r})).apply(this,arguments)}function at(t){return B(t,t=>{if(!lt(t))throw g.create("not-registered");return function(t){return 1===t.requestStatus&&t.requestTime+1e4<Date.now()}(t.authToken)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}function ut(t,e){return ct.apply(this,arguments)}function ct(){return(ct=(0,s.Z)(function*(t,e){try{const n=yield tt(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield U(t.appConfig,r),n}catch(n){if(!m(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield U(t.appConfig,n)}else yield V(t.appConfig);throw n}})).apply(this,arguments)}function lt(t){return void 0!==t&&2===t.registrationStatus}function ht(t){return 2===t.requestStatus&&!function(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(t)}function dt(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function ft(){return(ft=(0,s.Z)(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield z(e.appConfig);return r?r.catch(console.error):rt(e).catch(console.error),n.fid})).apply(this,arguments)}function pt(){return(pt=(0,s.Z)(function*(t,e=!1){const n=t;return yield gt(n.appConfig),(yield rt(n,e)).token})).apply(this,arguments)}function gt(t){return mt.apply(this,arguments)}function mt(){return(mt=(0,s.Z)(function*(t){const{registrationPromise:e}=yield z(t);e&&(yield e)})).apply(this,arguments)}function yt(t){return g.create("missing-app-config-values",{valueName:t})}const vt="installations";(0,o._registerComponent)(new u.wA(vt,t=>{const e=t.getProvider("app").getImmediate();return{app:e,appConfig:function(t){if(!t||!t.options)throw yt("App Configuration");if(!t.name)throw yt("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw yt(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e),platformLoggerProvider:(0,o._getProvider)(e,"platform-logger"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,o._registerComponent)(new u.wA("installations-internal",t=>{const e=t.getProvider("app").getImmediate(),n=(0,o._getProvider)(e,vt).getImmediate();return{getId:()=>function(t){return ft.apply(this,arguments)}(n),getToken:t=>function(t){return pt.apply(this,arguments)}(n,t)}},"PRIVATE")),(0,o.registerVersion)(h,d),(0,o.registerVersion)(h,d,"esm2017");const _t="@firebase/remote-config",bt=new a.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class wt{constructor(t,e,n,r){this.client=t,this.storage=e,this.storageCache=n,this.logger=r}isCachedDataFresh(t,e){if(!e)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const n=Date.now()-e,r=n<=t;return this.logger.debug(`Config fetch cache check. Cache age millis: ${n}. Cache max age millis (minimumFetchIntervalMillis setting): ${t}. Is cache hit: ${r}.`),r}fetch(t){var e=this;return(0,s.Z)(function*(){const[n,r]=yield Promise.all([e.storage.getLastSuccessfulFetchTimestampMillis(),e.storage.getLastSuccessfulFetchResponse()]);if(r&&e.isCachedDataFresh(t.cacheMaxAgeMillis,n))return r;t.eTag=r&&r.eTag;const i=yield e.client.fetch(t),s=[e.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===i.status&&s.push(e.storage.setLastSuccessfulFetchResponse(i)),yield Promise.all(s),i})()}}function Tt(t=navigator){return t.languages&&t.languages[0]||t.language}class Et{constructor(t,e,n,r,i,s){this.firebaseInstallations=t,this.sdkVersion=e,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=s}fetch(t){var e=this;return(0,s.Z)(function*(){const[n,r]=yield Promise.all([e.firebaseInstallations.getId(),e.firebaseInstallations.getToken()]),i=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${e.projectId}/namespaces/${e.namespace}:fetch?key=${e.apiKey}`,s={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},o={sdk_version:e.sdkVersion,app_instance_id:n,app_instance_id_token:r,app_id:e.appId,language_code:Tt()},a={method:"POST",headers:s,body:JSON.stringify(o)},u=fetch(i,a),c=new Promise((e,n)=>{t.signal.addEventListener(()=>{const t=new Error("The operation was aborted.");t.name="AbortError",n(t)})});let l;try{yield Promise.race([u,c]),l=yield u}catch(g){let t="fetch-client-network";throw"AbortError"===g.name&&(t="fetch-timeout"),bt.create(t,{originalErrorMessage:g.message})}let h=l.status;const d=l.headers.get("ETag")||void 0;let f,p;if(200===l.status){let t;try{t=yield l.json()}catch(m){throw bt.create("fetch-client-parse",{originalErrorMessage:m.message})}f=t.entries,p=t.state}if("INSTANCE_STATE_UNSPECIFIED"===p?h=500:"NO_CHANGE"===p?h=304:("NO_TEMPLATE"===p||"EMPTY_CONFIG"===p)&&(f={}),304!==h&&200!==h)throw bt.create("fetch-status",{httpStatus:h});return{status:h,eTag:d,config:f}})()}}class St{constructor(t,e){this.client=t,this.storage=e}fetch(t){var e=this;return(0,s.Z)(function*(){const n=(yield e.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return e.attemptFetch(t,n)})()}attemptFetch(t,{throttleEndTimeMillis:e,backoffCount:n}){var r=this;return(0,s.Z)(function*(){yield function(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(bt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(t.signal,e);try{const e=yield r.client.fetch(t);return yield r.storage.deleteThrottleMetadata(),e}catch(i){if(!function(t){if(!(t instanceof a.ZR&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(i))throw i;const e={throttleEndTimeMillis:Date.now()+(0,a.$s)(n),backoffCount:n+1};return yield r.storage.setThrottleMetadata(e),r.attemptFetch(t,e)}})()}}class It{constructor(t,e,n,r,i){this.app=t,this._client=e,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function At(t,e){const n=t.target.error||void 0;return bt.create(e,{originalErrorMessage:n&&n.message})}const Ct="app_namespace_store";class kt{constructor(t,e,n,r=function(){return new Promise((t,n)=>{try{const e=indexedDB.open("firebase_remote_config",1);e.onerror=t=>{n(At(t,"storage-open"))},e.onsuccess=e=>{t(e.target.result)},e.onupgradeneeded=t=>{const e=t.target.result;switch(t.oldVersion){case 0:e.createObjectStore(Ct,{keyPath:"compositeKey"})}}}catch(e){n(bt.create("storage-open",{originalErrorMessage:e}))}})}()){this.appId=t,this.appName=e,this.namespace=n,this.openDbPromise=r}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(t){return this.set("last_fetch_status",t)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(t){return this.set("last_successful_fetch_timestamp_millis",t)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(t){return this.set("last_successful_fetch_response",t)}getActiveConfig(){return this.get("active_config")}setActiveConfig(t){return this.set("active_config",t)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(t){return this.set("active_config_etag",t)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(t){return this.set("throttle_metadata",t)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(t){var e=this;return(0,s.Z)(function*(){const n=yield e.openDbPromise;return new Promise((r,i)=>{const s=n.transaction([Ct],"readonly").objectStore(Ct),o=e.createCompositeKey(t);try{const t=s.get(o);t.onerror=t=>{i(At(t,"storage-get"))},t.onsuccess=t=>{const e=t.target.result;r(e?e.value:void 0)}}catch(a){i(bt.create("storage-get",{originalErrorMessage:a&&a.message}))}})})()}set(t,e){var n=this;return(0,s.Z)(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const o=r.transaction([Ct],"readwrite").objectStore(Ct),a=n.createCompositeKey(t);try{const t=o.put({compositeKey:a,value:e});t.onerror=t=>{s(At(t,"storage-set"))},t.onsuccess=()=>{i()}}catch(u){s(bt.create("storage-set",{originalErrorMessage:u&&u.message}))}})})()}delete(t){var e=this;return(0,s.Z)(function*(){const n=yield e.openDbPromise;return new Promise((r,i)=>{const s=n.transaction([Ct],"readwrite").objectStore(Ct),o=e.createCompositeKey(t);try{const t=s.delete(o);t.onerror=t=>{i(At(t,"storage-delete"))},t.onsuccess=()=>{r()}}catch(a){i(bt.create("storage-delete",{originalErrorMessage:a&&a.message}))}})})()}createCompositeKey(t){return[this.appId,this.appName,this.namespace,t].join()}}class xt{constructor(t){this.storage=t}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var t=this;return(0,s.Z)(function*(){const e=t.storage.getLastFetchStatus(),n=t.storage.getLastSuccessfulFetchTimestampMillis(),r=t.storage.getActiveConfig(),i=yield e;i&&(t.lastFetchStatus=i);const s=yield n;s&&(t.lastSuccessfulFetchTimestampMillis=s);const o=yield r;o&&(t.activeConfig=o)})()}setLastFetchStatus(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)}setLastSuccessfulFetchTimestampMillis(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)}setActiveConfig(t){return this.activeConfig=t,this.storage.setActiveConfig(t)}}function Ot(){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,s.Z)(function*(){if(!(0,a.hl)())return!1;try{return yield(0,a.eu)()}catch(t){return!1}})).apply(this,arguments)}(0,o._registerComponent)(new u.wA("remote-config",function(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw bt.create("registration-window");if(!(0,a.hl)())throw bt.create("indexed-db-unavailable");const{projectId:i,apiKey:s,appId:u}=n.options;if(!i)throw bt.create("registration-project-id");if(!s)throw bt.create("registration-api-key");if(!u)throw bt.create("registration-app-id");const l=new kt(u,n.name,e=e||"firebase"),h=new xt(l),d=new c.Yd(_t);d.logLevel=c.in.ERROR;const f=new Et(r,o.SDK_VERSION,e,i,s,u),p=new St(f,l),g=new wt(p,l,h,d),m=new It(n,g,h,l,d);return function(t){const e=(0,a.m9)(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(m),m},"PUBLIC").setMultipleInstances(!0)),(0,o.registerVersion)(_t,"0.3.1"),(0,o.registerVersion)(_t,"0.3.1","esm2017");const Dt="/firebase-messaging-sw.js",Rt="/firebase-cloud-messaging-push-scope",Pt="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",Lt="google.c.a.c_id",Ft="google.c.a.c_l",Zt="google.c.a.ts",Mt="google.c.a.e";var Ut=(()=>{return(t=Ut||(Ut={})).PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",Ut;var t})();function qt(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Vt(t){const e=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(e),r=new Uint8Array(n.length);for(let i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}const jt="fcm_token_details_db",Bt="fcm_token_object_Store";function $t(t){return zt.apply(this,arguments)}function zt(){return(zt=(0,s.Z)(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(t=>t.name).includes(jt))return null;let e=null;return(yield(0,l.openDb)(jt,5,function(){var n=(0,s.Z)(function*(n){var r;if(n.oldVersion<2||!n.objectStoreNames.contains(Bt))return;const i=n.transaction.objectStore(Bt),s=yield i.index("fcmSenderId").get(t);if(yield i.clear(),s)if(2===n.oldVersion){const t=s;if(!t.auth||!t.p256dh||!t.endpoint)return;e={token:t.fcmToken,createTime:null!==(r=t.createTime)&&void 0!==r?r:Date.now(),subscriptionOptions:{auth:t.auth,p256dh:t.p256dh,endpoint:t.endpoint,swScope:t.swScope,vapidKey:"string"==typeof t.vapidKey?t.vapidKey:qt(t.vapidKey)}}}else if(3===n.oldVersion){const t=s;e={token:t.fcmToken,createTime:t.createTime,subscriptionOptions:{auth:qt(t.auth),p256dh:qt(t.p256dh),endpoint:t.endpoint,swScope:t.swScope,vapidKey:qt(t.vapidKey)}}}else if(4===n.oldVersion){const t=s;e={token:t.fcmToken,createTime:t.createTime,subscriptionOptions:{auth:qt(t.auth),p256dh:qt(t.p256dh),endpoint:t.endpoint,swScope:t.swScope,vapidKey:qt(t.vapidKey)}}}});return function(t){return n.apply(this,arguments)}}())).close(),yield(0,l.deleteDb)(jt),yield(0,l.deleteDb)("fcm_vapid_details_db"),yield(0,l.deleteDb)("undefined"),Ht(e)?e:null})).apply(this,arguments)}function Ht(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const Gt="firebase-messaging-store";let Kt=null;function Wt(){return Kt||(Kt=(0,l.openDb)("firebase-messaging-database",1,t=>{switch(t.oldVersion){case 0:t.createObjectStore(Gt)}})),Kt}function Qt(t){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,s.Z)(function*(t){const e=ne(t),n=yield(yield Wt()).transaction(Gt).objectStore(Gt).get(e);if(n)return n;{const e=yield $t(t.appConfig.senderId);if(e)return yield Jt(t,e),e}})).apply(this,arguments)}function Jt(t,e){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,s.Z)(function*(t,e){const n=ne(t),r=(yield Wt()).transaction(Gt,"readwrite");return yield r.objectStore(Gt).put(e,n),yield r.complete,e})).apply(this,arguments)}function te(t){return ee.apply(this,arguments)}function ee(){return(ee=(0,s.Z)(function*(t){const e=ne(t),n=(yield Wt()).transaction(Gt,"readwrite");yield n.objectStore(Gt).delete(e),yield n.complete})).apply(this,arguments)}function ne({appConfig:t}){return t.appId}const re=new a.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function ie(t,e){return se.apply(this,arguments)}function se(){return(se=(0,s.Z)(function*(t,e){const n=yield he(t),r=fe(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(le(t.appConfig),i)).json()}catch(o){throw re.create("token-subscribe-failed",{errorInfo:o})}if(s.error)throw re.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw re.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function oe(t,e){return ae.apply(this,arguments)}function ae(){return(ae=(0,s.Z)(function*(t,e){const n=yield he(t),r=fe(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${le(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw re.create("token-update-failed",{errorInfo:o})}if(s.error)throw re.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw re.create("token-update-no-token");return s.token})).apply(this,arguments)}function ue(t,e){return ce.apply(this,arguments)}function ce(){return(ce=(0,s.Z)(function*(t,e){const n={method:"DELETE",headers:yield he(t)};try{const r=yield(yield fetch(`${le(t.appConfig)}/${e}`,n)).json();if(r.error)throw re.create("token-unsubscribe-failed",{errorInfo:r.error.message})}catch(r){throw re.create("token-unsubscribe-failed",{errorInfo:r})}})).apply(this,arguments)}function le({projectId:t}){return`https://fcmregistrations.googleapis.com/v1/projects/${t}/registrations`}function he(t){return de.apply(this,arguments)}function de(){return(de=(0,s.Z)(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function fe({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==Pt&&(i.web.applicationPubKey=r),i}const pe=6048e5;function ge(t){return me.apply(this,arguments)}function me(){return(me=(0,s.Z)(function*(t){const e=yield Ee(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:qt(e.getKey("auth")),p256dh:qt(e.getKey("p256dh"))},r=yield Qt(t.firebaseDependencies);if(r){if(Ie(r.subscriptionOptions,n))return Date.now()>=r.createTime+pe?_e(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield ue(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return we(t.firebaseDependencies,n)}return we(t.firebaseDependencies,n)})).apply(this,arguments)}function ye(t){return ve.apply(this,arguments)}function ve(){return(ve=(0,s.Z)(function*(t){const e=yield Qt(t.firebaseDependencies);e&&(yield ue(t.firebaseDependencies,e.token),yield te(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()})).apply(this,arguments)}function _e(t,e){return be.apply(this,arguments)}function be(){return(be=(0,s.Z)(function*(t,e){try{const n=yield oe(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield Jt(t.firebaseDependencies,r),n}catch(n){throw yield ye(t),n}})).apply(this,arguments)}function we(t,e){return Te.apply(this,arguments)}function Te(){return(Te=(0,s.Z)(function*(t,e){const n={token:yield ie(t,e),createTime:Date.now(),subscriptionOptions:e};return yield Jt(t,n),n.token})).apply(this,arguments)}function Ee(t,e){return Se.apply(this,arguments)}function Se(){return(Se=(0,s.Z)(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Vt(e)})})).apply(this,arguments)}function Ie(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}function Ae(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcm_message_id};return function(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i)}(e,t),function(t,e){!e.data||(t.data=e.data)}(e,t),function(t,e){if(!e.fcmOptions)return;t.fcmOptions={};const n=e.fcmOptions.link;n&&(t.fcmOptions.link=n);const r=e.fcmOptions.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}(e,t),e}function Ce(t){return"object"==typeof t&&!!t&&Lt in t}function ke(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function xe(t){return re.create("missing-app-config-values",{valueName:t})}ke("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ke("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Oe{constructor(t,e,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const r=function(t){if(!t||!t.options)throw xe("App Configuration Object");if(!t.name)throw xe("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw xe(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(t);this.firebaseDependencies={app:t,appConfig:r,installations:e,analyticsProvider:n}}_delete(){return Promise.resolve()}}function Ne(t){return De.apply(this,arguments)}function De(){return(De=(0,s.Z)(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(Dt,{scope:Rt}),t.swRegistration.update().catch(()=>{})}catch(e){throw re.create("failed-service-worker-registration",{browserErrorMessage:e.message})}})).apply(this,arguments)}function Re(t,e){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,s.Z)(function*(t,e){if(!e&&!t.swRegistration&&(yield Ne(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw re.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function Le(t,e){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,s.Z)(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=Pt)})).apply(this,arguments)}function Ze(){return(Ze=(0,s.Z)(function*(t,e){if(!navigator)throw re.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw re.create("permission-blocked");return yield Le(t,null==e?void 0:e.vapidKey),yield Re(t,null==e?void 0:e.serviceWorkerRegistration),ge(t)})).apply(this,arguments)}function Me(t,e,n){return Ue.apply(this,arguments)}function Ue(){return(Ue=(0,s.Z)(function*(t,e,n){const r=qe(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[Lt],message_name:n[Ft],message_time:n[Zt],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function qe(t){switch(t){case Ut.NOTIFICATION_CLICKED:return"notification_open";case Ut.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Ve(){return(Ve=(0,s.Z)(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===Ut.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(Ae(n)):t.onMessageHandler.next(Ae(n)));const r=n.data;Ce(r)&&"1"===r[Mt]&&(yield Me(t,n.messageType,r))})).apply(this,arguments)}const je="@firebase/messaging";function Be(){return $e.apply(this,arguments)}function $e(){return($e=(0,s.Z)(function*(){return"undefined"!=typeof window&&(0,a.hl)()&&(yield(0,a.eu)())&&(0,a.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,o._registerComponent)(new u.wA("messaging",t=>{const e=new Oe(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function(t,e){return Ve.apply(this,arguments)}(e,t)),e},"PUBLIC")),(0,o._registerComponent)(new u.wA("messaging-internal",t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:t=>function(t,e){return Ze.apply(this,arguments)}(e,t)}},"PRIVATE")),(0,o.registerVersion)(je,"0.9.2"),(0,o.registerVersion)(je,"0.9.2","esm2017");const ze="analytics",He="firebase_id",Ge="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Ke="https://www.googletagmanager.com/gtag/js",We=new c.Yd("@firebase/analytics");function Qe(t){return Promise.all(t.map(t=>t.catch(t=>t)))}function Ye(t,e){const n=document.createElement("script");n.src=`${Ke}?l=${t}&id=${e}`,n.async=!0,document.head.appendChild(n)}function Je(t,e,n,r,i,s){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,s.Z)(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const t=(yield Qe(n)).find(t=>t.measurementId===i);t&&(yield e[t.appId])}}catch(a){We.error(a)}t("config",i,s)})).apply(this,arguments)}function tn(t,e,n,r,i){return en.apply(this,arguments)}function en(){return(en=(0,s.Z)(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let t=i.send_to;Array.isArray(t)||(t=[t]);const r=yield Qe(n);for(const n of t){const t=r.find(t=>t.measurementId===n),i=t&&e[t.appId];if(!i){s=[];break}s.push(i)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){We.error(s)}})).apply(this,arguments)}function nn(){const t=window.document.getElementsByTagName("script");for(const e of Object.values(t))if(e.src&&e.src.includes(Ke))return e;return null}const rn=new a.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),sn=new class{constructor(t={},e=1e3){this.throttleMetadata=t,this.intervalMillis=e}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,e){this.throttleMetadata[t]=e}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}};function on(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function an(t){return un.apply(this,arguments)}function un(){return(un=(0,s.Z)(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:on(r)},s=Ge.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let t="";try{const n=yield o.json();(null===(e=n.error)||void 0===e?void 0:e.message)&&(t=n.error.message)}catch(a){}throw rn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:t})}return o.json()})).apply(this,arguments)}function cn(t){return ln.apply(this,arguments)}function ln(){return(ln=(0,s.Z)(function*(t,e=sn,n){const{appId:r,apiKey:i,measurementId:o}=t.options;if(!r)throw rn.create("no-app-id");if(!i){if(o)return{measurementId:o,appId:r};throw rn.create("no-api-key")}const a=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},u=new gn;return setTimeout((0,s.Z)(function*(){u.abort()}),void 0!==n?n:6e4),hn({appId:r,apiKey:i,measurementId:o},a,u,e)})).apply(this,arguments)}function hn(t,e,n){return dn.apply(this,arguments)}function dn(){return(dn=(0,s.Z)(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=sn){const{appId:s,measurementId:o}=t;try{yield fn(r,e)}catch(u){if(o)return We.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${u.message}]`),{appId:s,measurementId:o};throw u}try{const e=yield an(t);return i.deleteThrottleMetadata(s),e}catch(u){if(!pn(u)){if(i.deleteThrottleMetadata(s),o)return We.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${u.message}]`),{appId:s,measurementId:o};throw u}const e=503===Number(u.customData.httpStatus)?(0,a.$s)(n,i.intervalMillis,30):(0,a.$s)(n,i.intervalMillis),c={throttleEndTimeMillis:Date.now()+e,backoffCount:n+1};return i.setThrottleMetadata(s,c),We.debug(`Calling attemptFetch again in ${e} millis`),hn(t,c,r,i)}})).apply(this,arguments)}function fn(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(rn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function pn(t){if(!(t instanceof a.ZR&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}class gn{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}function mn(){return yn.apply(this,arguments)}function yn(){return(yn=(0,s.Z)(function*(){if(!(0,a.hl)())return We.warn(rn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,a.eu)()}catch(t){return We.warn(rn.create("indexeddb-unavailable",{errorInfo:t}).message),!1}return!0})).apply(this,arguments)}function vn(){return(vn=(0,s.Z)(function*(t,e,n,r,i,s,o){var a;const u=cn(t);u.then(e=>{n[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&We.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${e.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(t=>We.error(t)),e.push(u);const c=mn().then(t=>{if(t)return r.getId()}),[l,h]=yield Promise.all([u,c]);nn()||Ye(s,l.measurementId),i("js",new Date);const d=null!==(a=null==o?void 0:o.config)&&void 0!==a?a:{};return d.origin="firebase",d.update=!0,null!=h&&(d[He]=h),i("config",l.measurementId,d),l.measurementId})).apply(this,arguments)}class _n{constructor(t){this.app=t}_delete(){return delete bn[this.app.options.appId],Promise.resolve()}}let bn={},wn=[];const Tn={};let En,Sn,In="dataLayer",An=!1;function Cn(t,e,n){!function(){const t=[];if((0,a.ru)()&&t.push("This is a browser extension environment."),(0,a.zI)()||t.push("Cookies are not available."),t.length>0){const e=t.map((t,e)=>`(${e+1}) ${t}`).join(" "),n=rn.create("invalid-analytics-context",{errorInfo:e});We.warn(n.message)}}();const r=t.options.appId;if(!r)throw rn.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw rn.create("no-api-key");We.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=bn[r])throw rn.create("already-exists",{id:r});if(!An){!function(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(In);const{wrappedGtag:t,gtagCore:e}=function(t,e,n,r,i){let o=function(...t){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(o=window[i]),window[i]=function(t,e,n,r){function i(){return(i=(0,s.Z)(function*(i,s,o){try{"event"===i?yield tn(t,e,n,s,o):"config"===i?yield Je(t,e,n,r,s,o):t("set",s)}catch(a){We.error(a)}})).apply(this,arguments)}return function(t,e,n){return i.apply(this,arguments)}}(o,t,e,n),{gtagCore:o,wrappedGtag:window[i]}}(bn,wn,Tn,In,"gtag");Sn=t,En=e,An=!0}return bn[r]=function(t,e,n,r,i,s,o){return vn.apply(this,arguments)}(t,wn,Tn,e,En,In,n),new _n(t)}function kn(){return(kn=(0,s.Z)(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const i=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:i}))}})).apply(this,arguments)}function xn(){return On.apply(this,arguments)}function On(){return(On=(0,s.Z)(function*(){if((0,a.ru)()||!(0,a.zI)()||!(0,a.hl)())return!1;try{return yield(0,a.eu)()}catch(t){return!1}})).apply(this,arguments)}const Nn="@firebase/analytics";(0,o._registerComponent)(new u.wA(ze,(t,{options:e})=>Cn(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),e),"PUBLIC")),(0,o._registerComponent)(new u.wA("analytics-internal",function(t){try{const e=t.getProvider(ze).getImmediate();return{logEvent:(t,n,r)=>function(t,e,n,r){t=(0,a.m9)(t),function(t,e,n,r,i){return kn.apply(this,arguments)}(Sn,bn[t.app.options.appId],e,n,r).catch(t=>We.error(t))}(e,t,n,r)}}catch(e){throw rn.create("interop-component-reg-failed",{reason:e})}},"PRIVATE")),(0,o.registerVersion)(Nn,"0.7.2"),(0,o.registerVersion)(Nn,"0.7.2","esm2017");var Dn=n(7771),Rn=n(3637),Pn=n(3342),Ln=n(3101),Fn=n(309);const Zn=new r.GfV("7.1.1"),Mn="__angularfire_symbol__analyticsIsSupported",Un="__angularfire_symbol__remoteConfigIsSupported",qn="__angularfire_symbol__messagingIsSupported";function Vn(t,e,n){if(e){if(1===e.length)return e[0];const t=e.filter(t=>t.app===n);if(1===t.length)return t[0]}return n.container.getProvider(t).getImmediate({optional:!0})}globalThis[Mn]||(globalThis[Mn]=xn().then(t=>globalThis.__angularfire_symbol__analyticsIsSupportedValue=t)),globalThis[qn]||(globalThis[qn]=Be().then(t=>globalThis.__angularfire_symbol__messagingIsSupportedValue=t)),globalThis[Un]||(globalThis[Un]=Ot().then(t=>globalThis.__angularfire_symbol__remoteConfigIsSupportedValue=t));const jn=(t,e)=>{const n=e?[e]:(0,i.C6)(),r=[];return n.forEach(e=>{e.container.getProvider(t).instances.forEach(t=>{r.includes(t)||r.push(t)})}),r};function Bn(){}class $n{constructor(t,e=Dn.N){this.zone=t,this.delegate=e}now(){return this.delegate.now()}schedule(t,e,n){const r=this.zone;return this.delegate.schedule(function(e){r.runGuarded(()=>{t.apply(this,[e])})},e,n)}}class zn{constructor(t){this.zone=t,this.task=null}call(t,e){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Bn,{},Bn,Bn)),e.pipe((0,Pn.b)({next:n,complete:n,error:n})).subscribe(t).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Hn=(()=>{class t{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new $n(Zone.current)),this.insideAngular=t.run(()=>new $n(Zone.current,Rn.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.R0b))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function Gn(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function Kn(t){return Gn(),function(t){return function(e){return(e=e.lift(new zn(t.ngZone))).pipe((0,Ln.R)(t.outsideAngular),(0,Fn.QV)(t.insideAngular))}}(Gn())(t)}},4486:function(t,e,n){"use strict";n.d(e,{Z:function(){return h}});var r=n(3854),i=n(6034),s=n(5452),o=n(5601);class a{constructor(t,e){this._delegate=t,this.firebase=e,(0,s._addComponent)(t,new i.wA("app-compat",()=>this,"PUBLIC")),this.container=t.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this._delegate.automaticDataCollectionEnabled=t}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(t=>{this._delegate.checkDestroyed(),t()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,s.deleteApp)(this._delegate)))}_getService(t,e=s._DEFAULT_ENTRY_NAME){var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(t);return!r.isInitialized()&&"EXPLICIT"===(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)&&r.initialize(),r.getImmediate({identifier:e})}_removeServiceInstance(t,e=s._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(t).clearInstance(e)}_addComponent(t){(0,s._addComponent)(this._delegate,t)}_addOrOverwriteComponent(t){(0,s._addOrOverwriteComponent)(this._delegate,t)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const u=new r.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),c=function t(){const e=function(t){const e={},n={__esModule:!0,initializeApp:function(i,o={}){const a=s.initializeApp(i,o);if((0,r.r3)(e,a.name))return e[a.name];const u=new t(a,n);return e[a.name]=u,u},app:i,registerVersion:s.registerVersion,setLogLevel:s.setLogLevel,onLog:s.onLog,apps:null,SDK_VERSION:s.SDK_VERSION,INTERNAL:{registerComponent:function(e){const o=e.name,a=o.replace("-compat","");if(s._registerComponent(e)&&"PUBLIC"===e.type){const s=(t=i())=>{if("function"!=typeof t[a])throw u.create("invalid-app-argument",{appName:o});return t[a]()};void 0!==e.serviceProps&&(0,r.ZB)(s,e.serviceProps),n[a]=s,t.prototype[a]=function(...t){return this._getService.bind(this,o).apply(this,e.multipleInstances?t:[])}}return"PUBLIC"===e.type?n[a]:null},removeApp:function(t){delete e[t]},useAsService:function(t,e){return"serverAuth"===e?null:e},modularAPIs:s}};function i(t){if(!(0,r.r3)(e,t=t||s._DEFAULT_ENTRY_NAME))throw u.create("no-app",{appName:t});return e[t]}return n.default=n,Object.defineProperty(n,"apps",{get:function(){return Object.keys(e).map(t=>e[t])}}),i.App=t,n}(a);return e.INTERNAL=Object.assign(Object.assign({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){(0,r.ZB)(e,t)},createSubscribe:r.ne,ErrorFactory:r.LL,deepExtend:r.ZB}),e}(),l=new o.Yd("@firebase/app-compat");if((0,r.jU)()&&void 0!==self.firebase){l.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const t=self.firebase.SDK_VERSION;t&&t.indexOf("LITE")>=0&&l.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const h=c;(0,s.registerVersion)("@firebase/app-compat","0.1.5",undefined)},5452:function(t,e,n){"use strict";n.r(e),n.d(e,{FirebaseError:function(){return o.ZR},SDK_VERSION:function(){return T},_DEFAULT_ENTRY_NAME:function(){return l},_addComponent:function(){return p},_addOrOverwriteComponent:function(){return g},_apps:function(){return d},_clearComponents:function(){return _},_components:function(){return f},_getProvider:function(){return y},_registerComponent:function(){return m},_removeServiceInstance:function(){return v},deleteApp:function(){return A},getApp:function(){return S},getApps:function(){return I},initializeApp:function(){return E},onLog:function(){return x},registerVersion:function(){return k},setLogLevel:function(){return O}});var r=n(8239),i=n(6034),s=n(5601),o=n(3854);class a{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function(t){const e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}(t)){const e=t.getImmediate();return`${e.library}/${e.version}`}return null}).filter(t=>t).join(" ")}}const u="@firebase/app",c=new s.Yd("@firebase/app"),l="[DEFAULT]",h={[u]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},d=new Map,f=new Map;function p(t,e){try{t.container.addComponent(e)}catch(n){c.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function g(t,e){t.container.addOrOverwriteComponent(e)}function m(t){const e=t.name;if(f.has(e))return c.debug(`There were multiple attempts to register component ${e}.`),!1;f.set(e,t);for(const n of d.values())p(n,t);return!0}function y(t,e){return t.container.getProvider(e)}function v(t,e,n=l){y(t,e).clearInstance(n)}function _(){f.clear()}const b=new o.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function."});class w{constructor(t,e,n){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new i.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw b.create("app-deleted",{appName:this._name})}}const T="9.1.3";function E(t,e={}){"object"!=typeof e&&(e={name:e});const n=Object.assign({name:l,automaticDataCollectionEnabled:!1},e),r=n.name;if("string"!=typeof r||!r)throw b.create("bad-app-name",{appName:String(r)});const s=d.get(r);if(s){if((0,o.vZ)(t,s.options)&&(0,o.vZ)(n,s.config))return s;throw b.create("duplicate-app",{appName:r})}const a=new i.H0(r);for(const i of f.values())a.addComponent(i);const u=new w(t,n,a);return d.set(r,u),u}function S(t=l){const e=d.get(t);if(!e)throw b.create("no-app",{appName:t});return e}function I(){return Array.from(d.values())}function A(t){return C.apply(this,arguments)}function C(){return(C=(0,r.Z)(function*(t){const e=t.name;d.has(e)&&(d.delete(e),yield Promise.all(t.container.getProviders().map(t=>t.delete())),t.isDeleted=!0)})).apply(this,arguments)}function k(t,e,n){var r;let s=null!==(r=h[t])&&void 0!==r?r:t;n&&(s+=`-${n}`);const o=s.match(/\s|\//),a=e.match(/\s|\//);if(o||a){const t=[`Unable to register library "${s}" with version "${e}":`];return o&&t.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&a&&t.push("and"),a&&t.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void c.warn(t.join(" "))}m(new i.wA(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}function x(t,e){if(null!==t&&"function"!=typeof t)throw b.create("invalid-log-argument");(0,s.Am)(t,e)}function O(t){(0,s.Ub)(t)}m(new i.wA("platform-logger",t=>new a(t),"PRIVATE")),k(u,"0.7.4",""),k(u,"0.7.4","esm2017"),k("fire-js","")},6034:function(t,e,n){"use strict";n.d(e,{wA:function(){return s},H0:function(){return c}});var r=n(4762),i=n(3854),s=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t.prototype.setInstanceCreatedCallback=function(t){return this.onInstanceCreated=t,this},t}(),o="[DEFAULT]",a=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return t.prototype.get=function(t){var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new i.BH;if(this.instancesDeferred.set(e,n),this.isInitialized(e)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:e});r&&n.resolve(r)}catch(s){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e,n=this.normalizeInstanceIdentifier(null==t?void 0:t.identifier),r=null!==(e=null==t?void 0:t.optional)&&void 0!==e&&e;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service "+this.name+" is not available")}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,this.shouldAutoInitialize()){if(function(t){return"EAGER"===t.instantiationMode}(t))try{this.getOrInitializeService({instanceIdentifier:o})}catch(h){}try{for(var i=(0,r.XA)(this.instancesDeferred.entries()),s=i.next();!s.done;s=i.next()){var a=(0,r.CR)(s.value,2),u=a[1],c=this.normalizeInstanceIdentifier(a[0]);try{var l=this.getOrInitializeService({instanceIdentifier:c});u.resolve(l)}catch(h){}}}catch(h){e={error:h}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}}},t.prototype.clearInstance=function(t){void 0===t&&(t=o),this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return(0,r.mG)(this,void 0,void 0,function(){var t;return(0,r.Jh)(this,function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all((0,r.ev)((0,r.ev)([],(0,r.CR)(t.filter(function(t){return"INTERNAL"in t}).map(function(t){return t.INTERNAL.delete()}))),(0,r.CR)(t.filter(function(t){return"_delete"in t}).map(function(t){return t._delete()}))))];case 1:return e.sent(),[2]}})})},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.isInitialized=function(t){return void 0===t&&(t=o),this.instances.has(t)},t.prototype.getOptions=function(t){return void 0===t&&(t=o),this.instancesOptions.get(t)||{}},t.prototype.initialize=function(t){var e,n;void 0===t&&(t={});var i=t.options,s=void 0===i?{}:i,o=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(o))throw Error(this.name+"("+o+") has already been initialized");if(!this.isComponentSet())throw Error("Component "+this.name+" has not been registered yet");var a=this.getOrInitializeService({instanceIdentifier:o,options:s});try{for(var u=(0,r.XA)(this.instancesDeferred.entries()),c=u.next();!c.done;c=u.next()){var l=(0,r.CR)(c.value,2),h=l[1];o===this.normalizeInstanceIdentifier(l[0])&&h.resolve(a)}}catch(d){e={error:d}}finally{try{c&&!c.done&&(n=u.return)&&n.call(u)}finally{if(e)throw e.error}}return a},t.prototype.onInit=function(t,e){var n,r=this.normalizeInstanceIdentifier(e),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(t),this.onInitCallbacks.set(r,i);var s=this.instances.get(r);return s&&t(s,r),function(){i.delete(t)}},t.prototype.invokeOnInitCallbacks=function(t,e){var n,i,s=this.onInitCallbacks.get(e);if(s)try{for(var o=(0,r.XA)(s),a=o.next();!a.done;a=o.next()){var u=a.value;try{u(t,e)}catch(c){}}}catch(c){n={error:c}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(n)throw n.error}}},t.prototype.getOrInitializeService=function(t){var e=t.instanceIdentifier,n=t.options,r=void 0===n?{}:n,i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:u(e),options:r}),this.instances.set(e,i),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch(s){}return i||null},t.prototype.normalizeInstanceIdentifier=function(t){return void 0===t&&(t=o),this.component?this.component.multipleInstances?t:o:t},t.prototype.shouldAutoInitialize=function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode},t}();function u(t){return t===o?void 0:t}var c=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new a(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}()},5601:function(t,e,n){"use strict";n.d(e,{in:function(){return i},Yd:function(){return c},Ub:function(){return l},Am:function(){return h}});const r=[];var i=(()=>{return(t=i||(i={}))[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",i;var t})();const s={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},o=i.INFO,a={[i.DEBUG]:"log",[i.VERBOSE]:"log",[i.INFO]:"info",[i.WARN]:"warn",[i.ERROR]:"error"},u=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=a[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class c{constructor(t){this.name=t,this._logLevel=o,this._logHandler=u,this._userLogHandler=null,r.push(this)}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in i))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel="string"==typeof t?s[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,i.DEBUG,...t),this._logHandler(this,i.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,i.VERBOSE,...t),this._logHandler(this,i.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,i.INFO,...t),this._logHandler(this,i.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,i.WARN,...t),this._logHandler(this,i.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,i.ERROR,...t),this._logHandler(this,i.ERROR,...t)}}function l(t){r.forEach(e=>{e.setLogLevel(t)})}function h(t,e){for(const n of r){let r=null;e&&e.level&&(r=s[e.level]),n.userLogHandler=null===t?null:(e,n,...s)=>{const o=s.map(t=>{if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(e){return null}}).filter(t=>t).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:i[n].toLowerCase(),message:o,args:s,type:e.name})}}}},3854:function(t,e,n){"use strict";n.d(e,{BH:function(){return c},LL:function(){return I},ZR:function(){return S},zI:function(){return E},US:function(){return i},tV:function(){return o},$s:function(){return Z},r3:function(){return C},Sg:function(){return l},ne:function(){return P},vZ:function(){return x},ZB:function(){return a},pd:function(){return R},m9:function(){return M},z$:function(){return h},jU:function(){return p},ru:function(){return g},d:function(){return y},xb:function(){return k},w1:function(){return v},hl:function(){return w},uI:function(){return d},UG:function(){return f},b$:function(){return m},G6:function(){return b},Mn:function(){return _},xO:function(){return N},zd:function(){return D},eu:function(){return T}});const r=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},i={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const e=t[i],s=i+1<t.length,o=s?t[i+1]:0,a=i+2<t.length,u=a?t[i+2]:0;let c=(15&o)<<2|u>>6,l=63&u;a||(l=64,s||(c=64)),r.push(n[e>>2],n[(3&e)<<4|o>>4],n[c],n[l])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(r(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const e=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0;++i;const o=i<t.length?n[t.charAt(i)]:64;++i;const a=i<t.length?n[t.charAt(i)]:64;if(++i,null==e||null==s||null==o||null==a)throw Error();r.push(e<<2|s>>4),64!==o&&(r.push(s<<4&240|o>>2),64!==a&&r.push(o<<6&192|a))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},s=function(t){return function(t){const e=r(t);return i.encodeByteArray(e,!0)}(t).replace(/\./g,"")},o=function(t){try{return i.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function a(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!u(n)||(t[n]=a(t[n],e[n]));return t}function u(t){return"__proto__"!==t}class c{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,n)=>{e?this.reject(e):this.resolve(n),"function"==typeof t&&(this.promise.catch(()=>{}),1===t.length?t(e):t(e,n))}}}function l(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=e||"demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[s(JSON.stringify({alg:"none",type:"JWT"})),s(JSON.stringify(o)),""].join(".")}function h(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function d(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(h())}function f(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function p(){return"object"==typeof self&&self.self===self}function g(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function m(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function y(){return h().indexOf("Electron/")>=0}function v(){const t=h();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function _(){return h().indexOf("MSAppHost/")>=0}function b(){return!f()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function w(){return"object"==typeof indexedDB}function T(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(n){e(n)}})}function E(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class S extends Error{constructor(t,e,n){super(e),this.code=t,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,S.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,I.prototype.create)}}class I{constructor(t,e,n){this.service=t,this.serviceName=e,this.errors=n}create(t,...e){const n=e[0]||{},r=`${this.service}/${t}`,i=this.errors[t],s=i?function(t,e){return t.replace(A,(t,n)=>{const r=e[n];return null!=r?String(r):`<${n}?>`})}(i,n):"Error";return new S(r,`${this.serviceName}: ${s} (${r}).`,n)}}const A=/\{\$([^}]+)}/g;function C(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function k(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function x(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const n=t[i],s=e[i];if(O(n)&&O(s)){if(!x(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function O(t){return null!==t&&"object"==typeof t}function N(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(t=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(t))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function D(t){const e={};return t.replace(/^\?/,"").split("&").forEach(t=>{if(t){const[n,r]=t.split("=");e[decodeURIComponent(n)]=decodeURIComponent(r)}}),e}function R(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function P(t,e){const n=new L(t,e);return n.subscribe.bind(n)}class L{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(t=>{this.error(t)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,n){let r;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");r=function(t,e){if("object"!=typeof t||null===t)return!1;for(const n of["next","error","complete"])if(n in t&&"function"==typeof t[n])return!0;return!1}(t)?t:{next:t,error:e,complete:n},void 0===r.next&&(r.next=F),void 0===r.error&&(r.error=F),void 0===r.complete&&(r.complete=F);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(t){}}),this.observers.push(r),i}unsubscribeOne(t){void 0===this.observers||void 0===this.observers[t]||(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[t])try{e(this.observers[t])}catch(n){"undefined"!=typeof console&&console.error&&console.error(n)}})}close(t){this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function F(){}function Z(t,e=1e3,n=2){const r=e*Math.pow(n,t),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function M(t){return t&&t._delegate?t._delegate:t}},2329:function(t,e,n){"use strict";n.d(e,{Mq:function(){return r.getApp},C6:function(){return r.getApps}});var r=n(5452);(0,r.registerVersion)("firebase","9.1.3","app")},7841:function(t,e,n){"use strict";n.d(e,{Z:function(){return r.Z}});var r=n(4486);r.Z.registerVersion("firebase","9.1.3","app-compat")},4671:function(t,e,n){"use strict";n.r(e);var r=n(8239),i=n(4486),s=n(3854),o=n(5452),a=n(4762),u=n(5601),c=n(6034);const l=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},h=function(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},d=new s.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),f=new u.Yd("@firebase/auth");function p(t,...e){f.logLevel<=u.in.ERROR&&f.error(`Auth (${o.SDK_VERSION}): ${t}`,...e)}function g(t,...e){throw _(t,...e)}function m(t,...e){return _(t,...e)}function y(t,e,n){const r=Object.assign(Object.assign({},h()),{[e]:n});return new s.LL("auth","Firebase",r).create(e,{appName:t.name})}function v(t,e,n){if(!(e instanceof n))throw n.name!==e.constructor.name&&g(t,"argument-error"),y(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function _(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return d.create(t,...e)}function b(t,e,...n){if(!t)throw _(e,...n)}function w(t){const e="INTERNAL ASSERTION FAILED: "+t;throw p(e),new Error(e)}function T(t,e){t||w(e)}const E=new Map;function S(t){T(t instanceof Function,"Expected a class definition");let e=E.get(t);return e?(T(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,E.set(t,e),e)}function I(){var t;return"undefined"!=typeof self&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function A(){return"http:"===C()||"https:"===C()}function C(){var t;return"undefined"!=typeof self&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class k{constructor(t,e){this.shortDelay=t,this.longDelay=e,T(e>t,"Short delay should be less than long delay!"),this.isMobile=(0,s.uI)()||(0,s.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(A()||(0,s.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function x(t,e){T(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class O{static initialize(t,e,n){this.fetchImpl=t,e&&(this.headersImpl=e),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void w("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void w("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void w("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const N={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},D=new k(3e4,6e4);function R(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function P(t,e,n,r){return L.apply(this,arguments)}function L(){return(L=(0,r.Z)(function*(t,e,n,r,i={}){return F(t,i,()=>{let i={},o={};r&&("GET"===e?o=r:i={body:JSON.stringify(r)});const a=(0,s.xO)(Object.assign({key:t.config.apiKey},o)).slice(1),u=new(O.headers());return u.set("Content-Type","application/json"),u.set("X-Client-Version",t._getSdkClientVersion()),t.languageCode&&u.set("X-Firebase-Locale",t.languageCode),O.fetch()(q(t,t.config.apiHost,n,a),Object.assign({method:e,headers:u,referrerPolicy:"no-referrer"},i))})})).apply(this,arguments)}function F(t,e,n){return Z.apply(this,arguments)}function Z(){return(Z=(0,r.Z)(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},N),e);try{const e=new V(t),i=yield Promise.race([n(),e.promise]);e.clearNetworkTimeout();const s=yield i.json();if("needConfirmation"in s)throw j(t,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const e=i.ok?s.errorMessage:s.error.message,[n,o]=e.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw j(t,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw j(t,"email-already-in-use",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw y(t,a,o);g(t,a)}}catch(i){if(i instanceof s.ZR)throw i;g(t,"network-request-failed")}})).apply(this,arguments)}function M(t,e,n,r){return U.apply(this,arguments)}function U(){return(U=(0,r.Z)(function*(t,e,n,r,i={}){const s=yield P(t,e,n,r,i);return"mfaPendingCredential"in s&&g(t,"multi-factor-auth-required",{serverResponse:s}),s})).apply(this,arguments)}function q(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?x(t.config,i):`${t.config.apiScheme}://${i}`}class V{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((t,e)=>{this.timer=setTimeout(()=>e(m(this.auth,"timeout")),D.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function j(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=m(t,e,r);return i.customData._tokenResponse=n,i}function B(){return(B=(0,r.Z)(function*(t,e){return P(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function $(t,e){return z.apply(this,arguments)}function z(){return(z=(0,r.Z)(function*(t,e){return P(t,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function H(t,e){return G.apply(this,arguments)}function G(){return(G=(0,r.Z)(function*(t,e){return P(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function K(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}function W(){return(W=(0,r.Z)(function*(t,e=!1){const n=(0,s.m9)(t),r=yield n.getIdToken(e),i=Y(r);b(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o="object"==typeof i.firebase?i.firebase:void 0,a=null==o?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:K(Q(i.auth_time)),issuedAtTime:K(Q(i.iat)),expirationTime:K(Q(i.exp)),signInProvider:a||null,signInSecondFactor:(null==o?void 0:o.sign_in_second_factor)||null}})).apply(this,arguments)}function Q(t){return 1e3*Number(t)}function Y(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return p("JWT malformed, contained fewer than 3 sections"),null;try{const t=(0,s.tV)(n);return t?JSON.parse(t):(p("Failed to decode base64 JWT payload"),null)}catch(i){return p("Caught error parsing JWT payload as JSON",i),null}}function J(t,e){return X.apply(this,arguments)}function X(){return(X=(0,r.Z)(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof s.ZR&&tt(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}function tt({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}class et{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(t){var e;if(t){const t=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),t}{this.errorBackoff=3e4;const t=(null!==(e=this.user.stsTokenManager.expirationTime)&&void 0!==e?e:0)-Date.now()-3e5;return Math.max(0,t)}}schedule(t=!1){var e=this;if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout((0,r.Z)(function*(){yield e.iteration()}),n)}iteration(){var t=this;return(0,r.Z)(function*(){try{yield t.user.getIdToken(!0)}catch(e){return void("auth/network-request-failed"===e.code&&t.schedule(!0))}t.schedule()})()}}class nt{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=K(this.lastLoginAt),this.creationTime=K(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function rt(t){return it.apply(this,arguments)}function it(){return(it=(0,r.Z)(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield J(t,H(n,{idToken:r}));b(null==i?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=(null===(e=s.providerUserInfo)||void 0===e?void 0:e.length)?at(s.providerUserInfo):[],a=ot(t.providerData,o),u=!!t.isAnonymous&&!(t.email&&s.passwordHash||(null==a?void 0:a.length)),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new nt(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,c)})).apply(this,arguments)}function st(){return(st=(0,r.Z)(function*(t){const e=(0,s.m9)(t);yield rt(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function ot(t,e){return[...t.filter(t=>!e.some(e=>e.providerId===t.providerId)),...e]}function at(t){return t.map(t=>{var{providerId:e}=t,n=(0,a._T)(t,["providerId"]);return{providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}function ut(){return(ut=(0,r.Z)(function*(t,e){const n=yield F(t,{},()=>{const n=(0,s.xO)({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:i}=t.config,o=q(t,r,"/v1/token",`key=${i}`);return O.fetch()(o,{method:"POST",headers:{"X-Client-Version":t._getSdkClientVersion(),"Content-Type":"application/x-www-form-urlencoded"},body:n})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class ct{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){b(t.idToken,"internal-error"),b(void 0!==t.idToken,"internal-error"),b(void 0!==t.refreshToken,"internal-error");const e="expiresIn"in t&&void 0!==t.expiresIn?Number(t.expiresIn):function(t){const e=Y(t);return b(e,"internal-error"),b(void 0!==e.exp,"internal-error"),b(void 0!==e.iat,"internal-error"),Number(e.exp)-Number(e.iat)}(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}getToken(t,e=!1){var n=this;return(0,r.Z)(function*(){return b(!n.accessToken||n.refreshToken,t,"user-token-expired"),e||!n.accessToken||n.isExpired?n.refreshToken?(yield n.refresh(t,n.refreshToken),n.accessToken):null:n.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(t,e){var n=this;return(0,r.Z)(function*(){const{accessToken:r,refreshToken:i,expiresIn:s}=yield function(t,e){return ut.apply(this,arguments)}(t,e);n.updateTokensAndExpiration(r,i,Number(s))})()}updateTokensAndExpiration(t,e,n){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(t,e){const{refreshToken:n,accessToken:r,expirationTime:i}=e,s=new ct;return n&&(b("string"==typeof n,"internal-error",{appName:t}),s.refreshToken=n),r&&(b("string"==typeof r,"internal-error",{appName:t}),s.accessToken=r),i&&(b("number"==typeof i,"internal-error",{appName:t}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new ct,this.toJSON())}_performRefresh(){return w("not implemented")}}function lt(t,e){b("string"==typeof t||void 0===t,"internal-error",{appName:e})}class ht{constructor(t){var{uid:e,auth:n,stsTokenManager:r}=t,i=(0,a._T)(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.emailVerified=!1,this.isAnonymous=!1,this.tenantId=null,this.providerData=[],this.proactiveRefresh=new et(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.metadata=new nt(i.createdAt||void 0,i.lastLoginAt||void 0)}getIdToken(t){var e=this;return(0,r.Z)(function*(){const n=yield J(e,e.stsTokenManager.getToken(e.auth,t));return b(n,e.auth,"internal-error"),e.accessToken!==n&&(e.accessToken=n,yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)),n})()}getIdTokenResult(t){return function(t){return W.apply(this,arguments)}(this,t)}reload(){return function(t){return st.apply(this,arguments)}(this)}_assign(t){this!==t&&(b(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(t=>Object.assign({},t)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){return new ht(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(t){b(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(t,e=!1){var n=this;return(0,r.Z)(function*(){let r=!1;t.idToken&&t.idToken!==n.stsTokenManager.accessToken&&(n.stsTokenManager.updateFromServerResponse(t),r=!0),e&&(yield rt(n)),yield n.auth._persistUserIfCurrent(n),r&&n.auth._notifyListenersIfCurrent(n)})()}delete(){var t=this;return(0,r.Z)(function*(){const e=yield t.getIdToken();return yield J(t,function(t,e){return B.apply(this,arguments)}(t.auth,{idToken:e})),t.stsTokenManager.clearRefreshToken(),t.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){var n,r,i,s,o,a,u,c;const l=null!==(n=e.displayName)&&void 0!==n?n:void 0,h=null!==(r=e.email)&&void 0!==r?r:void 0,d=null!==(i=e.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=e.photoURL)&&void 0!==s?s:void 0,p=null!==(o=e.tenantId)&&void 0!==o?o:void 0,g=null!==(a=e._redirectEventId)&&void 0!==a?a:void 0,m=null!==(u=e.createdAt)&&void 0!==u?u:void 0,y=null!==(c=e.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:_,isAnonymous:w,providerData:T,stsTokenManager:E}=e;b(v&&E,t,"internal-error");const S=ct.fromJSON(this.name,E);b("string"==typeof v,t,"internal-error"),lt(l,t.name),lt(h,t.name),b("boolean"==typeof _,t,"internal-error"),b("boolean"==typeof w,t,"internal-error"),lt(d,t.name),lt(f,t.name),lt(p,t.name),lt(g,t.name),lt(m,t.name),lt(y,t.name);const I=new ht({uid:v,auth:t,email:h,emailVerified:_,displayName:l,isAnonymous:w,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:S,createdAt:m,lastLoginAt:y});return T&&Array.isArray(T)&&(I.providerData=T.map(t=>Object.assign({},t))),g&&(I._redirectEventId=g),I}static _fromIdTokenResponse(t,e,n=!1){return(0,r.Z)(function*(){const r=new ct;r.updateFromServerResponse(e);const i=new ht({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:n});return yield rt(i),i})()}}const dt=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,r.Z)(function*(){return!0})()}_set(t,e){var n=this;return(0,r.Z)(function*(){n.storage[t]=e})()}_get(t){var e=this;return(0,r.Z)(function*(){const n=e.storage[t];return void 0===n?null:n})()}_remove(t){var e=this;return(0,r.Z)(function*(){delete e.storage[t]})()}_addListener(t,e){}_removeListener(t,e){}}return t.type="NONE",t})();function ft(t,e,n){return`firebase:${t}:${e}:${n}`}class pt{constructor(t,e,n){this.persistence=t,this.auth=e,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=ft(this.userKey,r.apiKey,i),this.fullPersistenceKey=ft("persistence",r.apiKey,i),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}getCurrentUser(){var t=this;return(0,r.Z)(function*(){const e=yield t.persistence._get(t.fullUserKey);return e?ht._fromJSON(t.auth,e):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(t){var e=this;return(0,r.Z)(function*(){if(e.persistence===t)return;const n=yield e.getCurrentUser();return yield e.removeCurrentUser(),e.persistence=t,n?e.setCurrentUser(n):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(t,e,n="authUser"){return(0,r.Z)(function*(){if(!e.length)return new pt(S(dt),t,n);const i=(yield Promise.all(e.map(function(){var t=(0,r.Z)(function*(t){if(yield t._isAvailable())return t});return function(e){return t.apply(this,arguments)}}()))).filter(t=>t);let s=i[0]||S(dt);const o=ft(n,t.config.apiKey,t.name);let a=null;for(const n of e)try{const e=yield n._get(o);if(e){const r=ht._fromJSON(t,e);n!==s&&(a=r),s=n;break}}catch(c){}const u=i.filter(t=>t._shouldAllowMigration);return s._shouldAllowMigration&&u.length?(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(e.map(function(){var t=(0,r.Z)(function*(t){if(t!==s)try{yield t._remove(o)}catch(e){}});return function(e){return t.apply(this,arguments)}}())),new pt(s,t,n)):new pt(s,t,n)})()}}function gt(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_t(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(mt(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(wt(e))return"Blackberry";if(Tt(e))return"Webos";if(yt(e))return"Safari";if((e.includes("chrome/")||vt(e))&&!e.includes("edge/"))return"Chrome";if(bt(e))return"Android";{const e=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==e?void 0:e.length))return e[1]}return"Other"}function mt(t=(0,s.z$)()){return/firefox\//i.test(t)}function yt(t=(0,s.z$)()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function vt(t=(0,s.z$)()){return/crios\//i.test(t)}function _t(t=(0,s.z$)()){return/iemobile/i.test(t)}function bt(t=(0,s.z$)()){return/android/i.test(t)}function wt(t=(0,s.z$)()){return/blackberry/i.test(t)}function Tt(t=(0,s.z$)()){return/webos/i.test(t)}function Et(t=(0,s.z$)()){return/iphone|ipad|ipod/i.test(t)}function St(t=(0,s.z$)()){return Et(t)||bt(t)||Tt(t)||wt(t)||/windows phone/i.test(t)||_t(t)}function It(t,e=[]){let n;switch(t){case"Browser":n=gt((0,s.z$)());break;case"Worker":n=`${gt((0,s.z$)())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${o.SDK_VERSION}/${r}`}class At{constructor(t,e){this.app=t,this.config=e,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new kt(this),this.idTokenSubscription=new kt(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=d,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=e.sdkClientVersion}_initializeWithPersistence(t,e){var n=this;return e&&(this._popupRedirectResolver=S(e)),this._initializationPromise=this.queue((0,r.Z)(function*(){var r;n._deleted||(n.persistenceManager=yield pt.create(n,t),!n._deleted&&((null===(r=n._popupRedirectResolver)||void 0===r?void 0:r._shouldInitProactively)&&(yield n._popupRedirectResolver._initialize(n)),yield n.initializeCurrentUser(e),!n._deleted&&(n._isInitialized=!0)))})),this._initializationPromise}_onStorageEvent(){var t=this;return(0,r.Z)(function*(){if(t._deleted)return;const e=yield t.assertedPersistence.getCurrentUser();if(t.currentUser||e){if(t.currentUser&&e&&t.currentUser.uid===e.uid)return t._currentUser._assign(e),void(yield t.currentUser.getIdToken());yield t._updateCurrentUser(e)}})()}initializeCurrentUser(t){var e=this;return(0,r.Z)(function*(){var n;let r=yield e.assertedPersistence.getCurrentUser();if(t&&e.config.authDomain){yield e.getOrInitRedirectPersistenceManager();const i=null===(n=e.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null==r?void 0:r._redirectEventId,o=yield e.tryRedirectSignIn(t);(!i||i===s)&&(null==o?void 0:o.user)&&(r=o.user)}return r?r._redirectEventId?(b(e._popupRedirectResolver,e,"argument-error"),yield e.getOrInitRedirectPersistenceManager(),e.redirectUser&&e.redirectUser._redirectEventId===r._redirectEventId?e.directlySetCurrentUser(r):e.reloadAndSetCurrentUserOrClear(r)):e.reloadAndSetCurrentUserOrClear(r):e.directlySetCurrentUser(null)})()}tryRedirectSignIn(t){var e=this;return(0,r.Z)(function*(){let n=null;try{n=yield e._popupRedirectResolver._completeRedirectFn(e,t,!0)}catch(r){yield e._setRedirectUser(null)}return n})()}reloadAndSetCurrentUserOrClear(t){var e=this;return(0,r.Z)(function*(){try{yield rt(t)}catch(n){if("auth/network-request-failed"!==n.code)return e.directlySetCurrentUser(null)}return e.directlySetCurrentUser(t)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var t=this;return(0,r.Z)(function*(){t._deleted=!0})()}updateCurrentUser(t){var e=this;return(0,r.Z)(function*(){const n=t?(0,s.m9)(t):null;return n&&b(n.auth.config.apiKey===e.config.apiKey,e,"invalid-user-token"),e._updateCurrentUser(n&&n._clone(e))})()}_updateCurrentUser(t){var e=this;return(0,r.Z)(function*(){if(!e._deleted)return t&&b(e.tenantId===t.tenantId,e,"tenant-id-mismatch"),e.queue((0,r.Z)(function*(){yield e.directlySetCurrentUser(t),e.notifyAuthListeners()}))})()}signOut(){var t=this;return(0,r.Z)(function*(){return(t.redirectPersistenceManager||t._popupRedirectResolver)&&(yield t._setRedirectUser(null)),t._updateCurrentUser(null)})()}setPersistence(t){var e=this;return this.queue((0,r.Z)(function*(){yield e.assertedPersistence.setPersistence(S(t))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new s.LL("auth","Firebase",t())}onAuthStateChanged(t,e,n){return this.registerStateListener(this.authStateSubscription,t,e,n)}onIdTokenChanged(t,e,n){return this.registerStateListener(this.idTokenSubscription,t,e,n)}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(t=this._currentUser)||void 0===t?void 0:t.toJSON()}}_setRedirectUser(t,e){var n=this;return(0,r.Z)(function*(){const r=yield n.getOrInitRedirectPersistenceManager(e);return null===t?r.removeCurrentUser():r.setCurrentUser(t)})()}getOrInitRedirectPersistenceManager(t){var e=this;return(0,r.Z)(function*(){if(!e.redirectPersistenceManager){const n=t&&S(t)||e._popupRedirectResolver;b(n,e,"argument-error"),e.redirectPersistenceManager=yield pt.create(e,[S(n._redirectPersistence)],"redirectUser"),e.redirectUser=yield e.redirectPersistenceManager.getCurrentUser()}return e.redirectPersistenceManager})()}_redirectUserForId(t){var e=this;return(0,r.Z)(function*(){var n,i;return e._isInitialized&&(yield e.queue((0,r.Z)(function*(){}))),(null===(n=e._currentUser)||void 0===n?void 0:n._redirectEventId)===t?e._currentUser:(null===(i=e.redirectUser)||void 0===i?void 0:i._redirectEventId)===t?e.redirectUser:null})()}_persistUserIfCurrent(t){var e=this;return(0,r.Z)(function*(){if(t===e.currentUser)return e.queue((0,r.Z)(function*(){return e.directlySetCurrentUser(t)}))})()}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,e;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(e=null===(t=this.currentUser)||void 0===t?void 0:t.uid)&&void 0!==e?e:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,n,r){if(this._deleted)return()=>{};const i="function"==typeof e?e:e.next.bind(e),s=this._isInitialized?Promise.resolve():this._initializationPromise;return b(s,this,"internal-error"),s.then(()=>i(this.currentUser)),"function"==typeof e?t.addObserver(e,n,r):t.addObserver(e)}directlySetCurrentUser(t){var e=this;return(0,r.Z)(function*(){e.currentUser&&e.currentUser!==t&&(e._currentUser._stopProactiveRefresh(),t&&e.isProactiveRefreshEnabled&&t._startProactiveRefresh()),e.currentUser=t,t?yield e.assertedPersistence.setCurrentUser(t):yield e.assertedPersistence.removeCurrentUser()})()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return b(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=It(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getSdkClientVersion(){return this.clientVersion}}function Ct(t){return(0,s.m9)(t)}class kt{constructor(t){this.auth=t,this.observer=null,this.addObserver=(0,s.ne)(t=>this.observer=t)}get next(){return b(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function xt(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Ot(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class Nt{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return w("not implemented")}_getIdTokenResponse(t){return w("not implemented")}_linkToIdToken(t,e){return w("not implemented")}_getReauthenticationResolver(t){return w("not implemented")}}function Dt(t,e){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,r.Z)(function*(t,e){return P(t,"POST","/v1/accounts:resetPassword",R(t,e))})).apply(this,arguments)}function Pt(t,e){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,r.Z)(function*(t,e){return P(t,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function Ft(t,e){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,r.Z)(function*(t,e){return P(t,"POST","/v1/accounts:update",R(t,e))})).apply(this,arguments)}function Mt(){return(Mt=(0,r.Z)(function*(t,e){return M(t,"POST","/v1/accounts:signInWithPassword",R(t,e))})).apply(this,arguments)}function Ut(t,e){return qt.apply(this,arguments)}function qt(){return(qt=(0,r.Z)(function*(t,e){return P(t,"POST","/v1/accounts:sendOobCode",R(t,e))})).apply(this,arguments)}function Vt(t,e){return jt.apply(this,arguments)}function jt(){return(jt=(0,r.Z)(function*(t,e){return Ut(t,e)})).apply(this,arguments)}function Bt(t,e){return $t.apply(this,arguments)}function $t(){return($t=(0,r.Z)(function*(t,e){return Ut(t,e)})).apply(this,arguments)}function zt(t,e){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,r.Z)(function*(t,e){return Ut(t,e)})).apply(this,arguments)}function Gt(t,e){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,r.Z)(function*(t,e){return Ut(t,e)})).apply(this,arguments)}function Wt(){return(Wt=(0,r.Z)(function*(t,e){return M(t,"POST","/v1/accounts:signInWithEmailLink",R(t,e))})).apply(this,arguments)}function Qt(){return(Qt=(0,r.Z)(function*(t,e){return M(t,"POST","/v1/accounts:signInWithEmailLink",R(t,e))})).apply(this,arguments)}class Yt extends Nt{constructor(t,e,n,r=null){super("password",n),this._email=t,this._password=e,this._tenantId=r}static _fromEmailAndPassword(t,e){return new Yt(t,e,"password")}static _fromEmailAndCode(t,e,n=null){return new Yt(t,e,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e="string"==typeof t?JSON.parse(t):t;if((null==e?void 0:e.email)&&(null==e?void 0:e.password)){if("password"===e.signInMethod)return this._fromEmailAndPassword(e.email,e.password);if("emailLink"===e.signInMethod)return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}_getIdTokenResponse(t){var e=this;return(0,r.Z)(function*(){switch(e.signInMethod){case"password":return function(t,e){return Mt.apply(this,arguments)}(t,{returnSecureToken:!0,email:e._email,password:e._password});case"emailLink":return function(t,e){return Wt.apply(this,arguments)}(t,{email:e._email,oobCode:e._password});default:g(t,"internal-error")}})()}_linkToIdToken(t,e){var n=this;return(0,r.Z)(function*(){switch(n.signInMethod){case"password":return Pt(t,{idToken:e,returnSecureToken:!0,email:n._email,password:n._password});case"emailLink":return function(t,e){return Qt.apply(this,arguments)}(t,{idToken:e,email:n._email,oobCode:n._password});default:g(t,"internal-error")}})()}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}function Jt(t,e){return Xt.apply(this,arguments)}function Xt(){return(Xt=(0,r.Z)(function*(t,e){return M(t,"POST","/v1/accounts:signInWithIdp",R(t,e))})).apply(this,arguments)}class te extends Nt{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new te(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):g("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e="string"==typeof t?JSON.parse(t):t,{providerId:n,signInMethod:r}=e,i=(0,a._T)(e,["providerId","signInMethod"]);if(!n||!r)return null;const s=new te(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(t){return Jt(t,this.buildRequest())}_linkToIdToken(t,e){const n=this.buildRequest();return n.idToken=e,Jt(t,n)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Jt(t,e)}buildRequest(){const t={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=(0,s.xO)(e)}return t}}function ee(t,e){return ne.apply(this,arguments)}function ne(){return(ne=(0,r.Z)(function*(t,e){return P(t,"POST","/v1/accounts:sendVerificationCode",R(t,e))})).apply(this,arguments)}function re(){return(re=(0,r.Z)(function*(t,e){return M(t,"POST","/v1/accounts:signInWithPhoneNumber",R(t,e))})).apply(this,arguments)}function ie(){return(ie=(0,r.Z)(function*(t,e){const n=yield M(t,"POST","/v1/accounts:signInWithPhoneNumber",R(t,e));if(n.temporaryProof)throw j(t,"account-exists-with-different-credential",n);return n})).apply(this,arguments)}const se={USER_NOT_FOUND:"user-not-found"};function oe(){return(oe=(0,r.Z)(function*(t,e){return M(t,"POST","/v1/accounts:signInWithPhoneNumber",R(t,Object.assign(Object.assign({},e),{operation:"REAUTH"})),se)})).apply(this,arguments)}class ae extends Nt{constructor(t){super("phone","phone"),this.params=t}static _fromVerification(t,e){return new ae({verificationId:t,verificationCode:e})}static _fromTokenResponse(t,e){return new ae({phoneNumber:t,temporaryProof:e})}_getIdTokenResponse(t){return function(t,e){return re.apply(this,arguments)}(t,this._makeVerificationRequest())}_linkToIdToken(t,e){return function(t,e){return ie.apply(this,arguments)}(t,Object.assign({idToken:e},this._makeVerificationRequest()))}_getReauthenticationResolver(t){return function(t,e){return oe.apply(this,arguments)}(t,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:t,phoneNumber:e,verificationId:n,verificationCode:r}=this.params;return t&&e?{temporaryProof:t,phoneNumber:e}:{sessionInfo:n,code:r}}toJSON(){const t={providerId:this.providerId};return this.params.phoneNumber&&(t.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(t.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(t.verificationCode=this.params.verificationCode),this.params.verificationId&&(t.verificationId=this.params.verificationId),t}static fromJSON(t){"string"==typeof t&&(t=JSON.parse(t));const{verificationId:e,verificationCode:n,phoneNumber:r,temporaryProof:i}=t;return n||e||r||i?new ae({verificationId:e,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class ue{constructor(t){var e,n,r,i,o,a;const u=(0,s.zd)((0,s.pd)(t)),c=null!==(e=u.apiKey)&&void 0!==e?e:null,l=null!==(n=u.oobCode)&&void 0!==n?n:null,h=function(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=u.mode)&&void 0!==r?r:null);b(c&&l&&h,"argument-error"),this.apiKey=c,this.operation=h,this.code=l,this.continueUrl=null!==(i=u.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=u.tenantId)&&void 0!==a?a:null}static parseLink(t){const e=function(t){const e=(0,s.zd)((0,s.pd)(t)).link,n=e?(0,s.zd)((0,s.pd)(e)).deep_link_id:null,r=(0,s.zd)((0,s.pd)(t)).deep_link_id;return(r?(0,s.zd)((0,s.pd)(r)).link:null)||r||n||e||t}(t);try{return new ue(e)}catch(n){return null}}}let ce=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(t,e){return Yt._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const n=ue.parseLink(e);return b(n,"argument-error"),Yt._fromEmailAndCode(t,n.code,n.tenantId)}}return t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink",t})();class le{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class he extends le{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class de extends he{static credentialFromJSON(t){const e="string"==typeof t?JSON.parse(t):t;return b("providerId"in e&&"signInMethod"in e,"argument-error"),te._fromParams(e)}credential(t){return this._credential(Object.assign(Object.assign({},t),{nonce:t.rawNonce}))}_credential(t){return b(t.idToken||t.accessToken,"argument-error"),te._fromParams(Object.assign(Object.assign({},t),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(t){return de.oauthCredentialFromTaggedObject(t)}static credentialFromError(t){return de.oauthCredentialFromTaggedObject(t.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:n,oauthTokenSecret:r,pendingToken:i,nonce:s,providerId:o}=t;if(!n&&!r&&!e&&!i||!o)return null;try{return new de(o)._credential({idToken:e,accessToken:n,nonce:s,pendingToken:i})}catch(a){return null}}}let fe=(()=>{class t extends he{constructor(){super("facebook.com")}static credential(e){return te._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return t.credentialFromTaggedObject(e)}static credentialFromError(e){return t.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return t.credential(e.oauthAccessToken)}catch(n){return null}}}return t.FACEBOOK_SIGN_IN_METHOD="facebook.com",t.PROVIDER_ID="facebook.com",t})(),pe=(()=>{class t extends he{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return te._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return t.credentialFromTaggedObject(e)}static credentialFromError(e){return t.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return t.credential(n,r)}catch(i){return null}}}return t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com",t})(),ge=(()=>{class t extends he{constructor(){super("github.com")}static credential(e){return te._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return t.credentialFromTaggedObject(e)}static credentialFromError(e){return t.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return t.credential(e.oauthAccessToken)}catch(n){return null}}}return t.GITHUB_SIGN_IN_METHOD="github.com",t.PROVIDER_ID="github.com",t})();class me extends Nt{constructor(t,e){super(t,t),this.pendingToken=e}_getIdTokenResponse(t){return Jt(t,this.buildRequest())}_linkToIdToken(t,e){const n=this.buildRequest();return n.idToken=e,Jt(t,n)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Jt(t,e)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(t){const e="string"==typeof t?JSON.parse(t):t,{providerId:n,signInMethod:r,pendingToken:i}=e;return n&&r&&i&&n===r?new me(n,i):null}static _create(t,e){return new me(t,e)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}let ye=(()=>{class t extends he{constructor(){super("twitter.com")}static credential(e,n){return te._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return t.credentialFromTaggedObject(e)}static credentialFromError(e){return t.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return t.credential(n,r)}catch(i){return null}}}return t.TWITTER_SIGN_IN_METHOD="twitter.com",t.PROVIDER_ID="twitter.com",t})();function ve(t,e){return _e.apply(this,arguments)}function _e(){return(_e=(0,r.Z)(function*(t,e){return M(t,"POST","/v1/accounts:signUp",R(t,e))})).apply(this,arguments)}class be{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static _fromIdTokenResponse(t,e,n,i=!1){return(0,r.Z)(function*(){const r=yield ht._fromIdTokenResponse(t,n,i),s=we(n);return new be({user:r,providerId:s,_tokenResponse:n,operationType:e})})()}static _forOperation(t,e,n){return(0,r.Z)(function*(){yield t._updateTokensIfNecessary(n,!0);const r=we(n);return new be({user:t,providerId:r,_tokenResponse:n,operationType:e})})()}}function we(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}function Te(){return(Te=(0,r.Z)(function*(t){var e;const n=Ct(t);if(yield n._initializationPromise,null===(e=n.currentUser)||void 0===e?void 0:e.isAnonymous)return new be({user:n.currentUser,providerId:null,operationType:"signIn"});const r=yield ve(n,{returnSecureToken:!0}),i=yield be._fromIdTokenResponse(n,"signIn",r,!0);return yield n._updateCurrentUser(i.user),i})).apply(this,arguments)}class Ee extends s.ZR{constructor(t,e,n,r){var i;super(e.code,e.message),this.operationType=n,this.user=r,this.name="FirebaseError",Object.setPrototypeOf(this,Ee.prototype),this.appName=t.name,this.code=e.code,this.tenantId=null!==(i=t.tenantId)&&void 0!==i?i:void 0,this.serverResponse=e.customData.serverResponse}static _fromErrorAndOperation(t,e,n,r){return new Ee(t,e,n,r)}}function Se(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(n=>{throw"auth/multi-factor-auth-required"===n.code?Ee._fromErrorAndOperation(t,n,e,r):n})}function Ie(t){return new Set(t.map(({providerId:t})=>t).filter(t=>!!t))}function Ae(){return(Ae=(0,r.Z)(function*(t,e){const n=(0,s.m9)(t);yield xe(!0,n,e);const{providerUserInfo:r}=yield $(n.auth,{idToken:yield n.getIdToken(),deleteProvider:[e]}),i=Ie(r||[]);return n.providerData=n.providerData.filter(t=>i.has(t.providerId)),i.has("phone")||(n.phoneNumber=null),yield n.auth._persistUserIfCurrent(n),n})).apply(this,arguments)}function Ce(t,e){return ke.apply(this,arguments)}function ke(){return(ke=(0,r.Z)(function*(t,e,n=!1){const r=yield J(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return be._forOperation(t,"link",r)})).apply(this,arguments)}function xe(t,e,n){return Oe.apply(this,arguments)}function Oe(){return(Oe=(0,r.Z)(function*(t,e,n){yield rt(e);const r=!1===t?"provider-already-linked":"no-such-provider";b(Ie(e.providerData).has(n)===t,e.auth,r)})).apply(this,arguments)}function Ne(t,e){return De.apply(this,arguments)}function De(){return(De=(0,r.Z)(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=yield J(t,Se(r,i,e,t),n);b(s.idToken,r,"internal-error");const o=Y(s.idToken);b(o,r,"internal-error");const{sub:a}=o;return b(t.uid===a,r,"user-mismatch"),be._forOperation(t,i,s)}catch(s){throw"auth/user-not-found"===(null==s?void 0:s.code)&&g(r,"user-mismatch"),s}})).apply(this,arguments)}function Re(t,e){return Pe.apply(this,arguments)}function Pe(){return(Pe=(0,r.Z)(function*(t,e,n=!1){const r="signIn",i=yield Se(t,r,e),s=yield be._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})).apply(this,arguments)}function Le(t,e){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,r.Z)(function*(t,e){return Re(Ct(t),e)})).apply(this,arguments)}function Ze(t,e){return Me.apply(this,arguments)}function Me(){return(Me=(0,r.Z)(function*(t,e){const n=(0,s.m9)(t);return yield xe(!1,n,e.providerId),Ce(n,e)})).apply(this,arguments)}function Ue(t,e){return qe.apply(this,arguments)}function qe(){return(qe=(0,r.Z)(function*(t,e){return Ne((0,s.m9)(t),e)})).apply(this,arguments)}function Ve(t,e){return je.apply(this,arguments)}function je(){return(je=(0,r.Z)(function*(t,e){return M(t,"POST","/v1/accounts:signInWithCustomToken",R(t,e))})).apply(this,arguments)}function Be(){return(Be=(0,r.Z)(function*(t,e){const n=Ct(t),r=yield Ve(n,{token:e,returnSecureToken:!0}),i=yield be._fromIdTokenResponse(n,"signIn",r);return yield n._updateCurrentUser(i.user),i})).apply(this,arguments)}class $e{constructor(t,e){this.factorId=t,this.uid=e.mfaEnrollmentId,this.enrollmentTime=new Date(e.enrolledAt).toUTCString(),this.displayName=e.displayName}static _fromServerResponse(t,e){return"phoneInfo"in e?ze._fromServerResponse(t,e):g(t,"internal-error")}}class ze extends $e{constructor(t){super("phone",t),this.phoneNumber=t.phoneInfo}static _fromServerResponse(t,e){return new ze(e)}}function He(t,e,n){var r;b((null===(r=n.url)||void 0===r?void 0:r.length)>0,t,"invalid-continue-uri"),b(void 0===n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(b(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(b(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}function Ge(){return(Ge=(0,r.Z)(function*(t,e,n){const r=(0,s.m9)(t),i={requestType:"PASSWORD_RESET",email:e};n&&He(r,i,n),yield Bt(r,i)})).apply(this,arguments)}function Ke(){return(Ke=(0,r.Z)(function*(t,e,n){yield Dt((0,s.m9)(t),{oobCode:e,newPassword:n})})).apply(this,arguments)}function We(){return(We=(0,r.Z)(function*(t,e){yield Ft((0,s.m9)(t),{oobCode:e})})).apply(this,arguments)}function Qe(t,e){return Ye.apply(this,arguments)}function Ye(){return(Ye=(0,r.Z)(function*(t,e){const n=(0,s.m9)(t),r=yield Dt(n,{oobCode:e}),i=r.requestType;switch(b(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":b(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":b(r.mfaInfo,n,"internal-error");default:b(r.email,n,"internal-error")}let o=null;return r.mfaInfo&&(o=$e._fromServerResponse(Ct(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:o},operation:i}})).apply(this,arguments)}function Je(){return(Je=(0,r.Z)(function*(t,e){const{data:n}=yield Qe((0,s.m9)(t),e);return n.email})).apply(this,arguments)}function Xe(){return(Xe=(0,r.Z)(function*(t,e,n){const r=Ct(t),i=yield ve(r,{returnSecureToken:!0,email:e,password:n}),s=yield be._fromIdTokenResponse(r,"signIn",i);return yield r._updateCurrentUser(s.user),s})).apply(this,arguments)}function tn(){return(tn=(0,r.Z)(function*(t,e,n){const r=(0,s.m9)(t),i={requestType:"EMAIL_SIGNIN",email:e};b(n.handleCodeInApp,r,"argument-error"),n&&He(r,i,n),yield zt(r,i)})).apply(this,arguments)}function en(){return(en=(0,r.Z)(function*(t,e,n){const r=(0,s.m9)(t),i=ce.credentialWithLink(e,n||I());return b(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Le(r,i)})).apply(this,arguments)}function nn(t,e){return rn.apply(this,arguments)}function rn(){return(rn=(0,r.Z)(function*(t,e){return P(t,"POST","/v1/accounts:createAuthUri",R(t,e))})).apply(this,arguments)}function sn(){return(sn=(0,r.Z)(function*(t,e){const n={identifier:e,continueUri:A()?I():"http://localhost"},{signinMethods:r}=yield nn((0,s.m9)(t),n);return r||[]})).apply(this,arguments)}function on(){return(on=(0,r.Z)(function*(t,e){const n=(0,s.m9)(t),r={requestType:"VERIFY_EMAIL",idToken:yield t.getIdToken()};e&&He(n.auth,r,e);const{email:i}=yield Vt(n.auth,r);i!==t.email&&(yield t.reload())})).apply(this,arguments)}function an(){return(an=(0,r.Z)(function*(t,e,n){const r=(0,s.m9)(t),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield t.getIdToken(),newEmail:e};n&&He(r.auth,i,n);const{email:o}=yield Gt(r.auth,i);o!==t.email&&(yield t.reload())})).apply(this,arguments)}function un(t,e){return cn.apply(this,arguments)}function cn(){return(cn=(0,r.Z)(function*(t,e){return P(t,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function ln(){return(ln=(0,r.Z)(function*(t,{displayName:e,photoURL:n}){if(void 0===e&&void 0===n)return;const r=(0,s.m9)(t),i={idToken:yield r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=yield J(r,un(r.auth,i));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:t})=>"password"===t);a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),yield r._updateTokensIfNecessary(o)})).apply(this,arguments)}function hn(t,e,n){return dn.apply(this,arguments)}function dn(){return(dn=(0,r.Z)(function*(t,e,n){const{auth:r}=t,i={idToken:yield t.getIdToken(),returnSecureToken:!0};e&&(i.email=e),n&&(i.password=n);const s=yield J(t,Pt(r,i));yield t._updateTokensIfNecessary(s,!0)})).apply(this,arguments)}class fn{constructor(t,e,n={}){this.isNewUser=t,this.providerId=e,this.profile=n}}class pn extends fn{constructor(t,e,n,r){super(t,e,n),this.username=r}}class gn extends fn{constructor(t,e){super(t,"facebook.com",e)}}class mn extends pn{constructor(t,e){super(t,"github.com",e,"string"==typeof(null==e?void 0:e.login)?null==e?void 0:e.login:null)}}class yn extends fn{constructor(t,e){super(t,"google.com",e)}}class vn extends pn{constructor(t,e,n){super(t,"twitter.com",e,n)}}function _n(t){const{user:e,_tokenResponse:n}=t;return e.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(t){var e,n;if(!t)return null;const{providerId:r}=t,i=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},s=t.isNewUser||"identitytoolkit#SignupNewUserResponse"===t.kind;if(!r&&(null==t?void 0:t.idToken)){const r=null===(n=null===(e=Y(t.idToken))||void 0===e?void 0:e.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new fn(s,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new gn(s,i);case"github.com":return new mn(s,i);case"google.com":return new yn(s,i);case"twitter.com":return new vn(s,i,t.screenName||null);case"custom":case"anonymous":return new fn(s,null);default:return new fn(s,r,i)}}(n)}class bn{constructor(t,e){this.type=t,this.credential=e}static _fromIdtoken(t){return new bn("enroll",t)}static _fromMfaPendingCredential(t){return new bn("signin",t)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(t){var e,n;if(null==t?void 0:t.multiFactorSession){if(null===(e=t.multiFactorSession)||void 0===e?void 0:e.pendingCredential)return bn._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.idToken)return bn._fromIdtoken(t.multiFactorSession.idToken)}return null}}class wn{constructor(t,e,n){this.session=t,this.hints=e,this.signInResolver=n}static _fromError(t,e){const n=Ct(t),i=(e.serverResponse.mfaInfo||[]).map(t=>$e._fromServerResponse(n,t));b(e.serverResponse.mfaPendingCredential,n,"internal-error");const s=bn._fromMfaPendingCredential(e.serverResponse.mfaPendingCredential);return new wn(s,i,function(){var t=(0,r.Z)(function*(t){const r=yield t._process(n,s);delete e.serverResponse.mfaInfo,delete e.serverResponse.mfaPendingCredential;const i=Object.assign(Object.assign({},e.serverResponse),{idToken:r.idToken,refreshToken:r.refreshToken});switch(e.operationType){case"signIn":const t=yield be._fromIdTokenResponse(n,e.operationType,i);return yield n._updateCurrentUser(t.user),t;case"reauthenticate":return b(e.user,n,"internal-error"),be._forOperation(e.user,e.operationType,i);default:g(n,"internal-error")}});return function(e){return t.apply(this,arguments)}}())}resolveSignIn(t){var e=this;return(0,r.Z)(function*(){return e.signInResolver(t)})()}}function Tn(t,e){return P(t,"POST","/v2/accounts/mfaEnrollment:start",R(t,e))}class En{constructor(t){this.user=t,this.enrolledFactors=[],t._onReload(e=>{e.mfaInfo&&(this.enrolledFactors=e.mfaInfo.map(e=>$e._fromServerResponse(t.auth,e)))})}static _fromUser(t){return new En(t)}getSession(){var t=this;return(0,r.Z)(function*(){return bn._fromIdtoken(yield t.user.getIdToken())})()}enroll(t,e){var n=this;return(0,r.Z)(function*(){const r=t,i=yield n.getSession(),s=yield J(n.user,r._process(n.user.auth,i,e));return yield n.user._updateTokensIfNecessary(s),n.user.reload()})()}unenroll(t){var e=this;return(0,r.Z)(function*(){const n="string"==typeof t?t:t.uid,r=yield e.user.getIdToken(),i=yield J(e.user,function(t,e){return P(t,"POST","/v2/accounts/mfaEnrollment:withdraw",R(t,e))}(e.user.auth,{idToken:r,mfaEnrollmentId:n}));e.enrolledFactors=e.enrolledFactors.filter(({uid:t})=>t!==n),yield e.user._updateTokensIfNecessary(i);try{yield e.user.reload()}catch(s){if("auth/user-token-expired"!==s.code)throw s}})()}}const Sn=new WeakMap,In="__sak";class An{constructor(t,e){this.storage=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(In,"1"),this.storage.removeItem(In),Promise.resolve(!0)):Promise.resolve(!1)}catch(t){return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}}const Cn=(()=>{class t extends An{constructor(){super(window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const t=(0,s.z$)();return yt(t)||Et(t)}()&&function(){try{return!(!window||window===window.top)}catch(t){return!1}}(),this.fallbackToPolling=St(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const n=this.storage.getItem(e),r=this.localCache[e];n!==r&&t(e,r,n)}}onStorageEvent(t,e=!1){if(!t.key)return void this.forAllChangedKeys((t,e,n)=>{this.notifyListeners(t,n)});const n=t.key;if(e?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(t.newValue!==r)null!==t.newValue?this.storage.setItem(n,t.newValue):this.storage.removeItem(n);else if(this.localCache[n]===t.newValue&&!e)return}const r=()=>{const t=this.storage.getItem(n);!e&&this.localCache[n]===t||this.notifyListeners(n,t)},i=this.storage.getItem(n);(0,s.w1)()&&10===document.documentMode&&i!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,10):r()}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const r of Array.from(n))r(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,e){var n=()=>super._set,i=this;return(0,r.Z)(function*(){yield n().call(i,t,e),i.localCache[t]=JSON.stringify(e)})()}_get(t){var e=()=>super._get,n=this;return(0,r.Z)(function*(){const r=yield e().call(n,t);return n.localCache[t]=JSON.stringify(r),r})()}_remove(t){var e=()=>super._remove,n=this;return(0,r.Z)(function*(){yield e().call(n,t),delete n.localCache[t]})()}}return t.type="LOCAL",t})(),kn=(()=>{class t extends An{constructor(){super(window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}return t.type="SESSION",t})();let xn=(()=>{class t{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(t=>t.isListeningto(e));if(n)return n;const r=new t(e);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}handleEvent(t){var e=this;return(0,r.Z)(function*(){const n=t,{eventId:i,eventType:s,data:o}=n.data,a=e.handlersMap[s];if(!(null==a?void 0:a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:s});const u=Array.from(a).map(function(){var t=(0,r.Z)(function*(t){return t(n.origin,o)});return function(e){return t.apply(this,arguments)}}()),c=yield function(t){return Promise.all(t.map(function(){var t=(0,r.Z)(function*(t){try{return{fulfilled:!0,value:yield t}}catch(e){return{fulfilled:!1,reason:e}}});return function(e){return t.apply(this,arguments)}}()))}(u);n.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:c})})()}_subscribe(t,e){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function On(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class Nn{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}_send(t,e,n=50){var i=this;return(0,r.Z)(function*(){const r="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{const c=On("",20);r.port1.start();const l=setTimeout(()=>{u(new Error("unsupported_event"))},n);o={messageChannel:r,onMessage(t){const e=t;if(e.data.eventId===c)switch(e.data.status){case"ack":clearTimeout(l),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(e.data.response);break;default:clearTimeout(l),clearTimeout(s),u(new Error("invalid_response"))}}},i.handlers.add(o),r.port1.addEventListener("message",o.onMessage),i.target.postMessage({eventType:t,eventId:c,data:e},[r.port2])}).finally(()=>{o&&i.removeMessageHandler(o)})})()}}function Dn(){return window}function Rn(){return void 0!==Dn().WorkerGlobalScope&&"function"==typeof Dn().importScripts}function Pn(){return(Pn=(0,r.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(hi){return null}})).apply(this,arguments)}const Ln="firebaseLocalStorageDb",Fn="firebaseLocalStorage",Zn="fbase_key";class Mn{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function Un(t,e){return t.transaction([Fn],e?"readwrite":"readonly").objectStore(Fn)}function qn(){const t=indexedDB.open(Ln,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const e=t.result;try{e.createObjectStore(Fn,{keyPath:Zn})}catch(r){n(r)}}),t.addEventListener("success",(0,r.Z)(function*(){const n=t.result;n.objectStoreNames.contains(Fn)?e(n):(n.close(),yield function(){const t=indexedDB.deleteDatabase(Ln);return new Mn(t).toPromise()}(),e(yield qn()))}))})}function Vn(t,e,n){return jn.apply(this,arguments)}function jn(){return(jn=(0,r.Z)(function*(t,e,n){const r=Un(t,!0).put({[Zn]:e,value:n});return new Mn(r).toPromise()})).apply(this,arguments)}function Bn(){return(Bn=(0,r.Z)(function*(t,e){const n=Un(t,!1).get(e),r=yield new Mn(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function $n(t,e){const n=Un(t,!0).delete(e);return new Mn(n).toPromise()}const zn=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return(0,r.Z)(function*(){return t.db||(t.db=yield qn()),t.db})()}_withRetries(t){var e=this;return(0,r.Z)(function*(){let n=0;for(;;)try{const n=yield e._openDb();return yield t(n)}catch(r){if(n++>3)throw r;e.db&&(e.db.close(),e.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return(0,r.Z)(function*(){return Rn()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return(0,r.Z)(function*(){t.receiver=xn._getInstance(Rn()?self:null),t.receiver._subscribe("keyChanged",function(){var e=(0,r.Z)(function*(e,n){return{keyProcessed:(yield t._poll()).includes(n.key)}});return function(t,n){return e.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var t=(0,r.Z)(function*(t,e){return["keyChanged"]});return function(e,n){return t.apply(this,arguments)}}())})()}initializeSender(){var t=this;return(0,r.Z)(function*(){var e,n;if(t.activeServiceWorker=yield function(){return Pn.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new Nn(t.activeServiceWorker);const r=yield t.sender._send("ping",{},800);!r||(null===(e=r[0])||void 0===e?void 0:e.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var e=this;return(0,r.Z)(function*(){if(e.sender&&e.activeServiceWorker&&function(){var t;return(null===(t=null==navigator?void 0:navigator.serviceWorker)||void 0===t?void 0:t.controller)||null}()===e.activeServiceWorker)try{yield e.sender._send("keyChanged",{key:t},e.serviceWorkerReceiverAvailable?800:50)}catch(n){}})()}_isAvailable(){return(0,r.Z)(function*(){try{if(!indexedDB)return!1;const t=yield qn();return yield Vn(t,In,"1"),yield $n(t,In),!0}catch(t){}return!1})()}_withPendingWrite(t){var e=this;return(0,r.Z)(function*(){e.pendingWrites++;try{yield t()}finally{e.pendingWrites--}})()}_set(t,e){var n=this;return(0,r.Z)(function*(){return n._withPendingWrite((0,r.Z)(function*(){return yield n._withRetries(n=>Vn(n,t,e)),n.localCache[t]=e,n.notifyServiceWorker(t)}))})()}_get(t){var e=this;return(0,r.Z)(function*(){const n=yield e._withRetries(e=>function(t,e){return Bn.apply(this,arguments)}(e,t));return e.localCache[t]=n,n})()}_remove(t){var e=this;return(0,r.Z)(function*(){return e._withPendingWrite((0,r.Z)(function*(){return yield e._withRetries(e=>$n(e,t)),delete e.localCache[t],e.notifyServiceWorker(t)}))})()}_poll(){var t=this;return(0,r.Z)(function*(){const e=yield t._withRetries(t=>{const e=Un(t,!1).getAll();return new Mn(e).toPromise()});if(!e)return[];if(0!==t.pendingWrites)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(t.localCache[i])!==JSON.stringify(s)&&(t.notifyListeners(i,s),n.push(i));for(const i of Object.keys(t.localCache))t.localCache[i]&&!r.has(i)&&(t.notifyListeners(i,null),n.push(i));return n})()}notifyListeners(t,e){this.localCache[t]=e;const n=this.listeners[t];if(n)for(const r of Array.from(n))r(e)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval((0,r.Z)(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();function Hn(t,e){return P(t,"POST","/v2/accounts/mfaSignIn:start",R(t,e))}function Gn(){return(Gn=(0,r.Z)(function*(t){return(yield P(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Kn(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=t=>{const e=m("internal-error");e.customData=t,n(e)},r.type="text/javascript",r.charset="UTF-8",function(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}function Wn(t){return`__${t}${Math.floor(1e6*Math.random())}`}const Qn=1e12;class Yn{constructor(t){this.auth=t,this.counter=Qn,this._widgets=new Map}render(t,e){const n=this.counter;return this._widgets.set(n,new Jn(t,this.auth.name,e||{})),this.counter++,n}reset(t){var e;const n=t||Qn;null===(e=this._widgets.get(n))||void 0===e||e.delete(),this._widgets.delete(n)}getResponse(t){var e;return(null===(e=this._widgets.get(t||Qn))||void 0===e?void 0:e.getResponse())||""}execute(t){var e=this;return(0,r.Z)(function*(){var n;return null===(n=e._widgets.get(t||Qn))||void 0===n||n.execute(),""})()}}class Jn{constructor(t,e,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"==typeof t?document.getElementById(t):t;b(r,"argument-error",{appName:e}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function(t){const e=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<50;r++)e.push(n.charAt(Math.floor(Math.random()*n.length)));return e.join("")}();const{callback:t,"expired-callback":e}=this.params;if(t)try{t(this.responseToken)}catch(n){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,e)try{e()}catch(n){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Xn=Wn("rcb"),tr=new k(3e4,6e4);class er{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Dn().grecaptcha}load(t,e=""){return b((n=e).length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n),t,"argument-error"),this.shouldResolveImmediately(e)?Promise.resolve(Dn().grecaptcha):new Promise((n,r)=>{const i=Dn().setTimeout(()=>{r(m(t,"network-request-failed"))},tr.get());Dn()[Xn]=()=>{Dn().clearTimeout(i),delete Dn()[Xn];const s=Dn().grecaptcha;if(!s)return void r(m(t,"internal-error"));const o=s.render;s.render=(t,e)=>{const n=o(t,e);return this.counter++,n},this.hostLanguage=e,n(s)},Kn(`https://www.google.com/recaptcha/api.js??${(0,s.xO)({onload:Xn,render:"explicit",hl:e})}`).catch(()=>{clearTimeout(i),r(m(t,"internal-error"))})});var n}clearedOneInstance(){this.counter--}shouldResolveImmediately(t){return!!Dn().grecaptcha&&(t===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class nr{load(t){return(0,r.Z)(function*(){return new Yn(t)})()}clearedOneInstance(){}}const rr="recaptcha",ir={theme:"light",type:"image"};class sr{constructor(t,e=Object.assign({},ir),n){this.parameters=e,this.type=rr,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Ct(n),this.isInvisible="invisible"===this.parameters.size,b("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"==typeof t?document.getElementById(t):t;b(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new nr:new er,this.validateStartingState()}verify(){var t=this;return(0,r.Z)(function*(){t.assertNotDestroyed();const e=yield t.render(),n=t.getAssertedRecaptcha();return n.getResponse(e)||new Promise(r=>{const i=e=>{!e||(t.tokenChangeListeners.delete(i),r(e))};t.tokenChangeListeners.add(i),t.isInvisible&&n.execute(e)})})()}render(){try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(t=>{throw this.renderPromise=null,t})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(t=>{this.container.removeChild(t)})}validateStartingState(){b(!this.parameters.sitekey,this.auth,"argument-error"),b(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),b("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(t){return e=>{if(this.tokenChangeListeners.forEach(t=>t(e)),"function"==typeof t)t(e);else if("string"==typeof t){const n=Dn()[t];"function"==typeof n&&n(e)}}}assertNotDestroyed(){b(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var t=this;return(0,r.Z)(function*(){if(yield t.init(),!t.widgetId){let e=t.container;if(!t.isInvisible){const t=document.createElement("div");e.appendChild(t),e=t}t.widgetId=t.getAssertedRecaptcha().render(e,t.parameters)}return t.widgetId})()}init(){var t=this;return(0,r.Z)(function*(){b(A()&&!Rn(),t.auth,"internal-error"),yield function(){let t=null;return new Promise(e=>{"complete"!==document.readyState?(t=()=>e(),window.addEventListener("load",t)):e()}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}(),t.recaptcha=yield t._recaptchaLoader.load(t.auth,t.auth.languageCode||void 0);const e=yield function(t){return Gn.apply(this,arguments)}(t.auth);b(e,t.auth,"internal-error"),t.parameters.sitekey=e})()}getAssertedRecaptcha(){return b(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class or{constructor(t,e){this.verificationId=t,this.onConfirmation=e}confirm(t){const e=ae._fromVerification(this.verificationId,t);return this.onConfirmation(e)}}function ar(){return(ar=(0,r.Z)(function*(t,e,n){const r=Ct(t),i=yield lr(r,e,(0,s.m9)(n));return new or(i,t=>Le(r,t))})).apply(this,arguments)}function ur(){return(ur=(0,r.Z)(function*(t,e,n){const r=(0,s.m9)(t);yield xe(!1,r,"phone");const i=yield lr(r.auth,e,(0,s.m9)(n));return new or(i,t=>Ze(r,t))})).apply(this,arguments)}function cr(){return(cr=(0,r.Z)(function*(t,e,n){const r=(0,s.m9)(t),i=yield lr(r.auth,e,(0,s.m9)(n));return new or(i,t=>Ue(r,t))})).apply(this,arguments)}function lr(t,e,n){return hr.apply(this,arguments)}function hr(){return(hr=(0,r.Z)(function*(t,e,n){var r;const i=yield n.verify();try{let s;if(b("string"==typeof i,t,"argument-error"),b(n.type===rr,t,"argument-error"),s="string"==typeof e?{phoneNumber:e}:e,"session"in s){const e=s.session;if("phoneNumber"in s)return b("enroll"===e.type,t,"internal-error"),(yield Tn(t,{idToken:e.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo;{b("signin"===e.type,t,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;return b(n,t,"missing-multi-factor-info"),(yield Hn(t,{mfaPendingCredential:e.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:e}=yield ee(t,{phoneNumber:s.phoneNumber,recaptchaToken:i});return e}}finally{n._reset()}})).apply(this,arguments)}function dr(){return(dr=(0,r.Z)(function*(t,e){yield Ce((0,s.m9)(t),e)})).apply(this,arguments)}let fr=(()=>{class t{constructor(e){this.providerId=t.PROVIDER_ID,this.auth=Ct(e)}verifyPhoneNumber(t,e){return lr(this.auth,t,(0,s.m9)(e))}static credential(t,e){return ae._fromVerification(t,e)}static credentialFromResult(e){return t.credentialFromTaggedObject(e)}static credentialFromError(e){return t.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{phoneNumber:e,temporaryProof:n}=t;return e&&n?ae._fromTokenResponse(e,n):null}}return t.PROVIDER_ID="phone",t.PHONE_SIGN_IN_METHOD="phone",t})();function pr(t,e){return e?S(e):(b(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class gr extends Nt{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Jt(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Jt(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Jt(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function mr(t){return Re(t.auth,new gr(t),t.bypassAuthState)}function yr(t){const{auth:e,user:n}=t;return b(n,e,"internal-error"),Ne(n,new gr(t),t.bypassAuthState)}function vr(t){return _r.apply(this,arguments)}function _r(){return(_r=(0,r.Z)(function*(t){const{auth:e,user:n}=t;return b(n,e,"internal-error"),Ce(n,new gr(t),t.bypassAuthState)})).apply(this,arguments)}class br{constructor(t,e,n,r,i=!1){this.auth=t,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){var t=this;return new Promise(function(){var e=(0,r.Z)(function*(e,n){t.pendingPromise={resolve:e,reject:n};try{t.eventManager=yield t.resolver._initialize(t.auth),yield t.onExecution(),t.eventManager.registerConsumer(t)}catch(r){t.reject(r)}});return function(t,n){return e.apply(this,arguments)}}())}onAuthEvent(t){var e=this;return(0,r.Z)(function*(){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=t;if(o)return void e.reject(o);const u={auth:e.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:e.user,bypassAuthState:e.bypassAuthState};try{e.resolve(yield e.getIdpTask(a)(u))}catch(c){e.reject(c)}})()}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return mr;case"linkViaPopup":case"linkViaRedirect":return vr;case"reauthViaPopup":case"reauthViaRedirect":return yr;default:g(this.auth,"internal-error")}}resolve(t){T(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){T(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const wr=new k(2e3,1e4);function Tr(){return(Tr=(0,r.Z)(function*(t,e,n){const r=Ct(t);v(t,e,le);const i=pr(r,n);return new Ir(r,"signInViaPopup",e,i).executeNotNull()})).apply(this,arguments)}function Er(){return(Er=(0,r.Z)(function*(t,e,n){const r=(0,s.m9)(t);v(r.auth,e,le);const i=pr(r.auth,n);return new Ir(r.auth,"reauthViaPopup",e,i,r).executeNotNull()})).apply(this,arguments)}function Sr(){return(Sr=(0,r.Z)(function*(t,e,n){const r=(0,s.m9)(t);v(r.auth,e,le);const i=pr(r.auth,n);return new Ir(r.auth,"linkViaPopup",e,i,r).executeNotNull()})).apply(this,arguments)}let Ir=(()=>{class t extends br{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){var t=this;return(0,r.Z)(function*(){const e=yield t.execute();return b(e,t.auth,"internal-error"),e})()}onExecution(){var t=this;return(0,r.Z)(function*(){T(1===t.filter.length,"Popup operations only handle one event");const e=On();t.authWindow=yield t.resolver._openPopup(t.auth,t.provider,t.filter[0],e),t.authWindow.associatedEvent=e,t.resolver._originValidation(t.auth).catch(e=>{t.reject(e)}),t.resolver._isIframeWebStorageSupported(t.auth,e=>{e||t.reject(m(t.auth,"web-storage-unsupported"))}),t.pollUserCancellation()})()}get eventId(){var t;return(null===(t=this.authWindow)||void 0===t?void 0:t.associatedEvent)||null}cancel(){this.reject(m(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){const t=()=>{var e,n;this.pollId=(null===(n=null===(e=this.authWindow)||void 0===e?void 0:e.window)||void 0===n?void 0:n.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(m(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(t,wr.get())};t()}}return t.currentPopupAction=null,t})();const Ar=new Map;class Cr extends br{constructor(t,e,n=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,n),this.eventId=null}execute(){var t=()=>super.execute,e=this;return(0,r.Z)(function*(){let n=Ar.get(e.auth._key());if(!n){try{const r=(yield function(t,e){return kr.apply(this,arguments)}(e.resolver,e.auth))?yield t().call(e):null;n=()=>Promise.resolve(r)}catch(r){n=()=>Promise.reject(r)}Ar.set(e.auth._key(),n)}return n()})()}onAuthEvent(t){var e=()=>super.onAuthEvent,n=this;return(0,r.Z)(function*(){if("signInViaRedirect"===t.type)return e().call(n,t);if("unknown"!==t.type){if(t.eventId){const r=yield n.auth._redirectUserForId(t.eventId);if(r)return n.user=r,e().call(n,t);n.resolve(null)}}else n.resolve(null)})()}onExecution(){return(0,r.Z)(function*(){})()}cleanUp(){}}function kr(){return(kr=(0,r.Z)(function*(t,e){const n=Dr(e),r="true"===(yield Nr(t)._get(n));return yield Nr(t)._remove(n),r})).apply(this,arguments)}function xr(t,e){return Or.apply(this,arguments)}function Or(){return(Or=(0,r.Z)(function*(t,e){return Nr(t)._set(Dr(e),"true")})).apply(this,arguments)}function Nr(t){return S(t._redirectPersistence)}function Dr(t){return ft("pendingRedirect",t.config.apiKey,t.name)}function Rr(){return(Rr=(0,r.Z)(function*(t,e,n){const r=Ct(t);v(t,e,le);const i=pr(r,n);return yield xr(i,r),i._openRedirect(r,e,"signInViaRedirect")})).apply(this,arguments)}function Pr(){return(Pr=(0,r.Z)(function*(t,e,n){const r=(0,s.m9)(t);v(r.auth,e,le);const i=pr(r.auth,n);yield xr(i,r.auth);const o=yield Ur(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",o)})).apply(this,arguments)}function Lr(){return(Lr=(0,r.Z)(function*(t,e,n){const r=(0,s.m9)(t);v(r.auth,e,le);const i=pr(r.auth,n);yield xe(!1,r,e.providerId),yield xr(i,r.auth);const o=yield Ur(r);return i._openRedirect(r.auth,e,"linkViaRedirect",o)})).apply(this,arguments)}function Fr(){return(Fr=(0,r.Z)(function*(t,e){return yield Ct(t)._initializationPromise,Zr(t,e,!1)})).apply(this,arguments)}function Zr(t,e){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,r.Z)(function*(t,e,n=!1){const r=Ct(t),i=pr(r,e),s=yield new Cr(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})).apply(this,arguments)}function Ur(t){return qr.apply(this,arguments)}function qr(){return(qr=(0,r.Z)(function*(t){const e=On(`${t.uid}:::`);return t._redirectEventId=e,yield t.auth._setRedirectUser(t),yield t.auth._persistUserIfCurrent(t),e})).apply(this,arguments)}class Vr{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(t,n)&&(e=!0,this.sendToConsumer(t,n),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!function(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Br(t);default:return!1}}(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){var n;if(t.error&&!Br(t)){const r=(null===(n=t.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";e.onError(m(this.auth,r))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const n=null===e.eventId||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&n}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(jr(t))}saveEventToCache(t){this.cachedEventUids.add(jr(t)),this.lastProcessedEventTime=Date.now()}}function jr(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(t=>t).join("-")}function Br({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===(null==e?void 0:e.code)}function $r(t){return zr.apply(this,arguments)}function zr(){return(zr=(0,r.Z)(function*(t,e={}){return P(t,"GET","/v1/projects",e)})).apply(this,arguments)}const Hr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Gr=/^https?/;function Kr(){return(Kr=(0,r.Z)(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield $r(t);for(const r of e)try{if(Wr(r))return}catch(n){}g(t,"unauthorized-domain")})).apply(this,arguments)}function Wr(t){const e=I(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const i=new URL(t);return""===i.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Gr.test(n))return!1;if(Hr.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Qr=new k(3e4,6e4);function Yr(){const t=Dn().___jsl;if(null==t?void 0:t.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let Jr=null;function Xr(t){return Jr=Jr||function(t){return new Promise((e,n)=>{var r,i,s;function o(){Yr(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Yr(),n(m(t,"network-request-failed"))},timeout:Qr.get()})}if(null===(i=null===(r=Dn().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)e(gapi.iframes.getContext());else{if(!(null===(s=Dn().gapi)||void 0===s?void 0:s.load)){const e=Wn("iframefcb");return Dn()[e]=()=>{gapi.load?o():n(m(t,"network-request-failed"))},Kn(`https://apis.google.com/js/api.js?onload=${e}`)}o()}}).catch(t=>{throw Jr=null,t})}(t),Jr}const ti=new k(5e3,15e3),ei={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},ni=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ri(t){const e=t.config;b(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?x(e,"emulator/auth/iframe"):`https://${t.config.authDomain}/__/auth/iframe`,r={apiKey:e.apiKey,appName:t.name,v:o.SDK_VERSION},i=ni.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${(0,s.xO)(r).slice(1)}`}function ii(){return(ii=(0,r.Z)(function*(t){const e=yield Xr(t),n=Dn().gapi;return b(n,t,"internal-error"),e.open({where:document.body,url:ri(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ei,dontclear:!0},e=>new Promise(function(){var n=(0,r.Z)(function*(n,r){yield e.restyle({setHideOnLeave:!1});const i=m(t,"network-request-failed"),s=Dn().setTimeout(()=>{r(i)},ti.get());function o(){Dn().clearTimeout(s),n(e)}e.ping(o).then(o,()=>{r(i)})});return function(t,e){return n.apply(this,arguments)}}()))})).apply(this,arguments)}const si={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class oi{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(t){}}}function ai(t,e,n,r,i,a){b(t.config.authDomain,t,"auth-domain-config-required"),b(t.config.apiKey,t,"invalid-api-key");const u={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:o.SDK_VERSION,eventId:i};if(e instanceof le){e.setDefaultLanguage(t.languageCode),u.providerId=e.providerId||"",(0,s.xb)(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[t,e]of Object.entries(a||{}))u[t]=e}if(e instanceof he){const t=e.getScopes().filter(t=>""!==t);t.length>0&&(u.scopes=t.join(","))}t.tenantId&&(u.tid=t.tenantId);const c=u;for(const s of Object.keys(c))void 0===c[s]&&delete c[s];return`${function({config:t}){return t.emulator?x(t,"emulator/auth/handler"):`https://${t.authDomain}/__/auth/handler`}(t)}?${(0,s.xO)(c).slice(1)}`}const ui="webStorageSupport";class ci extends class{constructor(t){this.factorId=t}_process(t,e,n){switch(e.type){case"enroll":return this._finalizeEnroll(t,e.credential,n);case"signin":return this._finalizeSignIn(t,e.credential);default:return w("unexpected MultiFactorSessionType")}}}{constructor(t){super("phone"),this.credential=t}static _fromCredential(t){return new ci(t)}_finalizeEnroll(t,e,n){return function(t,e){return P(t,"POST","/v2/accounts/mfaEnrollment:finalize",R(t,e))}(t,{idToken:e,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(t,e){return function(t,e){return P(t,"POST","/v2/accounts/mfaSignIn:finalize",R(t,e))}(t,{mfaPendingCredential:e,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let li=(()=>{class t{constructor(){}static assertion(t){return ci._fromCredential(t)}}return t.FACTOR_ID="phone",t})();var hi,di="@firebase/auth";class fi{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),(null===(t=this.auth.currentUser)||void 0===t?void 0:t.uid)||null}getToken(t){var e=this;return(0,r.Z)(function*(){return e.assertAuthConfigured(),yield e.auth._initializationPromise,e.auth.currentUser?{accessToken:yield e.auth.currentUser.getIdToken(t)}:null})()}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(e=>{var n;t((null===(n=e)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);!e||(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){b(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function pi(){return window}function gi(){return(gi=(0,r.Z)(function*(t,e,n){var r;const{BuildInfo:i}=pi();T(e.sessionId,"AuthEvent did not contain a session ID");const s=yield vi(e.sessionId),o={};return Et()?o.ibi=i.packageName:bt()?o.apn=i.packageName:g(t,"operation-not-supported-in-this-environment"),i.displayName&&(o.appDisplayName=i.displayName),o.sessionId=s,ai(t,n,e.type,void 0,null!==(r=e.eventId)&&void 0!==r?r:void 0,o)})).apply(this,arguments)}function mi(){return(mi=(0,r.Z)(function*(t){const{BuildInfo:e}=pi(),n={};Et()?n.iosBundleId=e.packageName:bt()?n.androidPackageName=e.packageName:g(t,"operation-not-supported-in-this-environment"),yield $r(t,n)})).apply(this,arguments)}function yi(){return(yi=(0,r.Z)(function*(t,e,n){const{cordova:r}=pi();let i=()=>{};try{yield new Promise((s,o)=>{let a=null;function u(){var t;s();const e=null===(t=r.plugins.browsertab)||void 0===t?void 0:t.close;"function"==typeof e&&e(),"function"==typeof(null==n?void 0:n.close)&&n.close()}function c(){a||(a=window.setTimeout(()=>{o(m(t,"redirect-cancelled-by-user"))},2e3))}function l(){"visible"===(null==document?void 0:document.visibilityState)&&c()}e.addPassiveListener(u),document.addEventListener("resume",c,!1),bt()&&document.addEventListener("visibilitychange",l,!1),i=()=>{e.removePassiveListener(u),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),a&&window.clearTimeout(a)}})}finally{i()}})).apply(this,arguments)}function vi(t){return _i.apply(this,arguments)}function _i(){return(_i=(0,r.Z)(function*(t){const e=bi(t),n=yield crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(n)).map(t=>t.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function bi(t){if(T(/[0-9a-zA-Z]+/.test(t),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(t);const e=new ArrayBuffer(t.length),n=new Uint8Array(e);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}hi="Browser",(0,o._registerComponent)(new c.wA("auth",(t,{options:e})=>{const n=t.getProvider("app").getImmediate(),{apiKey:r,authDomain:i}=n.options;return(t=>{b(r&&!r.includes(":"),"invalid-api-key",{appName:t.name}),b(!(null==i?void 0:i.includes(":")),"argument-error",{appName:t.name});const n={apiKey:r,authDomain:i,clientPlatform:hi,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:It(hi)},s=new At(t,n);return function(t,e){const n=(null==e?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(S);(null==e?void 0:e.errorMap)&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,null==e?void 0:e.popupRedirectResolver)}(s,e),s})(n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider("auth-internal").initialize()})),(0,o._registerComponent)(new c.wA("auth-internal",t=>{const e=Ct(t.getProvider("auth").getImmediate());return new fi(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,o.registerVersion)(di,"0.18.3",void 0),(0,o.registerVersion)(di,"0.18.3","esm2017");class wi extends Vr{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(t=>{this.resolveInialized=t})}addPassiveListener(t){this.passiveListeners.add(t)}removePassiveListener(t){this.passiveListeners.delete(t)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(t){return this.resolveInialized(),this.passiveListeners.forEach(e=>e(t)),super.onEvent(t)}initialized(){var t=this;return(0,r.Z)(function*(){yield t.initPromise})()}}function Ti(t){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,r.Z)(function*(t){const e=yield Ii()._get(Ai(t));return e&&(yield Ii()._remove(Ai(t))),e})).apply(this,arguments)}function Si(){const t=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<20;n++){const n=Math.floor(Math.random()*e.length);t.push(e.charAt(n))}return t.join("")}function Ii(){return S(Cn)}function Ai(t){return ft("authEvent",t.config.apiKey,t.name)}function Ci(t){if(!(null==t?void 0:t.includes("?")))return{};const[e,...n]=t.split("?");return(0,s.zd)(n.join("?"))}function ki(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:m("no-auth-event")}}function xi(){var t;return(null===(t=null==self?void 0:self.location)||void 0===t?void 0:t.protocol)||null}function Oi(t=(0,s.z$)()){return!("file:"!==xi()&&"ionic:"!==xi()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ni(){try{const t=self.localStorage,e=On();if(t)return t.setItem(e,"1"),t.removeItem(e),!function(t=(0,s.z$)()){return(0,s.w1)()&&11===(null==document?void 0:document.documentMode)||function(t=(0,s.z$)()){return/Edge\/\d+/.test(t)}(t)}()||(0,s.hl)()}catch(hi){return Di()&&(0,s.hl)()}return!1}function Di(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Ri(){return("http:"===xi()||"https:"===xi()||(0,s.ru)()||Oi())&&!((0,s.b$)()||(0,s.UG)())&&Ni()&&!Di()}function Pi(){return Oi()&&"undefined"!=typeof document}function Li(){return(Li=(0,r.Z)(function*(){return!!Pi()&&new Promise(t=>{const e=setTimeout(()=>{t(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(e),t(!0)})})})).apply(this,arguments)}const Fi={LOCAL:"local",NONE:"none",SESSION:"session"},Zi=b,Mi="persistence";function Ui(t){return qi.apply(this,arguments)}function qi(){return(qi=(0,r.Z)(function*(t){yield t._initializationPromise;const e=Vi(),n=ft(Mi,t.config.apiKey,t.name);(null==e?void 0:e.sessionStorage)&&e.sessionStorage.setItem(n,t._getPersistence())})).apply(this,arguments)}function Vi(){return"undefined"!=typeof window?window:null}const ji=b;class Bi{constructor(){this.browserResolver=S(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kn,this._completeRedirectFn=Zr}_openPopup(t,e,n,i){var o=this;return(0,r.Z)(function*(){var r;T(null===(r=o.eventManagers[t._key()])||void 0===r?void 0:r.manager,"_initialize() not called before _openPopup()");const a=ai(t,e,n,I(),i);return function(t,e,n,r=500,i=600){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const c=Object.assign(Object.assign({},si),{width:r.toString(),height:i.toString(),top:o,left:a}),l=(0,s.z$)().toLowerCase();n&&(u=vt(l)?"_blank":n),mt(l)&&(e=e||"http://localhost",c.scrollbars="yes");const h=Object.entries(c).reduce((t,[e,n])=>`${t}${e}=${n},`,"");if(function(t=(0,s.z$)()){var e;return Et(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(l)&&"_self"!==u)return function(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",u),new oi(null);const d=window.open(e||"",u,h);b(d,t,"popup-blocked");try{d.focus()}catch(f){}return new oi(d)}(t,a,On())})()}_openRedirect(t,e,n,i){var s=this;return(0,r.Z)(function*(){return yield s._originValidation(t),r=ai(t,e,n,I(),i),Dn().location.href=r,new Promise(()=>{});var r})()}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:t,promise:n}=this.eventManagers[e];return t?Promise.resolve(t):(T(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(t);return this.eventManagers[e]={promise:n},n}initAndGetManager(t){var e=this;return(0,r.Z)(function*(){const n=yield function(t){return ii.apply(this,arguments)}(t),r=new Vr(t);return n.register("authEvent",e=>(b(null==e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),e.eventManagers[t._key()]={manager:r},e.iframes[t._key()]=n,r})()}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(ui,{type:ui},n=>{var r;const i=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r[ui];void 0!==i&&e(!!i),g(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=function(t){return Kr.apply(this,arguments)}(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return St()||yt()||Et()}}),this.cordovaResolver=S(class{constructor(){this._redirectPersistence=kn,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Zr}_initialize(t){var e=this;return(0,r.Z)(function*(){const n=t._key();let r=e.eventManagers.get(n);return r||(r=new wi(t),e.eventManagers.set(n,r),e.attachCallbackListeners(t,r)),r})()}_openPopup(t){g(t,"operation-not-supported-in-this-environment")}_openRedirect(t,e,n,i){var o=this;return(0,r.Z)(function*(){!function(t){var e,n,r,i,s,o,a,u,c,l;const h=pi();b("function"==typeof(null===(e=null==h?void 0:h.universalLinks)||void 0===e?void 0:e.subscribe),t,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),b(void 0!==(null===(n=null==h?void 0:h.BuildInfo)||void 0===n?void 0:n.packageName),t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),b("function"==typeof(null===(s=null===(i=null===(r=null==h?void 0:h.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===s?void 0:s.openUrl),t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),b("function"==typeof(null===(u=null===(a=null===(o=null==h?void 0:h.cordova)||void 0===o?void 0:o.plugins)||void 0===a?void 0:a.browsertab)||void 0===u?void 0:u.isAvailable),t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),b("function"==typeof(null===(l=null===(c=null==h?void 0:h.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),t,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(t);const r=yield o._initialize(t);yield r.initialized(),r.resetRedirect(),Ar.clear(),yield o._originValidation(t);const a=function(t,e,n=null){return{type:e,eventId:n,urlResponse:null,sessionId:Si(),postBody:null,tenantId:t.tenantId,error:m(t,"no-auth-event")}}(t,n,i);yield function(t,e){return Ii()._set(Ai(t),e)}(t,a);const u=yield function(t,e,n){return gi.apply(this,arguments)}(t,a,e),c=yield function(t){const{cordova:e}=pi();return new Promise(n=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(t):i=e.InAppBrowser.open(t,function(t=(0,s.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(t)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(t)}()?"_blank":"_system","location=yes"),n(i)})})}(u);return function(t,e,n){return yi.apply(this,arguments)}(t,r,c)})()}_isIframeWebStorageSupported(t,e){throw new Error("Method not implemented.")}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=function(t){return mi.apply(this,arguments)}(t)),this.originValidationPromises[e]}attachCallbackListeners(t,e){const{universalLinks:n,handleOpenURL:i,BuildInfo:s}=pi(),o=setTimeout((0,r.Z)(function*(){yield Ti(t),e.onEvent(ki())}),500),a=function(){var n=(0,r.Z)(function*(n){clearTimeout(o);const r=yield Ti(t);let i=null;r&&(null==n?void 0:n.url)&&(i=function(t,e){var n,r;const i=function(t){const e=Ci(t),n=e.link?decodeURIComponent(e.link):void 0,r=Ci(n).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return Ci(i).link||i||r||n||t}(e);if(i.includes("/__/auth/callback")){const s=Ci(i),o=s.firebaseError?function(t){try{return JSON.parse(t)}catch(e){return null}}(decodeURIComponent(s.firebaseError)):null,a=null===(r=null===(n=null==o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],u=a?m(a):null;return u?{type:t.type,eventId:t.eventId,tenantId:t.tenantId,error:u,urlResponse:null,sessionId:null,postBody:null}:{type:t.type,eventId:t.eventId,tenantId:t.tenantId,sessionId:t.sessionId,urlResponse:i,postBody:null}}return null}(r,n.url)),e.onEvent(i||ki())});return function(t){return n.apply(this,arguments)}}();void 0!==n&&"function"==typeof n.subscribe&&n.subscribe(null,a);const u=i,c=`${s.packageName.toLowerCase()}://`;pi().handleOpenURL=function(){var t=(0,r.Z)(function*(t){if(t.toLowerCase().startsWith(c)&&a({url:t}),"function"==typeof u)try{u(t)}catch(e){console.error(e)}});return function(e){return t.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=kn,this._completeRedirectFn=Zr}_initialize(t){var e=this;return(0,r.Z)(function*(){return yield e.selectUnderlyingResolver(),e.assertedUnderlyingResolver._initialize(t)})()}_openPopup(t,e,n,i){var s=this;return(0,r.Z)(function*(){return yield s.selectUnderlyingResolver(),s.assertedUnderlyingResolver._openPopup(t,e,n,i)})()}_openRedirect(t,e,n,i){var s=this;return(0,r.Z)(function*(){return yield s.selectUnderlyingResolver(),s.assertedUnderlyingResolver._openRedirect(t,e,n,i)})()}_isIframeWebStorageSupported(t,e){this.assertedUnderlyingResolver._isIframeWebStorageSupported(t,e)}_originValidation(t){return this.assertedUnderlyingResolver._originValidation(t)}get _shouldInitProactively(){return Pi()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return ji(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var t=this;return(0,r.Z)(function*(){if(t.underlyingResolver)return;const e=yield function(){return Li.apply(this,arguments)}();t.underlyingResolver=e?t.cordovaResolver:t.browserResolver})()}}function $i(t){return t.unwrap()}function zi(t){return Hi(t)}function Hi(t){const{_tokenResponse:e}=t instanceof s.ZR?t.customData:t;if(!e)return null;if(!(t instanceof s.ZR)&&"temporaryProof"in e&&"phoneNumber"in e)return fr.credentialFromResult(t);const n=e.providerId;if(!n||"password"===n)return null;let r;switch(n){case"google.com":r=pe;break;case"facebook.com":r=fe;break;case"github.com":r=ge;break;case"twitter.com":r=ye;break;default:const{oauthIdToken:t,oauthAccessToken:i,oauthTokenSecret:s,pendingToken:o,nonce:a}=e;return i||s||t||o?o?n.startsWith("saml.")?me._create(n,o):te._fromParams({providerId:n,signInMethod:n,pendingToken:o,idToken:t,accessToken:i}):new de(n).credential({idToken:t,accessToken:i,rawNonce:a}):null}return t instanceof s.ZR?r.credentialFromError(t):r.credentialFromResult(t)}function Gi(t,e){return e.catch(e=>{throw e instanceof s.ZR&&function(t,e){var n;const r=null===(n=e.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===e.code)e.resolver=new Qi(t,function(t,e){var n;const r=(0,s.m9)(t),i=e;return b(e.operationType,r,"argument-error"),b(null===(n=i.serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),wn._fromError(r,i)}(t,e));else if(r){const t=Hi(e),n=e;t&&(n.credential=t,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}(t,e),e}).then(t=>{const e=t.user;return{operationType:t.operationType,credential:zi(t),additionalUserInfo:_n(t),user:Yi.getOrCreate(e)}})}function Ki(t,e){return Wi.apply(this,arguments)}function Wi(){return(Wi=(0,r.Z)(function*(t,e){const n=yield e;return{verificationId:n.verificationId,confirm:e=>Gi(t,n.confirm(e))}})).apply(this,arguments)}class Qi{constructor(t,e){this.resolver=e,this.auth=function(t){return t.wrapped()}(t)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(t){return Gi($i(this.auth),this.resolver.resolveSignIn(t))}}class Yi{constructor(t){this._delegate=t,this.multiFactor=function(t){const e=(0,s.m9)(t);return Sn.has(e)||Sn.set(e,En._fromUser(e)),Sn.get(e)}(t)}static getOrCreate(t){return Yi.USER_MAP.has(t)||Yi.USER_MAP.set(t,new Yi(t)),Yi.USER_MAP.get(t)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(t){return this._delegate.getIdTokenResult(t)}getIdToken(t){return this._delegate.getIdToken(t)}linkAndRetrieveDataWithCredential(t){return this.linkWithCredential(t)}linkWithCredential(t){var e=this;return(0,r.Z)(function*(){return Gi(e.auth,Ze(e._delegate,t))})()}linkWithPhoneNumber(t,e){var n=this;return(0,r.Z)(function*(){return Ki(n.auth,function(t,e,n){return ur.apply(this,arguments)}(n._delegate,t,e))})()}linkWithPopup(t){var e=this;return(0,r.Z)(function*(){return Gi(e.auth,function(t,e,n){return Sr.apply(this,arguments)}(e._delegate,t,Bi))})()}linkWithRedirect(t){var e=this;return(0,r.Z)(function*(){return yield Ui(Ct(e.auth)),function(t,e,n){return function(t,e,n){return Lr.apply(this,arguments)}(t,e,n)}(e._delegate,t,Bi)})()}reauthenticateAndRetrieveDataWithCredential(t){return this.reauthenticateWithCredential(t)}reauthenticateWithCredential(t){var e=this;return(0,r.Z)(function*(){return Gi(e.auth,Ue(e._delegate,t))})()}reauthenticateWithPhoneNumber(t,e){return Ki(this.auth,function(t,e,n){return cr.apply(this,arguments)}(this._delegate,t,e))}reauthenticateWithPopup(t){return Gi(this.auth,function(t,e,n){return Er.apply(this,arguments)}(this._delegate,t,Bi))}reauthenticateWithRedirect(t){var e=this;return(0,r.Z)(function*(){return yield Ui(Ct(e.auth)),function(t,e,n){return function(t,e,n){return Pr.apply(this,arguments)}(t,e,n)}(e._delegate,t,Bi)})()}sendEmailVerification(t){return function(t,e){return on.apply(this,arguments)}(this._delegate,t)}unlink(t){var e=this;return(0,r.Z)(function*(){return yield function(t,e){return Ae.apply(this,arguments)}(e._delegate,t),e})()}updateEmail(t){return function(t,e){return hn((0,s.m9)(t),e,null)}(this._delegate,t)}updatePassword(t){return function(t,e){return hn((0,s.m9)(t),null,e)}(this._delegate,t)}updatePhoneNumber(t){return function(t,e){return dr.apply(this,arguments)}(this._delegate,t)}updateProfile(t){return function(t,e){return ln.apply(this,arguments)}(this._delegate,t)}verifyBeforeUpdateEmail(t,e){return function(t,e,n){return an.apply(this,arguments)}(this._delegate,t,e)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Yi.USER_MAP=new WeakMap;const Ji=b;let Xi=(()=>{class t{constructor(t,e){if(this.app=t,e.isInitialized())return this._delegate=e.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=t.options;Ji(n,"invalid-api-key",{appName:t.name});let r=[dt];if("undefined"!=typeof window){r=function(t,e){const n=Vi();if(!(null==n?void 0:n.sessionStorage))return[];const r=ft(Mi,t,e);switch(n.sessionStorage.getItem(r)){case Fi.NONE:return[dt];case Fi.LOCAL:return[zn,kn];case Fi.SESSION:return[kn];default:return[]}}(n,t.name);for(const t of[zn,Cn,kn])r.includes(t)||r.push(t)}Ji(n,"invalid-api-key",{appName:t.name});const i="undefined"!=typeof window?Bi:void 0;this._delegate=e.initialize({options:{persistence:r,popupRedirectResolver:i}}),this._delegate._updateErrorMap(l),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Yi.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(t){this._delegate.languageCode=t}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(t){this._delegate.tenantId=t}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(t,e){!function(t,e,n){const r=Ct(t);b(r._canInitEmulator,r,"emulator-config-failed"),b(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(null==n?void 0:n.disableWarnings),s=xt(e),{host:o,port:a}=function(t){const e=xt(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const t=i[1];return{host:t,port:Ot(r.substr(t.length+1))}}{const[t,e]=r.split(":");return{host:t,port:Ot(e)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function t(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(this._delegate,t,e)}applyActionCode(t){return function(t,e){return We.apply(this,arguments)}(this._delegate,t)}checkActionCode(t){return Qe(this._delegate,t)}confirmPasswordReset(t,e){return function(t,e,n){return Ke.apply(this,arguments)}(this._delegate,t,e)}createUserWithEmailAndPassword(t,e){var n=this;return(0,r.Z)(function*(){return Gi(n._delegate,function(t,e,n){return Xe.apply(this,arguments)}(n._delegate,t,e))})()}fetchProvidersForEmail(t){return this.fetchSignInMethodsForEmail(t)}fetchSignInMethodsForEmail(t){return function(t,e){return sn.apply(this,arguments)}(this._delegate,t)}isSignInWithEmailLink(t){return function(t,e){const n=ue.parseLink(e);return"EMAIL_SIGNIN"===(null==n?void 0:n.operation)}(0,t)}getRedirectResult(){var t=this;return(0,r.Z)(function*(){Ji(Ri(),t._delegate,"operation-not-supported-in-this-environment");const e=yield function(t,e){return Fr.apply(this,arguments)}(t._delegate,Bi);return e?Gi(t._delegate,Promise.resolve(e)):{credential:null,user:null}})()}addFrameworkForLogging(t){!function(t,e){Ct(t)._logFramework(e)}(this._delegate,t)}onAuthStateChanged(t,e,n){const{next:r,error:i,complete:s}=ts(t,e,n);return this._delegate.onAuthStateChanged(r,i,s)}onIdTokenChanged(t,e,n){const{next:r,error:i,complete:s}=ts(t,e,n);return this._delegate.onIdTokenChanged(r,i,s)}sendSignInLinkToEmail(t,e){return function(t,e,n){return tn.apply(this,arguments)}(this._delegate,t,e)}sendPasswordResetEmail(t,e){return function(t,e,n){return Ge.apply(this,arguments)}(this._delegate,t,e||void 0)}setPersistence(t){var e=this;return(0,r.Z)(function*(){let n;switch(function(t,e){Zi(Object.values(Fi).includes(e),t,"invalid-persistence-type"),(0,s.b$)()?Zi(e!==Fi.SESSION,t,"unsupported-persistence-type"):(0,s.UG)()?Zi(e===Fi.NONE,t,"unsupported-persistence-type"):Di()?Zi(e===Fi.NONE||e===Fi.LOCAL&&(0,s.hl)(),t,"unsupported-persistence-type"):Zi(e===Fi.NONE||Ni(),t,"unsupported-persistence-type")}(e._delegate,t),t){case Fi.SESSION:n=kn;break;case Fi.LOCAL:n=(yield S(zn)._isAvailable())?zn:Cn;break;case Fi.NONE:n=dt;break;default:return g("argument-error",{appName:e._delegate.name})}return e._delegate.setPersistence(n)})()}signInAndRetrieveDataWithCredential(t){return this.signInWithCredential(t)}signInAnonymously(){return Gi(this._delegate,function(t){return Te.apply(this,arguments)}(this._delegate))}signInWithCredential(t){return Gi(this._delegate,Le(this._delegate,t))}signInWithCustomToken(t){return Gi(this._delegate,function(t,e){return Be.apply(this,arguments)}(this._delegate,t))}signInWithEmailAndPassword(t,e){return Gi(this._delegate,function(t,e,n){return Le((0,s.m9)(t),ce.credential(e,n))}(this._delegate,t,e))}signInWithEmailLink(t,e){return Gi(this._delegate,function(t,e,n){return en.apply(this,arguments)}(this._delegate,t,e))}signInWithPhoneNumber(t,e){return Ki(this._delegate,function(t,e,n){return ar.apply(this,arguments)}(this._delegate,t,e))}signInWithPopup(t){var e=this;return(0,r.Z)(function*(){return Ji(Ri(),e._delegate,"operation-not-supported-in-this-environment"),Gi(e._delegate,function(t,e,n){return Tr.apply(this,arguments)}(e._delegate,t,Bi))})()}signInWithRedirect(t){var e=this;return(0,r.Z)(function*(){return Ji(Ri(),e._delegate,"operation-not-supported-in-this-environment"),yield Ui(e._delegate),function(t,e,n){return function(t,e,n){return Rr.apply(this,arguments)}(t,e,n)}(e._delegate,t,Bi)})()}updateCurrentUser(t){return this._delegate.updateCurrentUser(t)}verifyPasswordResetCode(t){return function(t,e){return Je.apply(this,arguments)}(this._delegate,t)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return t.Persistence=Fi,t})();function ts(t,e,n){let r=t;"function"!=typeof t&&({next:r,error:e,complete:n}=t);const i=r;return{next:t=>i(t&&Yi.getOrCreate(t)),error:e,complete:n}}class es{constructor(){this.providerId="phone",this._delegate=new fr($i(i.Z.auth()))}static credential(t,e){return fr.credential(t,e)}verifyPhoneNumber(t,e){return this._delegate.verifyPhoneNumber(t,e)}unwrap(){return this._delegate}}es.PHONE_SIGN_IN_METHOD=fr.PHONE_SIGN_IN_METHOD,es.PROVIDER_ID=fr.PROVIDER_ID;const ns=b;class rs{constructor(t,e,n=i.Z.app()){var r;ns(null===(r=n.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new sr(t,e,n.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function(t){t.INTERNAL.registerComponent(new c.wA("auth-compat",t=>{const e=t.getProvider("app-compat").getImmediate(),n=t.getProvider("auth");return new Xi(e,n)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:ce,FacebookAuthProvider:fe,GithubAuthProvider:ge,GoogleAuthProvider:pe,OAuthProvider:de,PhoneAuthProvider:es,PhoneMultiFactorGenerator:li,RecaptchaVerifier:rs,TwitterAuthProvider:ye,Auth:Xi,AuthCredential:Nt,Error:s.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),t.registerVersion("@firebase/auth-compat","0.1.6")}(i.Z)},6676:function(t,e){!function(t){"use strict";function e(t){return Array.prototype.slice.call(t)}function n(t){return new Promise(function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function r(t,e,r){var i,s=new Promise(function(s,o){n(i=t[e].apply(t,r)).then(s,o)});return s.request=i,s}function i(t,e,n){var i=r(t,e,n);return i.then(function(t){if(t)return new l(t,i.request)})}function s(t,e,n){n.forEach(function(n){Object.defineProperty(t.prototype,n,{get:function(){return this[e][n]},set:function(t){this[e][n]=t}})})}function o(t,e,n,i){i.forEach(function(i){i in n.prototype&&(t.prototype[i]=function(){return r(this[e],i,arguments)})})}function a(t,e,n,r){r.forEach(function(r){r in n.prototype&&(t.prototype[r]=function(){return this[e][r].apply(this[e],arguments)})})}function u(t,e,n,r){r.forEach(function(r){r in n.prototype&&(t.prototype[r]=function(){return i(this[e],r,arguments)})})}function c(t){this._index=t}function l(t,e){this._cursor=t,this._request=e}function h(t){this._store=t}function d(t){this._tx=t,this.complete=new Promise(function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}})}function f(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new d(n)}function p(t){this._db=t}s(c,"_index",["name","keyPath","multiEntry","unique"]),o(c,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),u(c,"_index",IDBIndex,["openCursor","openKeyCursor"]),s(l,"_cursor",["direction","key","primaryKey","value"]),o(l,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(t){t in IDBCursor.prototype&&(l.prototype[t]=function(){var e=this,r=arguments;return Promise.resolve().then(function(){return e._cursor[t].apply(e._cursor,r),n(e._request).then(function(t){if(t)return new l(t,e._request)})})})}),h.prototype.createIndex=function(){return new c(this._store.createIndex.apply(this._store,arguments))},h.prototype.index=function(){return new c(this._store.index.apply(this._store,arguments))},s(h,"_store",["name","keyPath","indexNames","autoIncrement"]),o(h,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),u(h,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),a(h,"_store",IDBObjectStore,["deleteIndex"]),d.prototype.objectStore=function(){return new h(this._tx.objectStore.apply(this._tx,arguments))},s(d,"_tx",["objectStoreNames","mode"]),a(d,"_tx",IDBTransaction,["abort"]),f.prototype.createObjectStore=function(){return new h(this._db.createObjectStore.apply(this._db,arguments))},s(f,"_db",["name","version","objectStoreNames"]),a(f,"_db",IDBDatabase,["deleteObjectStore","close"]),p.prototype.transaction=function(){return new d(this._db.transaction.apply(this._db,arguments))},s(p,"_db",["name","version","objectStoreNames"]),a(p,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(t){[h,c].forEach(function(n){t in n.prototype&&(n.prototype[t.replace("open","iterate")]=function(){var n=e(arguments),r=n[n.length-1],i=this._store||this._index,s=i[t].apply(i,n.slice(0,-1));s.onsuccess=function(){r(s.result)}})})}),[c,h].forEach(function(t){t.prototype.getAll||(t.prototype.getAll=function(t,e){var n=this,r=[];return new Promise(function(i){n.iterateCursor(t,function(t){t?(r.push(t.value),void 0===e||r.length!=e?t.continue():i(r)):i(r)})})})}),t.openDb=function(t,e,n){var i=r(indexedDB,"open",[t,e]),s=i.request;return s&&(s.onupgradeneeded=function(t){n&&n(new f(s.result,t.oldVersion,s.transaction))}),i.then(function(t){return new p(t)})},t.deleteDb=function(t){return r(indexedDB,"deleteDatabase",[t])},Object.defineProperty(t,"__esModule",{value:!0})}(e)},7574:function(t,e,n){"use strict";n.d(e,{y:function(){return c}});var r=n(7393),i=n(9181),s=n(6490),o=n(6554),a=n(4487);var u=n(2494);let c=(()=>{class t{constructor(t){this._isScalar=!1,t&&(this._subscribe=t)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(t,e,n){const{operator:o}=this,a=function(t,e,n){if(t){if(t instanceof r.L)return t;if(t[i.b])return t[i.b]()}return t||e||n?new r.L(t,e,n):new r.L(s.c)}(t,e,n);if(a.add(o?o.call(a,this.source):this.source||u.v.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),u.v.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(t){try{return this._subscribe(t)}catch(e){u.v.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){const{closed:e,destination:n,isStopped:i}=t;if(e||i)return!1;t=n&&n instanceof r.L?n:null}return!0}(t)?t.error(e):console.warn(e)}}forEach(t,e){return new(e=l(e))((e,n)=>{let r;r=this.subscribe(e=>{try{t(e)}catch(i){n(i),r&&r.unsubscribe()}},n,e)})}_subscribe(t){const{source:e}=this;return e&&e.subscribe(t)}[o.L](){return this}pipe(...t){return 0===t.length?this:function(t){return 0===t.length?a.y:1===t.length?t[0]:function(e){return t.reduce((t,e)=>e(t),e)}}(t)(this)}toPromise(t){return new(t=l(t))((t,e)=>{let n;this.subscribe(t=>n=t,t=>e(t),()=>t(n))})}}return t.create=e=>new t(e),t})();function l(t){if(t||(t=u.v.Promise||Promise),!t)throw new Error("no Promise impl found");return t}},6490:function(t,e,n){"use strict";n.d(e,{c:function(){return s}});var r=n(2494),i=n(4449);const s={closed:!0,next(t){},error(t){if(r.v.useDeprecatedSynchronousErrorHandling)throw t;(0,i.z)(t)},complete(){}}},9765:function(t,e,n){"use strict";n.d(e,{Yc:function(){return c},xQ:function(){return l}});var r=n(7574),i=n(7393),s=n(5319),o=n(7971),a=n(8858),u=n(9181);class c extends i.L{constructor(t){super(t),this.destination=t}}let l=(()=>{class t extends r.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[u.b](){return new c(this)}lift(t){const e=new h(this,this);return e.operator=t,e}next(t){if(this.closed)throw new o.N;if(!this.isStopped){const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].next(t)}}error(t){if(this.closed)throw new o.N;this.hasError=!0,this.thrownError=t,this.isStopped=!0;const{observers:e}=this,n=e.length,r=e.slice();for(let i=0;i<n;i++)r[i].error(t);this.observers.length=0}complete(){if(this.closed)throw new o.N;this.isStopped=!0;const{observers:t}=this,e=t.length,n=t.slice();for(let r=0;r<e;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(t){if(this.closed)throw new o.N;return super._trySubscribe(t)}_subscribe(t){if(this.closed)throw new o.N;return this.hasError?(t.error(this.thrownError),s.w.EMPTY):this.isStopped?(t.complete(),s.w.EMPTY):(this.observers.push(t),new a.W(this,t))}asObservable(){const t=new r.y;return t.source=this,t}}return t.create=(t,e)=>new h(t,e),t})();class h extends l{constructor(t,e){super(),this.destination=t,this.source=e}next(t){const{destination:e}=this;e&&e.next&&e.next(t)}error(t){const{destination:e}=this;e&&e.error&&this.destination.error(t)}complete(){const{destination:t}=this;t&&t.complete&&this.destination.complete()}_subscribe(t){const{source:e}=this;return e?this.source.subscribe(t):s.w.EMPTY}}},8858:function(t,e,n){"use strict";n.d(e,{W:function(){return i}});var r=n(5319);class i extends r.w{constructor(t,e){super(),this.subject=t,this.subscriber=e,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const t=this.subject,e=t.observers;if(this.subject=null,!e||0===e.length||t.isStopped||t.closed)return;const n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},7393:function(t,e,n){"use strict";n.d(e,{L:function(){return c}});var r=n(9105),i=n(6490),s=n(5319),o=n(9181),a=n(2494),u=n(4449);class c extends s.w{constructor(t,e,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.c;break;case 1:if(!t){this.destination=i.c;break}if("object"==typeof t){t instanceof c?(this.syncErrorThrowable=t.syncErrorThrowable,this.destination=t,t.add(this)):(this.syncErrorThrowable=!0,this.destination=new l(this,t));break}default:this.syncErrorThrowable=!0,this.destination=new l(this,t,e,n)}}[o.b](){return this}static create(t,e,n){const r=new c(t,e,n);return r.syncErrorThrowable=!1,r}next(t){this.isStopped||this._next(t)}error(t){this.isStopped||(this.isStopped=!0,this._error(t))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(t){this.destination.next(t)}_error(t){this.destination.error(t),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:t}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this}}class l extends c{constructor(t,e,n,s){super(),this._parentSubscriber=t;let o,a=this;(0,r.m)(e)?o=e:e&&(o=e.next,n=e.error,s=e.complete,e!==i.c&&(a=Object.create(e),(0,r.m)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=o,this._error=n,this._complete=s}next(t){if(!this.isStopped&&this._next){const{_parentSubscriber:e}=this;a.v.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}}error(t){if(!this.isStopped){const{_parentSubscriber:e}=this,{useDeprecatedSynchronousErrorHandling:n}=a.v;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):(0,u.z)(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;(0,u.z)(t)}}}complete(){if(!this.isStopped){const{_parentSubscriber:t}=this;if(this._complete){const e=()=>this._complete.call(this._context);a.v.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,e),this.unsubscribe()):(this.__tryOrUnsub(e),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),a.v.useDeprecatedSynchronousErrorHandling)throw n;(0,u.z)(n)}}__tryOrSetError(t,e,n){if(!a.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return a.v.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):((0,u.z)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:t}=this;this._context=null,this._parentSubscriber=null,t.unsubscribe()}}},5319:function(t,e,n){"use strict";n.d(e,{w:function(){return a}});var r=n(9796),i=n(1555),s=n(9105);const o=(()=>{function t(t){return Error.call(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((t,e)=>`${e+1}) ${t.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t})();class a{constructor(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:e,_ctorUnsubscribe:n,_unsubscribe:u,_subscriptions:l}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,e instanceof a)e.remove(this);else if(null!==e)for(let r=0;r<e.length;++r)e[r].remove(this);if((0,s.m)(u)){n&&(this._unsubscribe=void 0);try{u.call(this)}catch(h){t=h instanceof o?c(h.errors):[h]}}if((0,r.k)(l)){let e=-1,n=l.length;for(;++e<n;){const n=l[e];if((0,i.K)(n))try{n.unsubscribe()}catch(d){t=t||[],d instanceof o?t=t.concat(c(d.errors)):t.push(d)}}}if(t)throw new o(t)}add(t){let e=t;if(!t)return a.EMPTY;switch(typeof t){case"function":e=new a(t);case"object":if(e===this||e.closed||"function"!=typeof e.unsubscribe)return e;if(this.closed)return e.unsubscribe(),e;if(!(e instanceof a)){const t=e;e=new a,e._subscriptions=[t]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:n}=e;if(null===n)e._parentOrParents=this;else if(n instanceof a){if(n===this)return e;e._parentOrParents=[n,this]}else{if(-1!==n.indexOf(this))return e;n.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[e]:r.push(e),e}remove(t){const e=this._subscriptions;if(e){const n=e.indexOf(t);-1!==n&&e.splice(n,1)}}}var u;function c(t){return t.reduce((t,e)=>t.concat(e instanceof o?e.errors:e),[])}a.EMPTY=((u=new a).closed=!0,u)},2494:function(t,e,n){"use strict";n.d(e,{v:function(){return i}});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){const t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=t},get useDeprecatedSynchronousErrorHandling(){return r}}},5345:function(t,e,n){"use strict";n.d(e,{IY:function(){return o},Ds:function(){return a},ft:function(){return u}});var r=n(7393),i=n(7574),s=n(7444);class o extends r.L{constructor(t){super(),this.parent=t}_next(t){this.parent.notifyNext(t)}_error(t){this.parent.notifyError(t),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.L{notifyNext(t){this.destination.next(t)}notifyError(t){this.destination.error(t)}notifyComplete(){this.destination.complete()}}function u(t,e){if(e.closed)return;if(t instanceof i.y)return t.subscribe(e);let n;try{n=(0,s.s)(t)(e)}catch(r){e.error(r)}return n}},2441:function(t,e,n){"use strict";n.d(e,{c:function(){return a},N:function(){return u}});var r=n(9765),i=n(7574),s=n(5319),o=n(1307);class a extends i.y{constructor(t,e){super(),this.source=t,this.subjectFactory=e,this._refCount=0,this._isComplete=!1}_subscribe(t){return this.getSubject().subscribe(t)}getSubject(){const t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let t=this._connection;return t||(this._isComplete=!1,t=this._connection=new s.w,t.add(this.source.subscribe(new c(this.getSubject(),this))),t.closed&&(this._connection=null,t=s.w.EMPTY)),t}refCount(){return(0,o.x)()(this)}}const u=(()=>{const t=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}})();class c extends r.Yc{constructor(t,e){super(t),this.connectable=e}_error(t){this._unsubscribe(),super._error(t)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const t=this.connectable;if(t){this.connectable=null;const e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}}}},9193:function(t,e,n){"use strict";n.d(e,{E:function(){return i},c:function(){return s}});var r=n(7574);const i=new r.y(t=>t.complete());function s(t){return t?function(t){return new r.y(e=>t.schedule(()=>e.complete()))}(t):i}},4402:function(t,e,n){"use strict";n.d(e,{D:function(){return h}});var r=n(7574),i=n(7444),s=n(5319),o=n(6554),a=n(4087),u=n(377),c=n(4072),l=n(9489);function h(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[o.L]}(t))return function(t,e){return new r.y(n=>{const r=new s.w;return r.add(e.schedule(()=>{const i=t[o.L]();r.add(i.subscribe({next(t){r.add(e.schedule(()=>n.next(t)))},error(t){r.add(e.schedule(()=>n.error(t)))},complete(){r.add(e.schedule(()=>n.complete()))}}))})),r})}(t,e);if((0,c.t)(t))return function(t,e){return new r.y(n=>{const r=new s.w;return r.add(e.schedule(()=>t.then(t=>{r.add(e.schedule(()=>{n.next(t),r.add(e.schedule(()=>n.complete()))}))},t=>{r.add(e.schedule(()=>n.error(t)))}))),r})}(t,e);if((0,l.z)(t))return(0,a.r)(t,e);if(function(t){return t&&"function"==typeof t[u.hZ]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.y(n=>{const r=new s.w;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(e.schedule(()=>{i=t[u.hZ](),r.add(e.schedule(function(){if(n.closed)return;let t,e;try{const n=i.next();t=n.value,e=n.done}catch(r){return void n.error(r)}e?n.complete():(n.next(t),this.schedule())}))})),r})}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof r.y?t:new r.y((0,i.s)(t))}},6693:function(t,e,n){"use strict";n.d(e,{n:function(){return o}});var r=n(7574),i=n(5015),s=n(4087);function o(t,e){return e?(0,s.r)(t,e):new r.y((0,i.V)(t))}},6682:function(t,e,n){"use strict";n.d(e,{T:function(){return a}});var r=n(7574),i=n(4869),s=n(3282),o=n(6693);function a(...t){let e=Number.POSITIVE_INFINITY,n=null,a=t[t.length-1];return(0,i.K)(a)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(e=t.pop())):"number"==typeof a&&(e=t.pop()),null===n&&1===t.length&&t[0]instanceof r.y?t[0]:(0,s.J)(e)((0,o.n)(t,n))}},5917:function(t,e,n){"use strict";n.d(e,{of:function(){return o}});var r=n(4869),i=n(6693),s=n(4087);function o(...t){let e=t[t.length-1];return(0,r.K)(e)?(t.pop(),(0,s.r)(t,e)):(0,i.n)(t)}},8002:function(t,e,n){"use strict";n.d(e,{U:function(){return i}});var r=n(7393);function i(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new s(t,e))}}class s{constructor(t,e){this.project=t,this.thisArg=e}call(t,e){return e.subscribe(new o(t,this.project,this.thisArg))}}class o extends r.L{constructor(t,e,n){super(t),this.project=e,this.count=0,this.thisArg=n||this}_next(t){let e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}},3282:function(t,e,n){"use strict";n.d(e,{J:function(){return s}});var r=n(9773),i=n(4487);function s(t=Number.POSITIVE_INFINITY){return(0,r.zg)(i.y,t)}},9773:function(t,e,n){"use strict";n.d(e,{zg:function(){return o}});var r=n(8002),i=n(4402),s=n(5345);function o(t,e,n=Number.POSITIVE_INFINITY){return"function"==typeof e?s=>s.pipe(o((n,s)=>(0,i.D)(t(n,s)).pipe((0,r.U)((t,r)=>e(n,t,s,r))),n)):("number"==typeof e&&(n=e),e=>e.lift(new a(t,n)))}class a{constructor(t,e=Number.POSITIVE_INFINITY){this.project=t,this.concurrent=e}call(t,e){return e.subscribe(new u(t,this.project,this.concurrent))}}class u extends s.Ds{constructor(t,e,n=Number.POSITIVE_INFINITY){super(t),this.project=e,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)}_tryNext(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)}_innerSub(t){const e=new s.IY(this),n=this.destination;n.add(e);const r=(0,s.ft)(t,e);r!==e&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(t){this.destination.next(t)}notifyComplete(){const t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},309:function(t,e,n){"use strict";n.d(e,{ht:function(){return l},QV:function(){return u}});var r=n(7393),i=n(9193),s=n(5917),o=n(7574);class a{constructor(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}observe(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}}do(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}}accept(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)}toObservable(){switch(this.kind){case"N":return(0,s.of)(this.value);case"E":return t=this.error,new o.y(e=>e.error(t));case"C":return(0,i.c)()}var t;throw new Error("unexpected notification kind value")}static createNext(t){return void 0!==t?new a("N",t):a.undefinedValueNotification}static createError(t){return new a("E",void 0,t)}static createComplete(){return a.completeNotification}}function u(t,e=0){return function(n){return n.lift(new c(t,e))}}a.completeNotification=new a("C"),a.undefinedValueNotification=new a("N",void 0);class c{constructor(t,e=0){this.scheduler=t,this.delay=e}call(t,e){return e.subscribe(new l(t,this.scheduler,this.delay))}}class l extends r.L{constructor(t,e,n=0){super(t),this.scheduler=e,this.delay=n}static dispatch(t){const{notification:e,destination:n}=t;e.observe(n),this.unsubscribe()}scheduleMessage(t){this.destination.add(this.scheduler.schedule(l.dispatch,this.delay,new h(t,this.destination)))}_next(t){this.scheduleMessage(a.createNext(t))}_error(t){this.scheduleMessage(a.createError(t)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(t,e){this.notification=t,this.destination=e}}},1307:function(t,e,n){"use strict";n.d(e,{x:function(){return i}});var r=n(7393);function i(){return function(t){return t.lift(new s(t))}}class s{constructor(t){this.connectable=t}call(t,e){const{connectable:n}=this;n._refCount++;const r=new o(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class o extends r.L{constructor(t,e){super(t),this.connectable=e}_unsubscribe(){const{connectable:t}=this;if(!t)return void(this.connection=null);this.connectable=null;const e=t._refCount;if(e<=0)return void(this.connection=null);if(t._refCount=e-1,e>1)return void(this.connection=null);const{connection:n}=this,r=t._connection;this.connection=null,r&&(!n||r===n)&&r.unsubscribe()}}},3101:function(t,e,n){"use strict";n.d(e,{R:function(){return p}});var r=n(7574);let i=1;const s=Promise.resolve(),o={};function a(t){return t in o&&(delete o[t],!0)}const u={setImmediate(t){const e=i++;return o[e]=!0,s.then(()=>a(e)&&t()),e},clearImmediate(t){a(t)}};var c=n(6465),l=n(6102);const h=new class extends l.v{flush(t){this.active=!0,this.scheduled=void 0;const{actions:e}=this;let n,r=-1,i=e.length;t=t||e.shift();do{if(n=t.execute(t.state,t.delay))break}while(++r<i&&(t=e.shift()));if(this.active=!1,n){for(;++r<i&&(t=e.shift());)t.unsubscribe();throw n}}}(class extends c.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}requestAsyncId(t,e,n=0){return null!==n&&n>0?super.requestAsyncId(t,e,n):(t.actions.push(this),t.scheduled||(t.scheduled=u.setImmediate(t.flush.bind(t,null))))}recycleAsyncId(t,e,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(t,e,n);0===t.actions.length&&(u.clearImmediate(e),t.scheduled=void 0)}});var d=n(9796);class f extends r.y{constructor(t,e=0,n=h){var r;super(),this.source=t,this.delayTime=e,this.scheduler=n,(!(!(0,d.k)(r=e)&&r-parseFloat(r)+1>=0)||e<0)&&(this.delayTime=0),(!n||"function"!=typeof n.schedule)&&(this.scheduler=h)}static create(t,e=0,n=h){return new f(t,e,n)}static dispatch(t){const{source:e,subscriber:n}=t;return this.add(e.subscribe(n))}_subscribe(t){return this.scheduler.schedule(f.dispatch,this.delayTime,{source:this.source,subscriber:t})}}function p(t,e=0){return function(n){return n.lift(new g(t,e))}}class g{constructor(t,e){this.scheduler=t,this.delay=e}call(t,e){return new f(e,this.delay,this.scheduler).subscribe(t)}}},3342:function(t,e,n){"use strict";n.d(e,{b:function(){return o}});var r=n(7393);function i(){}var s=n(9105);function o(t,e,n){return function(r){return r.lift(new a(t,e,n))}}class a{constructor(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}call(t,e){return e.subscribe(new u(t,this.nextOrObserver,this.error,this.complete))}}class u extends r.L{constructor(t,e,n,r){super(t),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,(0,s.m)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||i,this._tapError=e.error||i,this._tapComplete=e.complete||i)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}},4087:function(t,e,n){"use strict";n.d(e,{r:function(){return s}});var r=n(7574),i=n(5319);function s(t,e){return new r.y(n=>{const r=new i.w;let s=0;return r.add(e.schedule(function(){s!==t.length?(n.next(t[s++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},6465:function(t,e,n){"use strict";n.d(e,{o:function(){return s}});var r=n(5319);class i extends r.w{constructor(t,e){super()}schedule(t,e=0){return this}}class s extends i{constructor(t,e){super(t,e),this.scheduler=t,this.work=e,this.pending=!1}schedule(t,e=0){if(this.closed)return this;this.state=t;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this}requestAsyncId(t,e,n=0){return setInterval(t.flush.bind(t,this),n)}recycleAsyncId(t,e,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)}execute(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(t,e){let n,r=!1;try{this.work(t)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null}}},6102:function(t,e,n){"use strict";n.d(e,{v:function(){return i}});let r=(()=>{class t{constructor(e,n=t.now){this.SchedulerAction=e,this.now=n}schedule(t,e=0,n){return new this.SchedulerAction(this,t).schedule(n,e)}}return t.now=()=>Date.now(),t})();class i extends r{constructor(t,e=r.now){super(t,()=>i.delegate&&i.delegate!==this?i.delegate.now():e()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(t,e=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(t,e,n):super.schedule(t,e,n)}flush(t){const{actions:e}=this;if(this.active)return void e.push(t);let n;this.active=!0;do{if(n=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,n){for(;t=e.shift();)t.unsubscribe();throw n}}}},3637:function(t,e,n){"use strict";n.d(e,{z:function(){return i}});var r=n(6465);const i=new(n(6102).v)(r.o)},7771:function(t,e,n){"use strict";n.d(e,{c:function(){return o},N:function(){return s}});var r=n(6465),i=n(6102);const s=new class extends i.v{}(class extends r.o{constructor(t,e){super(t,e),this.scheduler=t,this.work=e}schedule(t,e=0){return e>0?super.schedule(t,e):(this.delay=e,this.state=t,this.scheduler.flush(this),this)}execute(t,e){return e>0||this.closed?super.execute(t,e):this._execute(t,e)}requestAsyncId(t,e,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(t,e,n):t.flush(this)}}),o=s},377:function(t,e,n){"use strict";n.d(e,{hZ:function(){return r}});const r="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:function(t,e,n){"use strict";n.d(e,{L:function(){return r}});const r="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:function(t,e,n){"use strict";n.d(e,{b:function(){return r}});const r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:function(t,e,n){"use strict";n.d(e,{N:function(){return r}});const r=(()=>{function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t})()},4449:function(t,e,n){"use strict";function r(t){setTimeout(()=>{throw t},0)}n.d(e,{z:function(){return r}})},4487:function(t,e,n){"use strict";function r(t){return t}n.d(e,{y:function(){return r}})},9796:function(t,e,n){"use strict";n.d(e,{k:function(){return r}});const r=Array.isArray||(t=>t&&"number"==typeof t.length)},9489:function(t,e,n){"use strict";n.d(e,{z:function(){return r}});const r=t=>t&&"number"==typeof t.length&&"function"!=typeof t},9105:function(t,e,n){"use strict";function r(t){return"function"==typeof t}n.d(e,{m:function(){return r}})},1555:function(t,e,n){"use strict";function r(t){return null!==t&&"object"==typeof t}n.d(e,{K:function(){return r}})},4072:function(t,e,n){"use strict";function r(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}n.d(e,{t:function(){return r}})},4869:function(t,e,n){"use strict";function r(t){return t&&"function"==typeof t.schedule}n.d(e,{K:function(){return r}})},7444:function(t,e,n){"use strict";n.d(e,{s:function(){return l}});var r=n(5015),i=n(4449),s=n(377),o=n(6554),a=n(9489),u=n(4072),c=n(1555);const l=t=>{if(t&&"function"==typeof t[o.L])return(t=>e=>{const n=t[o.L]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(e)})(t);if((0,a.z)(t))return(0,r.V)(t);if((0,u.t)(t))return(t=>e=>(t.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,i.z),e))(t);if(t&&"function"==typeof t[s.hZ])return(t=>e=>{const n=t[s.hZ]();for(;;){let t;try{t=n.next()}catch(r){return e.error(r),e}if(t.done){e.complete();break}if(e.next(t.value),e.closed)break}return"function"==typeof n.return&&e.add(()=>{n.return&&n.return()}),e})(t);{const e=`You provided ${(0,c.K)(t)?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(e)}}},5015:function(t,e,n){"use strict";n.d(e,{V:function(){return r}});const r=t=>e=>{for(let n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},3704:function(t,e,n){"use strict";var r=n(3018);let i=null;function s(){return i}const o=new r.OlP("DocumentToken");let a=(()=>{class t{historyGo(t){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,r.Yz7)({factory:u,token:t,providedIn:"platform"}),t})();function u(){return(0,r.LFG)(l)}const c=new r.OlP("Location Initialized");let l=(()=>{class t extends a{constructor(t){super(),this._doc=t,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return s().getBaseHref(this._doc)}onPopState(t){const e=s().getGlobalEventTarget(this._doc,"window");return e.addEventListener("popstate",t,!1),()=>e.removeEventListener("popstate",t)}onHashChange(t){const e=s().getGlobalEventTarget(this._doc,"window");return e.addEventListener("hashchange",t,!1),()=>e.removeEventListener("hashchange",t)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(t){this.location.pathname=t}pushState(t,e,n){h()?this._history.pushState(t,e,n):this.location.hash=n}replaceState(t,e,n){h()?this._history.replaceState(t,e,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(o))},t.\u0275prov=(0,r.Yz7)({factory:d,token:t,providedIn:"platform"}),t})();function h(){return!!window.history.pushState}function d(){return new l((0,r.LFG)(o))}function f(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function p(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function g(t){return t&&"?"!==t[0]?"?"+t:t}let m=(()=>{class t{historyGo(t){throw new Error("Not implemented")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,r.Yz7)({factory:y,token:t,providedIn:"root"}),t})();function y(t){const e=(0,r.LFG)(o).location;return new _((0,r.LFG)(a),e&&e.origin||"")}const v=new r.OlP("appBaseHref");let _=(()=>{class t extends m{constructor(t,e){if(super(),this._platformLocation=t,this._removeListenerFns=[],null==e&&(e=this._platformLocation.getBaseHrefFromDOM()),null==e)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=e}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return f(this._baseHref,t)}path(t=!1){const e=this._platformLocation.pathname+g(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?`${e}${n}`:e}pushState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformLocation).historyGo)||void 0===n||n.call(e,t)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(a),r.LFG(v,8))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),b=(()=>{class t extends m{constructor(t,e){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=e&&(this._baseHref=e)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}prepareExternalUrl(t){const e=f(this._baseHref,t);return e.length>0?"#"+e:e}pushState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)}replaceState(t,e,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformLocation).historyGo)||void 0===n||n.call(e,t)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(a),r.LFG(v,8))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),w=(()=>{class t{constructor(t,e){this._subject=new r.vpe,this._urlChangeListeners=[],this._platformStrategy=t;const n=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=p(E(n)),this._platformStrategy.onPopState(t=>{this._subject.emit({url:this.path(!0),pop:!0,state:t.state,type:t.type})})}path(t=!1){return this.normalize(this._platformStrategy.path(t))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(t,e=""){return this.path()==this.normalize(t+g(e))}normalize(e){return t.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,E(e)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)}go(t,e="",n=null){this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}replaceState(t,e="",n=null){this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+g(e)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(t=0){var e,n;null===(n=(e=this._platformStrategy).historyGo)||void 0===n||n.call(e,t)}onUrlChange(t){this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(t=>{this._notifyUrlChangeListeners(t.url,t.state)}))}_notifyUrlChangeListeners(t="",e){this._urlChangeListeners.forEach(n=>n(t,e))}subscribe(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(m),r.LFG(a))},t.normalizeQueryParams=g,t.joinWithSlash=f,t.stripTrailingSlash=p,t.\u0275prov=(0,r.Yz7)({factory:T,token:t,providedIn:"root"}),t})();function T(){return new w((0,r.LFG)(m),(0,r.LFG)(a))}function E(t){return t.replace(/\/index.html$/,"")}const S={ADP:[void 0,void 0,0],AFN:[void 0,void 0,0],ALL:[void 0,void 0,0],AMD:[void 0,void 0,2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:[void 0,"\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["CFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var I=(()=>((I=I||{})[I.Decimal=0]="Decimal",I[I.Percent=1]="Percent",I[I.Currency=2]="Currency",I[I.Scientific=3]="Scientific",I))(),A=(()=>((A=A||{})[A.Zero=0]="Zero",A[A.One=1]="One",A[A.Two=2]="Two",A[A.Few=3]="Few",A[A.Many=4]="Many",A[A.Other=5]="Other",A))(),C=(()=>((C=C||{})[C.Decimal=0]="Decimal",C[C.Group=1]="Group",C[C.List=2]="List",C[C.PercentSign=3]="PercentSign",C[C.PlusSign=4]="PlusSign",C[C.MinusSign=5]="MinusSign",C[C.Exponential=6]="Exponential",C[C.SuperscriptingExponent=7]="SuperscriptingExponent",C[C.PerMille=8]="PerMille",C[C.Infinity=9]="Infinity",C[C.NaN=10]="NaN",C[C.TimeSeparator=11]="TimeSeparator",C[C.CurrencyDecimal=12]="CurrencyDecimal",C[C.CurrencyGroup=13]="CurrencyGroup",C))();function k(t,e){const n=(0,r.cg1)(t),i=n[r.wAp.NumberSymbols][e];if(void 0===i){if(e===C.CurrencyDecimal)return n[r.wAp.NumberSymbols][C.Decimal];if(e===C.CurrencyGroup)return n[r.wAp.NumberSymbols][C.Group]}return i}const x=r.kL8;const O=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function N(t,e,n,i,s){const o=function(t,e="-"){const n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=t.split(";"),i=r[0],s=r[1],o=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],a=o[0],u=o[1]||"";n.posPre=a.substr(0,a.indexOf("#"));for(let l=0;l<u.length;l++){const t=u.charAt(l);"0"===t?n.minFrac=n.maxFrac=l+1:"#"===t?n.maxFrac=l+1:n.posSuf+=t}const c=a.split(",");if(n.gSize=c[1]?c[1].length:0,n.lgSize=c[2]||c[1]?(c[2]||c[1]).length:0,s){const t=i.length-n.posPre.length-n.posSuf.length,e=s.indexOf("#");n.negPre=s.substr(0,e).replace(/'/g,""),n.negSuf=s.substr(e+t).replace(/'/g,"")}else n.negPre=e+n.posPre,n.negSuf=n.posSuf;return n}(function(t,e){return(0,r.cg1)(t)[r.wAp.NumberFormats][e]}(e,I.Currency),k(e,C.MinusSign));return o.minFrac=function(t){let e;const n=S[t];return n&&(e=n[2]),"number"==typeof e?e:2}(i),o.maxFrac=o.minFrac,function(t,e,n,r,i,s,o=!1){let a="",u=!1;if(isFinite(t)){let c=function(t){let e,n,r,i,s,o=Math.abs(t)+"",a=0;for((n=o.indexOf("."))>-1&&(o=o.replace(".","")),(r=o.search(/e/i))>0?(n<0&&(n=r),n+=+o.slice(r+1),o=o.substring(0,r)):n<0&&(n=o.length),r=0;"0"===o.charAt(r);r++);if(r===(s=o.length))e=[0],n=1;else{for(s--;"0"===o.charAt(s);)s--;for(n-=r,e=[],i=0;r<=s;r++,i++)e[i]=Number(o.charAt(r))}return n>22&&(e=e.splice(0,21),a=n-1,n=1),{digits:e,exponent:a,integerLen:n}}(t);o&&(c=function(t){if(0===t.digits[0])return t;const e=t.digits.length-t.integerLen;return t.exponent?t.exponent+=2:(0===e?t.digits.push(0,0):1===e&&t.digits.push(0),t.integerLen+=2),t}(c));let l=e.minInt,h=e.minFrac,d=e.maxFrac;if(s){const t=s.match(O);if(null===t)throw new Error(`${s} is not a valid digit info`);const e=t[1],n=t[3],r=t[5];null!=e&&(l=D(e)),null!=n&&(h=D(n)),null!=r?d=D(r):null!=n&&h>d&&(d=h)}!function(t,e,n){if(e>n)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${n}).`);let r=t.digits,i=r.length-t.integerLen;const s=Math.min(Math.max(e,i),n);let o=s+t.integerLen,a=r[o];if(o>0){r.splice(Math.max(t.integerLen,o));for(let t=o;t<r.length;t++)r[t]=0}else{i=Math.max(0,i),t.integerLen=1,r.length=Math.max(1,o=s+1),r[0]=0;for(let t=1;t<o;t++)r[t]=0}if(a>=5)if(o-1<0){for(let e=0;e>o;e--)r.unshift(0),t.integerLen++;r.unshift(1),t.integerLen++}else r[o-1]++;for(;i<Math.max(0,s);i++)r.push(0);let u=0!==s;const c=e+t.integerLen,l=r.reduceRight(function(t,e,n,r){return r[n]=(e+=t)<10?e:e-10,u&&(0===r[n]&&n>=c?r.pop():u=!1),e>=10?1:0},0);l&&(r.unshift(l),t.integerLen++)}(c,h,d);let f=c.digits,p=c.integerLen;const g=c.exponent;let m=[];for(u=f.every(t=>!t);p<l;p++)f.unshift(0);for(;p<0;p++)f.unshift(0);p>0?m=f.splice(p,f.length):(m=f,f=[0]);const y=[];for(f.length>=e.lgSize&&y.unshift(f.splice(-e.lgSize,f.length).join(""));f.length>e.gSize;)y.unshift(f.splice(-e.gSize,f.length).join(""));f.length&&y.unshift(f.join("")),a=y.join(k(n,r)),m.length&&(a+=k(n,i)+m.join("")),g&&(a+=k(n,C.Exponential)+"+"+g)}else a=k(n,C.Infinity);return a=t<0&&!u?e.negPre+a+e.negSuf:e.posPre+a+e.posSuf,a}(t,o,e,C.CurrencyGroup,C.CurrencyDecimal,s).replace("\xa4",n).replace("\xa4","").trim()}function D(t){const e=parseInt(t);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+t);return e}class R{}let P=(()=>{class t extends R{constructor(t){super(),this.locale=t}getPluralCategory(t,e){switch(x(e||this.locale)(t)){case A.Zero:return"zero";case A.One:return"one";case A.Two:return"two";case A.Few:return"few";case A.Many:return"many";default:return"other"}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.soG))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();class L{constructor(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let F=(()=>{class t{constructor(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(t){throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(t){return t.name||typeof t}(e)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const e=[];t.forEachOperation((t,n,r)=>{if(null==t.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new L(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new Z(t,n);e.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const s=new Z(t,i);e.push(s)}});for(let n=0;n<e.length;n++)this._perViewChange(e[n].view,e[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const t=this._viewContainer.get(n);t.context.index=n,t.context.count=r,t.context.ngForOf=this._ngForOf}t.forEachIdentityChange(t=>{this._viewContainer.get(t.currentIndex).context.$implicit=t.item})}_perViewChange(t,e){t.context.$implicit=e.item}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.s_b),r.Y36(r.Rgc),r.Y36(r.ZZ4))},t.\u0275dir=r.lG2({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t})();class Z{constructor(t,e){this.record=t,this.view=e}}let M=(()=>{class t{constructor(t,e){this._viewContainer=t,this._context=new U,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){q("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){q("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,e){return!0}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.s_b),r.Y36(r.Rgc))},t.\u0275dir=r.lG2({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t})();class U{constructor(){this.$implicit=null,this.ngIf=null}}function q(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${(0,r.AaK)(e)}'.`)}function V(t,e){return Error(`InvalidPipeArgument: '${e}' for pipe '${(0,r.AaK)(t)}'`)}class j{createSubscription(t,e){return t.subscribe({next:e,error:t=>{throw t}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class B{createSubscription(t,e){return t.then(e,t=>{throw t})}dispose(t){}onDestroy(t){}}const $=new B,z=new j;let H=(()=>{class t{constructor(t){this._ref=t,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,e=>this._updateLatestValue(t,e))}_selectStrategy(e){if((0,r.QGY)(e))return $;if((0,r.F4k)(e))return z;throw V(t,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.sBO,16))},t.\u0275pipe=r.Yjl({name:"async",type:t,pure:!1}),t})(),G=(()=>{class t{constructor(t,e="USD"){this._locale=t,this._defaultCurrencyCode=e}transform(e,n=this._defaultCurrencyCode,i="symbol",s,o){if(!function(t){return!(null==t||""===t||t!=t)}(e))return null;o=o||this._locale,"boolean"==typeof i&&(i=i?"symbol":"code");let a=n||this._defaultCurrencyCode;"code"!==i&&(a="symbol"===i||"symbol-narrow"===i?function(t,e,n="en"){const i=function(t){return(0,r.cg1)(t)[r.wAp.Currencies]}(n)[t]||S[t]||[],s=i[1];return"narrow"===e&&"string"==typeof s?s:i[0]||t}(a,"symbol"===i?"wide":"narrow",o):i);try{return N(function(t){if("string"==typeof t&&!isNaN(Number(t)-parseFloat(t)))return Number(t);if("number"!=typeof t)throw new Error(`${t} is not a number`);return t}(e),o,a,n,s)}catch(u){throw V(t,u.message)}}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.soG,16),r.Y36(r.EJc,16))},t.\u0275pipe=r.Yjl({name:"currency",type:t,pure:!0}),t})();let K=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[{provide:R,useClass:P}]}),t})();function W(t){return"server"===t}let Q=(()=>{class t{}return t.\u0275prov=(0,r.Yz7)({token:t,providedIn:"root",factory:()=>new Y((0,r.LFG)(o),window)}),t})();class Y{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&(t.body.createShadowRoot||t.body.attachShadow)){const n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const t=r.shadowRoot;if(t){const n=t.getElementById(e)||t.querySelector(`[name="${e}"]`);if(n)return n}r=n.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=J(this.window.history)||J(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function J(t){return Object.getOwnPropertyDescriptor(t,"scrollRestoration")}class X extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var t;t=new X,i||(i=t)}onAndCancel(t,e,n){return t.addEventListener(e,n,!1),()=>{t.removeEventListener(e,n,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(et=et||document.querySelector("base"),et?et.getAttribute("href"):null);return null==e?null:function(t){tt=tt||document.createElement("a"),tt.setAttribute("href",t);const e=tt.pathname;return"/"===e.charAt(0)?e:`/${e}`}(e)}resetBaseElement(){et=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return function(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const t=n.indexOf("="),[r,i]=-1==t?[n,""]:[n.slice(0,t),n.slice(t+1)];if(r.trim()===e)return decodeURIComponent(i)}return null}(document.cookie,t)}}let tt,et=null;const nt=new r.OlP("TRANSITION_ID"),rt=[{provide:r.ip1,useFactory:function(t,e,n){return()=>{n.get(r.CZH).donePromise.then(()=>{const n=s(),r=e.querySelectorAll(`style[ng-transition="${t}"]`);for(let t=0;t<r.length;t++)n.remove(r[t])})}},deps:[nt,o,r.zs3],multi:!0}];class it{static init(){(0,r.VLi)(new it)}addToWindow(t){r.dqk.getAngularTestability=(e,n=!0)=>{const r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),r.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),r.dqk.frameworkStabilizers||(r.dqk.frameworkStabilizers=[]),r.dqk.frameworkStabilizers.push(t=>{const e=r.dqk.getAllAngularTestabilities();let n=e.length,i=!1;const s=function(e){i=i||e,n--,0==n&&t(i)};e.forEach(function(t){t.whenStable(s)})})}findTestabilityInTree(t,e,n){if(null==e)return null;const r=t.getTestability(e);return null!=r?r:n?s().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let st=(()=>{class t{build(){return new XMLHttpRequest}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const ot=new r.OlP("EventManagerPlugins");let at=(()=>{class t{constructor(t,e){this._zone=e,this._eventNameToPlugin=new Map,t.forEach(t=>t.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)}addGlobalEventListener(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)}getZone(){return this._zone}_findPluginFor(t){const e=this._eventNameToPlugin.get(t);if(e)return e;const n=this._plugins;for(let r=0;r<n.length;r++){const e=n[r];if(e.supports(t))return this._eventNameToPlugin.set(t,e),e}throw new Error(`No event manager plugin found for event ${t}`)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(ot),r.LFG(r.R0b))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();class ut{constructor(t){this._doc=t}addGlobalEventListener(t,e,n){const r=s().getGlobalEventTarget(this._doc,t);if(!r)throw new Error(`Unsupported event target ${r} for event ${e}`);return this.addEventListener(r,e,n)}}let ct=(()=>{class t{constructor(){this._stylesSet=new Set}addStyles(t){const e=new Set;t.forEach(t=>{this._stylesSet.has(t)||(this._stylesSet.add(t),e.add(t))}),this.onStylesAdded(e)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),lt=(()=>{class t extends ct{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,e,n){t.forEach(t=>{const r=this._doc.createElement("style");r.textContent=t,n.push(e.appendChild(r))})}addHost(t){const e=[];this._addStylesToHost(this._stylesSet,t,e),this._hostNodes.set(t,e)}removeHost(t){const e=this._hostNodes.get(t);e&&e.forEach(ht),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((e,n)=>{this._addStylesToHost(t,n,e)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(ht))}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(o))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();function ht(t){s().remove(t)}const dt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},ft=/%COMP%/g;function pt(t,e,n){for(let r=0;r<e.length;r++){let i=e[r];Array.isArray(i)?pt(t,i,n):(i=i.replace(ft,t),n.push(i))}return n}function gt(t){return e=>{if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}let mt=(()=>{class t{constructor(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new yt(t)}createRenderer(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case r.ifc.Emulated:{let n=this.rendererByCompId.get(e.id);return n||(n=new vt(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n}case 1:case r.ifc.ShadowDom:return new _t(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){const t=pt(e.id,e.styles,[]);this.sharedStylesHost.addStyles(t),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(at),r.LFG(lt),r.LFG(r.AFp))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();class yt{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(dt[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,n){t&&t.insertBefore(e,n)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error(`The selector "${t}" did not match any elements`);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,r){if(r){e=r+":"+e;const i=dt[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){const r=dt[n];r?t.removeAttributeNS(r,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(r.JOm.DashCase|r.JOm.Important)?t.style.setProperty(e,n,i&r.JOm.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&r.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t[e]=n}setValue(t,e){t.nodeValue=e}listen(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,gt(n)):this.eventManager.addEventListener(t,e,gt(n))}}class vt extends yt{constructor(t,e,n,r){super(t),this.component=n;const i=pt(r+"-"+n.id,n.styles,[]);e.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(ft,r+"-"+n.id),this.hostAttr=function(t){return"_nghost-%COMP%".replace(ft,t)}(r+"-"+n.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}}class _t extends yt{constructor(t,e,n,r){super(t),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=pt(r.id,r.styles,[]);for(let s=0;s<i.length;s++){const t=document.createElement("style");t.textContent=i[s],this.shadowRoot.appendChild(t)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let bt=(()=>{class t extends ut{constructor(t){super(t)}supports(t){return!0}addEventListener(t,e,n){return t.addEventListener(e,n,!1),()=>this.removeEventListener(t,e,n)}removeEventListener(t,e,n){return t.removeEventListener(e,n)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(o))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const wt=["alt","control","meta","shift"],Tt={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Et={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},St={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let It=(()=>{class t extends ut{constructor(t){super(t)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const i=t.parseEventName(n),o=t.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>s().onAndCancel(e,i.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=t._normalizeKey(n.pop());let s="";if(wt.forEach(t=>{const e=n.indexOf(t);e>-1&&(n.splice(e,1),s+=t+".")}),s+=i,0!=n.length||0===i.length)return null;const o={};return o.domEventName=r,o.fullKey=s,o}static getEventFullKey(t){let e="",n=function(t){let e=t.key;if(null==e){if(e=t.keyIdentifier,null==e)return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&Et.hasOwnProperty(e)&&(e=Et[e]))}return Tt[e]||e}(t);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),wt.forEach(r=>{r!=n&&St[r](t)&&(e+=r+".")}),e+=n,e}static eventCallback(e,n,r){return i=>{t.getEventFullKey(i)===e&&r.runGuarded(()=>n(i))}}static _normalizeKey(t){switch(t){case"esc":return"escape";default:return t}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(o))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),At=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,r.Yz7)({factory:function(){return(0,r.LFG)(Ct)},token:t,providedIn:"root"}),t})(),Ct=(()=>{class t extends At{constructor(t){super(),this._doc=t}sanitize(t,e){if(null==e)return null;switch(t){case r.q3G.NONE:return e;case r.q3G.HTML:return(0,r.qzn)(e,"HTML")?(0,r.z3N)(e):(0,r.EiD)(this._doc,String(e)).toString();case r.q3G.STYLE:return(0,r.qzn)(e,"Style")?(0,r.z3N)(e):e;case r.q3G.SCRIPT:if((0,r.qzn)(e,"Script"))return(0,r.z3N)(e);throw new Error("unsafe value used in a script context");case r.q3G.URL:return(0,r.yhl)(e),(0,r.qzn)(e,"URL")?(0,r.z3N)(e):(0,r.mCW)(String(e));case r.q3G.RESOURCE_URL:if((0,r.qzn)(e,"ResourceURL"))return(0,r.z3N)(e);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${t} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(t){return(0,r.JVY)(t)}bypassSecurityTrustStyle(t){return(0,r.L6k)(t)}bypassSecurityTrustScript(t){return(0,r.eBb)(t)}bypassSecurityTrustUrl(t){return(0,r.LAX)(t)}bypassSecurityTrustResourceUrl(t){return(0,r.pB0)(t)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(o))},t.\u0275prov=(0,r.Yz7)({factory:function(){return function(t){return new Ct(t.get(o))}((0,r.LFG)(r.gxx))},token:t,providedIn:"root"}),t})();const kt=(0,r.eFA)(r._c5,"browser",[{provide:r.Lbi,useValue:"browser"},{provide:r.g9A,useValue:function(){X.makeCurrent(),it.init()},multi:!0},{provide:o,useFactory:function(){return(0,r.RDi)(document),document},deps:[]}]),xt=[[],{provide:r.zSh,useValue:"root"},{provide:r.qLn,useFactory:function(){return new r.qLn},deps:[]},{provide:ot,useClass:bt,multi:!0,deps:[o,r.R0b,r.Lbi]},{provide:ot,useClass:It,multi:!0,deps:[o]},[],{provide:mt,useClass:mt,deps:[at,lt,r.AFp]},{provide:r.FYo,useExisting:mt},{provide:ct,useExisting:lt},{provide:lt,useClass:lt,deps:[o]},{provide:r.dDg,useClass:r.dDg,deps:[r.R0b]},{provide:at,useClass:at,deps:[ot,r.R0b]},{provide:class{},useClass:st,deps:[]},[]];let Ot=(()=>{class t{constructor(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:t,providers:[{provide:r.AFp,useValue:e.appId},{provide:nt,useExisting:r.AFp},rt]}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(t,12))},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:xt,imports:[K,r.hGG]}),t})();"undefined"!=typeof window&&window;var Nt=n(4402),Dt=n(7574),Rt=n(9796),Pt=n(8002),Lt=n(1555);function Ft(t,e){return new Dt.y(n=>{const r=t.length;if(0===r)return void n.complete();const i=new Array(r);let s=0,o=0;for(let a=0;a<r;a++){const u=(0,Nt.D)(t[a]);let c=!1;n.add(u.subscribe({next:t=>{c||(c=!0,o++),i[a]=t},error:t=>n.error(t),complete:()=>{s++,(s===r||!c)&&(o===r&&n.next(e?e.reduce((t,e,n)=>(t[e]=i[n],t),{}):i),n.complete())}}))}})}let Zt=(()=>{class t{constructor(t,e){this._renderer=t,this._elementRef=e,this.onChange=t=>{},this.onTouched=()=>{}}setProperty(t,e){this._renderer.setProperty(this._elementRef.nativeElement,t,e)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.Qsj),r.Y36(r.SBq))},t.\u0275dir=r.lG2({type:t}),t})(),Mt=(()=>{class t extends Zt{}return t.\u0275fac=function(){let e;return function(n){return(e||(e=r.n5z(t)))(n||t)}}(),t.\u0275dir=r.lG2({type:t,features:[r.qOj]}),t})();const Ut=new r.OlP("NgValueAccessor"),qt={provide:Ut,useExisting:(0,r.Gpc)(()=>Vt),multi:!0};let Vt=(()=>{class t extends Mt{writeValue(t){this.setProperty("checked",t)}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=r.n5z(t)))(n||t)}}(),t.\u0275dir=r.lG2({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&r.NdJ("change",function(t){return e.onChange(t.target.checked)})("blur",function(){return e.onTouched()})},features:[r._Bn([qt]),r.qOj]}),t})();const jt={provide:Ut,useExisting:(0,r.Gpc)(()=>$t),multi:!0},Bt=new r.OlP("CompositionEventMode");let $t=(()=>{class t extends Zt{constructor(t,e,n){super(t,e),this._compositionMode=n,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const t=s()?s().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(t){this.setProperty("value",null==t?"":t)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.Qsj),r.Y36(r.SBq),r.Y36(Bt,8))},t.\u0275dir=r.lG2({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&r.NdJ("input",function(t){return e._handleInput(t.target.value)})("blur",function(){return e.onTouched()})("compositionstart",function(){return e._compositionStart()})("compositionend",function(t){return e._compositionEnd(t.target.value)})},features:[r._Bn([jt]),r.qOj]}),t})();function zt(t){return null==t||0===t.length}function Ht(t){return null!=t&&"number"==typeof t.length}const Gt=new r.OlP("NgValidators"),Kt=new r.OlP("NgAsyncValidators"),Wt=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Qt{static min(t){return function(t){return e=>{if(zt(e.value)||zt(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}(t)}static max(t){return function(t){return e=>{if(zt(e.value)||zt(t))return null;const n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}(t)}static required(t){return function(t){return zt(t.value)?{required:!0}:null}(t)}static requiredTrue(t){return function(t){return!0===t.value?null:{required:!0}}(t)}static email(t){return function(t){return zt(t.value)||Wt.test(t.value)?null:{email:!0}}(t)}static minLength(t){return function(t){return e=>zt(e.value)||!Ht(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}(t)}static maxLength(t){return function(t){return e=>Ht(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}(t)}static pattern(t){return function(t){if(!t)return Yt;let e,n;return"string"==typeof t?(n="","^"!==t.charAt(0)&&(n+="^"),n+=t,"$"!==t.charAt(t.length-1)&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),t=>{if(zt(t.value))return null;const r=t.value;return e.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}(t)}static nullValidator(t){return null}static compose(t){return re(t)}static composeAsync(t){return se(t)}}function Yt(t){return null}function Jt(t){return null!=t}function Xt(t){const e=(0,r.QGY)(t)?(0,Nt.D)(t):t;return(0,r.CqO)(e),e}function te(t){let e={};return t.forEach(t=>{e=null!=t?Object.assign(Object.assign({},e),t):e}),0===Object.keys(e).length?null:e}function ee(t,e){return e.map(e=>e(t))}function ne(t){return t.map(t=>function(t){return!t.validate}(t)?t:e=>t.validate(e))}function re(t){if(!t)return null;const e=t.filter(Jt);return 0==e.length?null:function(t){return te(ee(t,e))}}function ie(t){return null!=t?re(ne(t)):null}function se(t){if(!t)return null;const e=t.filter(Jt);return 0==e.length?null:function(t){return function(...t){if(1===t.length){const e=t[0];if((0,Rt.k)(e))return Ft(e,null);if((0,Lt.K)(e)&&Object.getPrototypeOf(e)===Object.prototype){const t=Object.keys(e);return Ft(t.map(t=>e[t]),t)}}if("function"==typeof t[t.length-1]){const e=t.pop();return Ft(t=1===t.length&&(0,Rt.k)(t[0])?t[0]:t,null).pipe((0,Pt.U)(t=>e(...t)))}return Ft(t,null)}(ee(t,e).map(Xt)).pipe((0,Pt.U)(te))}}function oe(t){return null!=t?se(ne(t)):null}function ae(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function ue(t){return t._rawValidators}function ce(t){return t._rawAsyncValidators}function le(t){return t?Array.isArray(t)?t:[t]:[]}function he(t,e){return Array.isArray(t)?t.includes(e):t===e}function de(t,e){const n=le(e);return le(t).forEach(t=>{he(n,t)||n.push(t)}),n}function fe(t,e){return le(e).filter(e=>!he(t,e))}let pe=(()=>{class t{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=ie(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=oe(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t){this.control&&this.control.reset(t)}hasError(t,e){return!!this.control&&this.control.hasError(t,e)}getError(t,e){return this.control?this.control.getError(t,e):null}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t}),t})(),ge=(()=>{class t extends pe{get formDirective(){return null}get path(){return null}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=r.n5z(t)))(n||t)}}(),t.\u0275dir=r.lG2({type:t,features:[r.qOj]}),t})();class me extends pe{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class ye{constructor(t){this._cd=t}is(t){var e,n,r;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(r=null===(n=this._cd)||void 0===n?void 0:n.control)||void 0===r?void 0:r[t])}}let ve=(()=>{class t extends ye{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(me,2))},t.\u0275dir=r.lG2({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&r.ekj("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))},features:[r.qOj]}),t})(),_e=(()=>{class t extends ye{constructor(t){super(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(ge,10))},t.\u0275dir=r.lG2({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,e){2&t&&r.ekj("ng-untouched",e.is("untouched"))("ng-touched",e.is("touched"))("ng-pristine",e.is("pristine"))("ng-dirty",e.is("dirty"))("ng-valid",e.is("valid"))("ng-invalid",e.is("invalid"))("ng-pending",e.is("pending"))("ng-submitted",e.is("submitted"))},features:[r.qOj]}),t})();function be(t,e){Ee(t,e),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&Ie(t,e)})}(t,e),function(t,e){const n=(t,n)=>{e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&Ie(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function(t,e){if(e.valueAccessor.setDisabledState){const n=t=>{e.valueAccessor.setDisabledState(t)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function we(t,e,n=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Se(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Te(t,e){t.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function Ee(t,e){const n=ue(t);null!==e.validator?t.setValidators(ae(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=ce(t);null!==e.asyncValidator?t.setAsyncValidators(ae(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();Te(e._rawValidators,i),Te(e._rawAsyncValidators,i)}function Se(t,e){let n=!1;if(null!==t){if(null!==e.validator){const r=ue(t);if(Array.isArray(r)&&r.length>0){const i=r.filter(t=>t!==e.validator);i.length!==r.length&&(n=!0,t.setValidators(i))}}if(null!==e.asyncValidator){const r=ce(t);if(Array.isArray(r)&&r.length>0){const i=r.filter(t=>t!==e.asyncValidator);i.length!==r.length&&(n=!0,t.setAsyncValidators(i))}}}const r=()=>{};return Te(e._rawValidators,r),Te(e._rawAsyncValidators,r),n}function Ie(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function Ae(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Ce="VALID",ke="INVALID",xe="PENDING",Oe="DISABLED";function Ne(t){return(Le(t)?t.validators:t)||null}function De(t){return Array.isArray(t)?ie(t):t||null}function Re(t,e){return(Le(e)?e.asyncValidators:t)||null}function Pe(t){return Array.isArray(t)?oe(t):t||null}function Le(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class Fe{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=De(this._rawValidators),this._composedAsyncValidatorFn=Pe(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===Ce}get invalid(){return this.status===ke}get pending(){return this.status==xe}get disabled(){return this.status===Oe}get enabled(){return this.status!==Oe}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=De(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=Pe(t)}addValidators(t){this.setValidators(de(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(de(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(fe(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(fe(t,this._rawAsyncValidators))}hasValidator(t){return he(this._rawValidators,t)}hasAsyncValidator(t){return he(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=xe,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Oe,this.errors=null,this._forEachChild(e=>{e.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=Ce,this._forEachChild(e=>{e.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(t=>t(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ce||this.status===xe)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Oe:Ce}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=xe,this._hasOwnPendingAsyncValidator=!0;const e=Xt(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(e=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(e,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(t,e,n){if(null==e||(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length))return null;let r=t;return e.forEach(t=>{r=r instanceof Me?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof Ue&&r.at(t)||null}),r}(this,t)}getError(t,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new r.vpe,this.statusChanges=new r.vpe}_calculateStatus(){return this._allControlsDisabled()?Oe:this.errors?ke:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(xe)?xe:this._anyControlsHaveStatus(ke)?ke:Ce}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Le(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class Ze extends Fe{constructor(t=null,e,n){super(Ne(e),Re(n,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(t=>t(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){Ae(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){Ae(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Me extends Fe{constructor(t,e,n){super(Ne(e),Re(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,n={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e instanceof Ze?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(t,e)=>!!e._syncPendingControls()||t);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const n=this.controls[e];if(this.contains(e)&&t(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,n)=>((e.enabled||this.disabled)&&(t[n]=e.value),t))}_reduceChildren(t,e){let n=t;return this._forEachChild((t,r)=>{n=e(n,t,r)}),n}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class Ue extends Fe{constructor(t,e,n){super(Ne(e),Re(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,n={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((t,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((t,n)=>{this.at(n)&&this.at(n).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,r)=>{n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof Ze?t.value:t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((t,e)=>!!e._syncPendingControls()||t,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,n)=>{if(void 0===t[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}let qe=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.lG2({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),t})();const Ve={provide:Ut,useExisting:(0,r.Gpc)(()=>je),multi:!0};let je=(()=>{class t extends Mt{writeValue(t){this.setProperty("value",null==t?"":t)}registerOnChange(t){this.onChange=e=>{t(""==e?null:parseFloat(e))}}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=r.n5z(t)))(n||t)}}(),t.\u0275dir=r.lG2({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&r.NdJ("input",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},features:[r._Bn([Ve]),r.qOj]}),t})(),Be=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})();const $e=new r.OlP("NgModelWithFormControlWarning"),ze={provide:ge,useExisting:(0,r.Gpc)(()=>He)};let He=(()=>{class t extends ge{constructor(t,e){super(),this.validators=t,this.asyncValidators=e,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new r.vpe,this._setValidators(t),this._setAsyncValidators(e)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Se(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const e=this.form.get(t.path);return be(e,t),e.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),e}getControl(t){return this.form.get(t.path)}removeControl(t){we(t.control||null,t,!1),Ae(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,e){this.form.get(t.path).setValue(e)}onSubmit(t){return this.submitted=!0,function(t,e){t._syncPendingControls(),e.forEach(t=>{const e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),!1}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const e=t.control,n=this.form.get(t.path);e!==n&&(we(e||null,t),n instanceof Ze&&(be(n,t),t.control=n))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const e=this.form.get(t.path);(function(t,e){Ee(t,e)})(e,t),e.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const e=this.form.get(t.path);e&&function(t,e){return Se(t,e)}(e,t)&&e.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Ee(this.form,this),this._oldForm&&Se(this._oldForm,this)}_checkFormPresent(){}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(Gt,10),r.Y36(Kt,10))},t.\u0275dir=r.lG2({type:t,selectors:[["","formGroup",""]],hostBindings:function(t,e){1&t&&r.NdJ("submit",function(t){return e.onSubmit(t)})("reset",function(){return e.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r._Bn([ze]),r.qOj,r.TTD]}),t})();const Ge={provide:me,useExisting:(0,r.Gpc)(()=>Ke)};let Ke=(()=>{class t extends me{constructor(t,e,n,i,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.update=new r.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(e),this._setAsyncValidators(n),this.valueAccessor=function(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(t=>{t.constructor===$t?n=t:function(t){return Object.getPrototypeOf(t.constructor)===Mt}(t)?r=t:i=t}),i||r||n||null}(0,i)}set isDisabled(t){}ngOnChanges(t){this._added||this._setUpControl(),function(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function(t,e){return[...e.path,t]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(ge,13),r.Y36(Gt,10),r.Y36(Kt,10),r.Y36(Ut,10),r.Y36($e,8))},t.\u0275dir=r.lG2({type:t,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r._Bn([Ge]),r.qOj,r.TTD]}),t._ngModelWarningSentOnce=!1,t})();const We={provide:Ut,useExisting:(0,r.Gpc)(()=>Ye),multi:!0};function Qe(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let Ye=(()=>{class t extends Mt{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;const e=this._getOptionId(t);null==e&&this.setProperty("selectedIndex",-1);const n=Qe(e,t);this.setProperty("value",n)}registerOnChange(t){this.onChange=e=>{this.value=this._getOptionValue(e),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e),t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=r.n5z(t)))(n||t)}}(),t.\u0275dir=r.lG2({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&r.NdJ("change",function(t){return e.onChange(t.target.value)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r._Bn([We]),r.qOj]}),t})(),Je=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(t){null!=this._select&&(this._select._optionMap.set(this.id,t),this._setElementValue(Qe(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(r.Qsj),r.Y36(Ye,9))},t.\u0275dir=r.lG2({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})();const Xe={provide:Ut,useExisting:(0,r.Gpc)(()=>en),multi:!0};function tn(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let en=(()=>{class t extends Mt{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){let e;if(this.value=t,Array.isArray(t)){const n=t.map(t=>this._getOptionId(t));e=(t,e)=>{t._setSelected(n.indexOf(e.toString())>-1)}}else e=(t,e)=>{t._setSelected(!1)};this._optionMap.forEach(e)}registerOnChange(t){this.onChange=e=>{const n=[];if(void 0!==e.selectedOptions){const t=e.selectedOptions;for(let e=0;e<t.length;e++){const r=t.item(e),i=this._getOptionValue(r.value);n.push(i)}}else{const t=e.options;for(let e=0;e<t.length;e++){const r=t.item(e);if(r.selected){const t=this._getOptionValue(r.value);n.push(t)}}}this.value=n,t(n)}}_registerOption(t){const e=(this._idCounter++).toString();return this._optionMap.set(e,t),e}_getOptionId(t){for(const e of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(e)._value,t))return e;return null}_getOptionValue(t){const e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t}}return t.\u0275fac=function(){let e;return function(n){return(e||(e=r.n5z(t)))(n||t)}}(),t.\u0275dir=r.lG2({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&r.NdJ("change",function(t){return e.onChange(t.target)})("blur",function(){return e.onTouched()})},inputs:{compareWith:"compareWith"},features:[r._Bn([Xe]),r.qOj]}),t})(),nn=(()=>{class t{constructor(t,e,n){this._element=t,this._renderer=e,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){null!=this._select&&(this._value=t,this._setElementValue(tn(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(tn(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(r.SBq),r.Y36(r.Qsj),r.Y36(en,9))},t.\u0275dir=r.lG2({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),t})(),rn=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[Be]]}),t})(),sn=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:$e,useValue:e.warnOnNgModelWithFormControl}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[rn]}),t})(),on=(()=>{class t{group(t,e=null){const n=this._reduceControls(t);let r,i=null,s=null;return null!=e&&(function(t){return void 0!==t.asyncValidators||void 0!==t.validators||void 0!==t.updateOn}(e)?(i=null!=e.validators?e.validators:null,s=null!=e.asyncValidators?e.asyncValidators:null,r=null!=e.updateOn?e.updateOn:void 0):(i=null!=e.validator?e.validator:null,s=null!=e.asyncValidator?e.asyncValidator:null)),new Me(n,{asyncValidators:s,updateOn:r,validators:i})}control(t,e,n){return new Ze(t,e,n)}array(t,e,n){const r=t.map(t=>this._createControl(t));return new Ue(r,e,n)}_reduceControls(t){const e={};return Object.keys(t).forEach(n=>{e[n]=this._createControl(t[n])}),e}_createControl(t){return t instanceof Ze||t instanceof Me||t instanceof Ue?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=(0,r.Yz7)({factory:function(){return new t},token:t,providedIn:sn}),t})();var an=n(3637),un=n(5917),cn=n(6643),ln=n(3282);function hn(...t){return(0,ln.J)(1)((0,un.of)(...t))}var dn=n(4869);function fn(...t){const e=t[t.length-1];return(0,dn.K)(e)?(t.pop(),n=>hn(t,n,e)):e=>hn(t,e)}var pn=n(7393);function gn(){return t=>t.lift(new mn)}class mn{call(t,e){return e.subscribe(new yn(t))}}class yn extends pn.L{constructor(t){super(t),this.hasPrev=!1}_next(t){let e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)}}function vn(t,e){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new _n(t,e,n))}}class _n{constructor(t,e,n=!1){this.accumulator=t,this.seed=e,this.hasSeed=n}call(t,e){return e.subscribe(new bn(t,this.accumulator,this.seed,this.hasSeed))}}class bn extends pn.L{constructor(t,e,n,r){super(t),this.accumulator=e,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(t){this.hasSeed=!0,this._seed=t}_next(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)}_tryNext(t){const e=this.index++;let n;try{n=this.accumulator(this.seed,t,e)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}class wn{constructor(t,e){this.compare=t,this.keySelector=e}call(t,e){return e.subscribe(new Tn(t,this.compare,this.keySelector))}}class Tn extends pn.L{constructor(t,e,n){super(t),this.keySelector=n,this.hasKey=!1,"function"==typeof e&&(this.compare=e)}compare(t,e){return t===e}_next(t){let e;try{const{keySelector:n}=this;e=n?n(t):t}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:t}=this;n=t(this.key,e)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=e,this.destination.next(t))}}function En(t,e){return function(n){return n.lift(new Sn(t,e))}}class Sn{constructor(t,e){this.predicate=t,this.thisArg=e}call(t,e){return e.subscribe(new In(t,this.predicate,this.thisArg))}}class In extends pn.L{constructor(t,e,n){super(t),this.predicate=e,this.thisArg=n,this.count=0}_next(t){let e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)}}var An,Cn=n(8939),kn=(n(4671),n(4486)),xn=n(8239),On=n(5452),Nn=n(6034),Dn=n(5601),Rn=n(3854),Pn="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Ln={},Fn=Fn||{},Zn=Pn||self;function Mn(){}function Un(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function qn(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Vn="closure_uid_"+(1e9*Math.random()>>>0),jn=0;function Bn(t,e,n){return t.call.apply(t.bind,arguments)}function $n(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function zn(t,e,n){return(zn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Bn:$n).apply(null,arguments)}function Hn(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function Gn(t,e){function n(){}n.prototype=e.prototype,t.Z=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.Vb=function(t,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return e.prototype[n].apply(t,i)}}function Kn(){this.s=this.s,this.o=this.o}var Wn={};Kn.prototype.s=!1,Kn.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var t=function(t){return Object.prototype.hasOwnProperty.call(t,Vn)&&t[Vn]||(t[Vn]=++jn)}(this);delete Wn[t]}},Kn.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Qn=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Yn=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){const r=t.length,i="string"==typeof t?t.split(""):t;for(let s=0;s<r;s++)s in i&&e.call(n,i[s],s,t)};function Jn(t){return Array.prototype.concat.apply([],arguments)}function Xn(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function tr(t){return/^[\s\xa0]*$/.test(t)}var er,nr=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function rr(t,e){return-1!=t.indexOf(e)}function ir(t,e){return t<e?-1:t>e?1:0}t:{var sr=Zn.navigator;if(sr){var or=sr.userAgent;if(or){er=or;break t}}er=""}function ar(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function ur(t){const e={};for(const n in t)e[n]=t[n];return e}var cr="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function lr(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let e=0;e<cr.length;e++)n=cr[e],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function hr(t){return hr[" "](t),t}hr[" "]=Mn;var dr,fr,pr=rr(er,"Opera"),gr=rr(er,"Trident")||rr(er,"MSIE"),mr=rr(er,"Edge"),yr=mr||gr,vr=rr(er,"Gecko")&&!(rr(er.toLowerCase(),"webkit")&&!rr(er,"Edge"))&&!(rr(er,"Trident")||rr(er,"MSIE"))&&!rr(er,"Edge"),_r=rr(er.toLowerCase(),"webkit")&&!rr(er,"Edge");function br(){var t=Zn.document;return t?t.documentMode:void 0}t:{var wr="",Tr=(fr=er,vr?/rv:([^\);]+)(\)|;)/.exec(fr):mr?/Edge\/([\d\.]+)/.exec(fr):gr?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(fr):_r?/WebKit\/(\S+)/.exec(fr):pr?/(?:Version)[ \/]?(\S+)/.exec(fr):void 0);if(Tr&&(wr=Tr?Tr[1]:""),gr){var Er=br();if(null!=Er&&Er>parseFloat(wr)){dr=String(Er);break t}}dr=wr}var Sr={};function Ir(){return t=Sr,Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=function(){let t=0;const e=nr(String(dr)).split("."),n=nr("9").split("."),r=Math.max(e.length,n.length);for(let o=0;0==t&&o<r;o++){var i=e[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;t=ir(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||ir(0==i[2].length,0==s[2].length)||ir(i[2],s[2]),i=i[3],s=s[3]}while(0==t)}return 0<=t}();var t}var Ar=Zn.document&&gr&&(br()||parseInt(dr,10))||void 0,Cr=function(){if(!Zn.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Zn.addEventListener("test",Mn,e),Zn.removeEventListener("test",Mn,e)}catch(n){}return t}();function kr(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}function xr(t,e){if(kr.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(vr){t:{try{hr(e.nodeName);var i=!0;break t}catch(s){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Or[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&xr.Z.h.call(this)}}kr.prototype.h=function(){this.defaultPrevented=!0},Gn(xr,kr);var Or={2:"touch",3:"pen",4:"mouse"};xr.prototype.h=function(){xr.Z.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Nr="closure_listenable_"+(1e6*Math.random()|0),Dr=0;function Rr(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ia=i,this.key=++Dr,this.ca=this.fa=!1}function Pr(t){t.ca=!0,t.listener=null,t.proxy=null,t.src=null,t.ia=null}function Lr(t){this.src=t,this.g={},this.h=0}function Fr(t,e){var n=e.type;if(n in t.g){var r,i=t.g[n],s=Qn(i,e);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(Pr(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function Zr(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.ca&&s.listener==e&&s.capture==!!n&&s.ia==r)return i}return-1}Lr.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=Zr(t,e,r,i);return-1<o?(e=t[o],n||(e.fa=!1)):((e=new Rr(e,this.src,s,!!r,i)).fa=n,t.push(e)),e};var Mr="closure_lm_"+(1e6*Math.random()|0),Ur={};function qr(t,e,n,r,i){if(r&&r.once)return jr(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)qr(t,e[s],n,r,i);return null}return n=Wr(n),t&&t[Nr]?t.N(e,n,qn(r)?!!r.capture:!!r,i):Vr(t,e,n,!1,r,i)}function Vr(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=qn(i)?!!i.capture:!!i,a=Gr(t);if(a||(t[Mr]=a=new Lr(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function(){var t=Hr;return function e(n){return t.call(e.src,e.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Cr||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(zr(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function jr(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)jr(t,e[s],n,r,i);return null}return n=Wr(n),t&&t[Nr]?t.O(e,n,qn(r)?!!r.capture:!!r,i):Vr(t,e,n,!0,r,i)}function Br(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)Br(t,e[s],n,r,i);else r=qn(r)?!!r.capture:!!r,n=Wr(n),t&&t[Nr]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=Zr(s=t.g[e],n,r,i))&&(Pr(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=Gr(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Zr(e,n,r,i)),(n=-1<t?e[t]:null)&&$r(n))}function $r(t){if("number"!=typeof t&&t&&!t.ca){var e=t.src;if(e&&e[Nr])Fr(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(zr(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Gr(e))?(Fr(n,t),0==n.h&&(n.src=null,e[Mr]=null)):Pr(t)}}}function zr(t){return t in Ur?Ur[t]:Ur[t]="on"+t}function Hr(t,e){if(t.ca)t=!0;else{e=new xr(e,this);var n=t.listener,r=t.ia||t.src;t.fa&&$r(t),t=n.call(r,e)}return t}function Gr(t){return(t=t[Mr])instanceof Lr?t:null}var Kr="__closure_events_fn_"+(1e9*Math.random()>>>0);function Wr(t){return"function"==typeof t?t:(t[Kr]||(t[Kr]=function(e){return t.handleEvent(e)}),t[Kr])}function Qr(){Kn.call(this),this.i=new Lr(this),this.P=this,this.I=null}function Yr(t,e){var n,r=t.I;if(r)for(n=[];r;r=r.I)n.push(r);if(t=t.P,r=e.type||e,"string"==typeof e)e=new kr(e,t);else if(e instanceof kr)e.target=e.target||t;else{var i=e;lr(e=new kr(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Jr(o,r,!0,e)&&i}if(i=Jr(o=e.g=t,r,!0,e)&&i,i=Jr(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=Jr(o=e.g=n[s],r,!1,e)&&i}function Jr(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ca&&o.capture==n){var a=o.listener,u=o.ia||o.src;o.fa&&Fr(t.i,o),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Gn(Qr,Kn),Qr.prototype[Nr]=!0,Qr.prototype.removeEventListener=function(t,e,n,r){Br(this,t,e,n,r)},Qr.prototype.M=function(){if(Qr.Z.M.call(this),this.i){var t,e=this.i;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)Pr(n[r]);delete e.g[t],e.h--}}this.I=null},Qr.prototype.N=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},Qr.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var Xr=Zn.JSON.stringify;function ti(){var t=ai;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var ei,ni=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new ri,t=>t.reset());class ri{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}function ii(t){Zn.setTimeout(()=>{throw t},0)}function si(t,e){ei||function(){var t=Zn.Promise.resolve(void 0);ei=function(){t.then(ui)}}(),oi||(ei(),oi=!0),ai.add(t,e)}var oi=!1,ai=new class{constructor(){this.h=this.g=null}add(t,e){const n=ni.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n}};function ui(){for(var t;t=ti();){try{t.h.call(t.g)}catch(n){ii(n)}var e=ni;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}oi=!1}function ci(t,e){Qr.call(this),this.h=t||1,this.g=e||Zn,this.j=zn(this.kb,this),this.l=Date.now()}function li(t){t.da=!1,t.S&&(t.g.clearTimeout(t.S),t.S=null)}function hi(t,e,n){if("function"==typeof t)n&&(t=zn(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=zn(t.handleEvent,t)}return 2147483647<Number(e)?-1:Zn.setTimeout(t,e||0)}function di(t){t.g=hi(()=>{t.g=null,t.i&&(t.i=!1,di(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}Gn(ci,Qr),(An=ci.prototype).da=!1,An.S=null,An.kb=function(){if(this.da){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-t):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Yr(this,"tick"),this.da&&(li(this),this.start()))}},An.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},An.M=function(){ci.Z.M.call(this),li(this),delete this.g};class fi extends Kn{constructor(t,e){super(),this.m=t,this.j=e,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:di(this)}M(){super.M(),this.g&&(Zn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function pi(t){Kn.call(this),this.h=t,this.g={}}Gn(pi,Kn);var gi=[];function mi(t,e,n,r){Array.isArray(n)||(n&&(gi[0]=n.toString()),n=gi);for(var i=0;i<n.length;i++){var s=qr(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function yi(t){ar(t.g,function(t,e){this.g.hasOwnProperty(e)&&$r(t)},t),t.g={}}function vi(){this.g=!0}function _i(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return Xr(n)}catch(a){return e}}(t,n)+(r?" "+r:"")})}pi.prototype.M=function(){pi.Z.M.call(this),yi(this)},pi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},vi.prototype.Aa=function(){this.g=!1},vi.prototype.info=function(){};var bi={},wi=null;function Ti(){return wi=wi||new Qr}function Ei(t){kr.call(this,bi.Ma,t)}function Si(t){const e=Ti();Yr(e,new Ei(e,t))}function Ii(t,e){kr.call(this,bi.STAT_EVENT,t),this.stat=e}function Ai(t){const e=Ti();Yr(e,new Ii(e,t))}function Ci(t,e){kr.call(this,bi.Na,t),this.size=e}function ki(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return Zn.setTimeout(function(){t()},e)}bi.Ma="serverreachability",Gn(Ei,kr),bi.STAT_EVENT="statevent",Gn(Ii,kr),bi.Na="timingevent",Gn(Ci,kr);var xi={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Oi={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Ni(){}function Di(){}Ni.prototype.h=null;var Ri,Pi={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Li(){kr.call(this,"d")}function Fi(){kr.call(this,"c")}function Zi(){}function Mi(t,e,n,r){this.l=t,this.j=e,this.m=n,this.X=r||1,this.V=new pi(this),this.P=qi,this.W=new ci(t=yr?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new Ui}function Ui(){this.i=null,this.g="",this.h=!1}Gn(Li,kr),Gn(Fi,kr),Gn(Zi,Ni),Zi.prototype.g=function(){return new XMLHttpRequest},Zi.prototype.i=function(){return{}},Ri=new Zi;var qi=45e3,Vi={},ji={};function Bi(t,e,n){t.K=1,t.v=ds(os(e)),t.s=n,t.U=!0,$i(t,null)}function $i(t,e){t.F=Date.now(),Ki(t),t.A=os(t.v);var n=t.A,r=t.X;Array.isArray(r)||(r=[String(r)]),Is(n.h,"t",r),t.C=0,n=t.l.H,t.h=new Ui,t.g=Ao(t.l,n?e:null,!t.s),0<t.O&&(t.L=new fi(zn(t.Ia,t,t.g),t.O)),mi(t.V,t.g,"readystatechange",t.gb),e=t.H?ur(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ea(t.A,t.u,t.s,e)):(t.u="GET",t.g.ea(t.A,t.u,null,e)),Si(1),function(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");o=2<=h.length&&"type"==h[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.X,t.s)}function zi(t){return!!t.g&&"GET"==t.u&&2!=t.K&&t.l.Ba}function Hi(t,e,n){let r,i=!0;for(;!t.I&&t.C<n.length;){if(r=Gi(t,n),r==ji){4==e&&(t.o=4,Ai(14),i=!1),_i(t.j,t.m,null,"[Incomplete Response]");break}if(r==Vi){t.o=4,Ai(15),_i(t.j,t.m,n,"[Invalid Chunk]"),i=!1;break}_i(t.j,t.m,r,null),Xi(t,r)}zi(t)&&r!=ji&&r!=Vi&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,Ai(16),i=!1),t.i=t.i&&i,i?0<n.length&&!t.aa&&(t.aa=!0,(e=t.l).g==t&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),vo(e),e.L=!0,Ai(11))):(_i(t.j,t.m,n,"[Invalid Chunked Response]"),Ji(t),Yi(t))}function Gi(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?ji:(n=Number(e.substring(n,r)),isNaN(n)?Vi:(r+=1)+n>e.length?ji:(e=e.substr(r,n),t.C=r+n,e))}function Ki(t){t.Y=Date.now()+t.P,Wi(t,t.P)}function Wi(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=ki(zn(t.eb,t),e)}function Qi(t){t.B&&(Zn.clearTimeout(t.B),t.B=null)}function Yi(t){0==t.l.G||t.I||wo(t.l,t)}function Ji(t){Qi(t);var e=t.L;e&&"function"==typeof e.na&&e.na(),t.L=null,li(t.W),yi(t.V),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function Xi(t,e){try{var n=t.l;if(0!=n.G&&(n.g==t||Ns(n.i,t)))if(n.I=t.N,!t.J&&Ns(n.i,t)&&3==n.G){try{var r=n.Ca.g.parse(e)}catch(c){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0])t:if(n.u)n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=ki(zn(n.ab,n),6e3));else{if(n.g){if(!(n.g.F+3e3<t.F))break t;bo(n),uo(n)}yo(n),Ai(18)}if(1>=Os(n.i)&&n.ka){try{n.ka()}catch(c){}n.ka=void 0}}else Eo(n,11)}else if((t.J||n.g==t)&&bo(n),!tr(e))for(i=n.Ca.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.U=c[0],c=c[1],2==n.G)if("c"==c[0]){n.J=c[1],n.la=c[2];const e=c[3];null!=e&&(n.ma=e,n.h.info("VER="+n.ma));const i=c[4];null!=i&&(n.za=i,n.h.info("SVER="+n.za));const l=c[5];null!=l&&"number"==typeof l&&0<l&&(n.K=r=1.5*l,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=t.g;if(h){const t=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(t){var s=r.i;!s.g&&(rr(t,"spdy")||rr(t,"quic")||rr(t,"h2"))&&(s.j=s.l,s.g=new Set,s.h&&(Ds(s,s.h),s.h=null))}if(r.D){const t=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;t&&(r.sa=t,hs(r.F,r.D,t))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-t.F,n.h.info("Handshake RTT: "+n.O+"ms"));var o=t;if((r=n).oa=Io(r,r.H?r.la:null,r.W),o.J){Rs(r.i,o);var a=o,u=r.K;u&&a.setTimeout(u),a.B&&(Qi(a),Ki(a)),r.g=o}else mo(r);0<n.l.length&&ho(n)}else"stop"!=c[0]&&"close"!=c[0]||Eo(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?Eo(n,7):ao(n):"noop"!=c[0]&&n.j&&n.j.wa(c),n.A=0)}Si(4)}catch(c){}}function ts(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Un(t)||"string"==typeof t)Yn(t,e,void 0);else{if(t.T&&"function"==typeof t.T)var n=t.T();else if(t.R&&"function"==typeof t.R)n=void 0;else if(Un(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.R&&"function"==typeof t.R)return t.R();if("string"==typeof t)return t.split("");if(Un(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}}function es(t,e){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof es)for(n=t.T(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function ns(t){if(t.i!=t.g.length){for(var e=0,n=0;e<t.g.length;){var r=t.g[e];rs(t.h,r)&&(t.g[n++]=r),e++}t.g.length=n}if(t.i!=t.g.length){var i={};for(n=e=0;e<t.g.length;)rs(i,r=t.g[e])||(t.g[n++]=r,i[r]=1),e++;t.g.length=n}}function rs(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(An=Mi.prototype).setTimeout=function(t){this.P=t},An.gb=function(t){t=t.target;const e=this.L;e&&3==no(t)?e.l():this.Ia(t)},An.Ia=function(t){try{if(t==this.g)t:{const l=no(this.g);var e=this.g.Da();const h=this.g.ba();if(!(3>l)&&(3!=l||yr||this.g&&(this.h.h||this.g.ga()||ro(this.g)))){this.I||4!=l||7==e||Si(8==e||0>=h?3:2),Qi(this);var n=this.g.ba();this.N=n;e:if(zi(this)){var r=ro(this.g);t="";var i=r.length,s=4==no(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Ji(this),Yi(this);var o="";break e}this.h.i=new Zn.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ga();if(this.i=200==n,function(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.X,l,n),this.i){if(this.$&&!this.J){e:{if(this.g){var a,u=this.g;if((a=u.g?u.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!tr(a)){var c=a;break e}}c=null}if(!(n=c)){this.i=!1,this.o=3,Ai(12),Ji(this),Yi(this);break t}_i(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Xi(this,n)}this.U?(Hi(this,l,o),yr&&this.i&&3==l&&(mi(this.V,this.W,"tick",this.fb),this.W.start())):(_i(this.j,this.m,o,null),Xi(this,o)),4==l&&Ji(this),this.i&&!this.I&&(4==l?wo(this.l,this):(this.i=!1,Ki(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,Ai(12)):(this.o=0,Ai(13)),Ji(this),Yi(this)}}}catch(l){}},An.fb=function(){if(this.g){var t=no(this.g),e=this.g.ga();this.C<e.length&&(Qi(this),Hi(this,t,e),this.i&&4!=t&&Ki(this))}},An.cancel=function(){this.I=!0,Ji(this)},An.eb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Si(3),Ai(17)),Ji(this),this.o=2,Yi(this)):Wi(this,this.Y-t)},(An=es.prototype).R=function(){ns(this);for(var t=[],e=0;e<this.g.length;e++)t.push(this.h[this.g[e]]);return t},An.T=function(){return ns(this),this.g.concat()},An.get=function(t,e){return rs(this.h,t)?this.h[t]:e},An.set=function(t,e){rs(this.h,t)||(this.i++,this.g.push(t)),this.h[t]=e},An.forEach=function(t,e){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],s=this.get(i);t.call(e,s,i,this)}};var is=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ss(t,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,t instanceof ss){this.g=void 0!==e?e:t.g,as(this,t.j),this.s=t.s,us(this,t.i),cs(this,t.m),this.l=t.l,e=t.h;var n=new ws;n.i=e.i,e.g&&(n.g=new es(e.g),n.h=e.h),ls(this,n),this.o=t.o}else t&&(n=String(t).match(is))?(this.g=!!e,as(this,n[1]||"",!0),this.s=fs(n[2]||""),us(this,n[3]||"",!0),cs(this,n[4]),this.l=fs(n[5]||"",!0),ls(this,n[6]||"",!0),this.o=fs(n[7]||"")):(this.g=!!e,this.h=new ws(null,this.g))}function os(t){return new ss(t)}function as(t,e,n){t.j=n?fs(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function us(t,e,n){t.i=n?fs(e,!0):e}function cs(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function ls(t,e,n){e instanceof ws?(t.h=e,function(t,e){e&&!t.j&&(Ts(t),t.i=null,t.g.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(Es(this,e),Is(this,n,t))},t)),t.j=e}(t.h,t.g)):(n||(e=ps(e,_s)),t.h=new ws(e,t.g))}function hs(t,e,n){t.h.set(e,n)}function ds(t){return hs(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function fs(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ps(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,gs),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function gs(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}ss.prototype.toString=function(){var t=[],e=this.j;e&&t.push(ps(e,ms,!0),":");var n=this.i;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(ps(e,ms,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&t.push("/"),t.push(ps(n,"/"==n.charAt(0)?vs:ys,!0))),(n=this.h.toString())&&t.push("?",n),(n=this.o)&&t.push("#",ps(n,bs)),t.join("")};var ms=/[#\/\?@]/g,ys=/[#\?:]/g,vs=/[#\?]/g,_s=/[#\?@]/g,bs=/#/g;function ws(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ts(t){t.g||(t.g=new es,t.h=0,t.i&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Es(t,e){Ts(t),e=As(t,e),rs(t.g.h,e)&&(t.i=null,t.h-=t.g.get(e).length,rs((t=t.g).h,e)&&(delete t.h[e],t.i--,t.g.length>2*t.i&&ns(t)))}function Ss(t,e){return Ts(t),e=As(t,e),rs(t.g.h,e)}function Is(t,e,n){Es(t,e),0<n.length&&(t.i=null,t.g.set(As(t,e),Xn(n)),t.h+=n.length)}function As(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Cs(t){this.l=t||ks,t=Zn.PerformanceNavigationTiming?0<(t=Zn.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(Zn.g&&Zn.g.Ea&&Zn.g.Ea()&&Zn.g.Ea().Zb),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(An=ws.prototype).add=function(t,e){Ts(this),this.i=null,t=As(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},An.forEach=function(t,e){Ts(this),this.g.forEach(function(n,r){Yn(n,function(n){t.call(e,n,r,this)},this)},this)},An.T=function(){Ts(this);for(var t=this.g.R(),e=this.g.T(),n=[],r=0;r<e.length;r++)for(var i=t[r],s=0;s<i.length;s++)n.push(e[r]);return n},An.R=function(t){Ts(this);var e=[];if("string"==typeof t)Ss(this,t)&&(e=Jn(e,this.g.get(As(this,t))));else{t=this.g.R();for(var n=0;n<t.length;n++)e=Jn(e,t[n])}return e},An.set=function(t,e){return Ts(this),this.i=null,Ss(this,t=As(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},An.get=function(t,e){return t&&0<(t=this.R(t)).length?String(t[0]):e},An.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var t=[],e=this.g.T(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.R(r);for(var s=0;s<r.length;s++){var o=i;""!==r[s]&&(o+="="+encodeURIComponent(String(r[s]))),t.push(o)}}return this.i=t.join("&")};var ks=10;function xs(t){return!!t.h||!!t.g&&t.g.size>=t.j}function Os(t){return t.h?1:t.g?t.g.size:0}function Ns(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function Ds(t,e){t.g?t.g.add(e):t.h=e}function Rs(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function Ps(t){if(null!=t.h)return t.i.concat(t.h.D);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.D);return e}return Xn(t.i)}function Ls(){}function Fs(){this.g=new Ls}function Zs(t,e,n){const r=n||"";try{ts(t,function(t,n){let i=t;qn(t)&&(i=Xr(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Ms(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}function Us(t){this.l=t.$b||null,this.j=t.ib||!1}function qs(t,e){Qr.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=Vs,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Cs.prototype.cancel=function(){if(this.i=Ps(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}},Ls.prototype.stringify=function(t){return Zn.JSON.stringify(t,void 0)},Ls.prototype.parse=function(t){return Zn.JSON.parse(t,void 0)},Gn(Us,Ni),Us.prototype.g=function(){return new qs(this.l,this.j)},Us.prototype.i=function(t){return function(){return t}}({}),Gn(qs,Qr);var Vs=0;function js(t){t.j.read().then(t.Sa.bind(t)).catch(t.ha.bind(t))}function Bs(t){t.readyState=4,t.l=null,t.j=null,t.A=null,$s(t)}function $s(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(An=qs.prototype).open=function(t,e){if(this.readyState!=Vs)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,$s(this)},An.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||Zn).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},An.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Bs(this)),this.readyState=Vs},An.Va=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,$s(this)),this.g&&(this.readyState=3,$s(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Zn.ReadableStream&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;js(this)}else t.text().then(this.Ua.bind(this),this.ha.bind(this))},An.Sa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Bs(this):$s(this),3==this.readyState&&js(this)}},An.Ua=function(t){this.g&&(this.response=this.responseText=t,Bs(this))},An.Ta=function(t){this.g&&(this.response=t,Bs(this))},An.ha=function(){this.g&&Bs(this)},An.setRequestHeader=function(t,e){this.v.append(t,e)},An.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},An.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(qs.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var zs=Zn.JSON.parse;function Hs(t){Qr.call(this),this.headers=new es,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Gs,this.K=this.L=!1}Gn(Hs,Qr);var Gs="",Ks=/^https?$/i,Ws=["POST","PUT"];function Qs(t){return"content-type"==t.toLowerCase()}function Ys(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Js(t),to(t)}function Js(t){t.D||(t.D=!0,Yr(t,"complete"),Yr(t,"error"))}function Xs(t){if(t.h&&void 0!==Fn&&(!t.C[1]||4!=no(t)||2!=t.ba()))if(t.v&&4==no(t))hi(t.Fa,0,t);else if(Yr(t,"readystatechange"),4==no(t)){t.h=!1;try{const u=t.ba();t:switch(u){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break t;default:e=!1}var n;if(!(n=e)){var r;if(r=0===u){var i=String(t.H).match(is)[1]||null;if(!i&&Zn.self&&Zn.self.location){var s=Zn.self.location.protocol;i=s.substr(0,s.length-1)}r=!Ks.test(i?i.toLowerCase():"")}n=r}if(n)Yr(t,"complete"),Yr(t,"success");else{t.m=6;try{var o=2<no(t)?t.g.statusText:""}catch(a){o=""}t.j=o+" ["+t.ba()+"]",Js(t)}}finally{to(t)}}}function to(t,e){if(t.g){eo(t);const r=t.g,i=t.C[0]?Mn:null;t.g=null,t.C=null,e||Yr(t,"ready");try{r.onreadystatechange=i}catch(n){}}}function eo(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(Zn.clearTimeout(t.A),t.A=null)}function no(t){return t.g?t.g.readyState:0}function ro(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case Gs:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch(e){return null}}function io(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){let e="";return ar(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):hs(t,e,n))}function so(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function oo(t){this.za=0,this.l=[],this.h=new vi,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=so("failFast",!1,t),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=so("baseRetryDelayMs",5e3,t),this.$a=so("retryDelaySeedMs",1e4,t),this.Ya=so("forwardChannelMaxRetries",2,t),this.ra=so("forwardChannelRequestTimeoutMs",2e4,t),this.qa=t&&t.xmlHttpFactory||void 0,this.Ba=t&&t.Yb||!1,this.K=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.J="",this.i=new Cs(t&&t.concurrentRequestLimit),this.Ca=new Fs,this.ja=t&&t.fastHandshake||!1,this.Ra=t&&t.Wb||!1,t&&t.Aa&&this.h.Aa(),t&&t.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&t&&t.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!t||!1!==t.Xb}function ao(t){if(co(t),3==t.G){var e=t.V++,n=os(t.F);hs(n,"SID",t.J),hs(n,"RID",e),hs(n,"TYPE","terminate"),po(t,n),(e=new Mi(t,t.h,e,void 0)).K=2,e.v=ds(os(n)),n=!1,Zn.navigator&&Zn.navigator.sendBeacon&&(n=Zn.navigator.sendBeacon(e.v.toString(),"")),!n&&Zn.Image&&((new Image).src=e.v,n=!0),n||(e.g=Ao(e.l,null),e.g.ea(e.v)),e.F=Date.now(),Ki(e)}So(t)}function uo(t){t.g&&(vo(t),t.g.cancel(),t.g=null)}function co(t){uo(t),t.u&&(Zn.clearTimeout(t.u),t.u=null),bo(t),t.i.cancel(),t.m&&("number"==typeof t.m&&Zn.clearTimeout(t.m),t.m=null)}function lo(t,e){t.l.push(new class{constructor(t,e){this.h=t,this.g=e}}(t.Za++,e)),3==t.G&&ho(t)}function ho(t){xs(t.i)||t.m||(t.m=!0,si(t.Ha,t),t.C=0)}function fo(t,e){var n;n=e?e.m:t.V++;const r=os(t.F);hs(r,"SID",t.J),hs(r,"RID",n),hs(r,"AID",t.U),po(t,r),t.o&&t.s&&io(r,t.o,t.s),n=new Mi(t,t.h,n,t.C+1),null===t.o&&(n.H=t.s),e&&(t.l=e.D.concat(t.l)),e=go(t,n,1e3),n.setTimeout(Math.round(.5*t.ra)+Math.round(.5*t.ra*Math.random())),Ds(t.i,n),Bi(n,r,e)}function po(t,e){t.j&&ts({},function(t,n){hs(e,n,t)})}function go(t,e,n){n=Math.min(t.l.length,n);var r=t.j?zn(t.j.Oa,t.j,t):null;t:{var i=t.l;let e=-1;for(;;){const t=["count="+n];-1==e?0<n?(e=i[0].h,t.push("ofs="+e)):e=0:t.push("ofs="+e);let o=!0;for(let a=0;a<n;a++){let n=i[a].h;const u=i[a].g;if(n-=e,0>n)e=Math.max(0,i[a].h-100),o=!1;else try{Zs(u,t,"req"+n+"_")}catch(s){r&&r(u)}}if(o){r=t.join("&");break t}}}return t=t.l.splice(0,n),e.D=t,r}function mo(t){t.g||t.u||(t.Y=1,si(t.Ga,t),t.A=0)}function yo(t){return!(t.g||t.u||3<=t.A||(t.Y++,t.u=ki(zn(t.Ga,t),To(t,t.A)),t.A++,0))}function vo(t){null!=t.B&&(Zn.clearTimeout(t.B),t.B=null)}function _o(t){t.g=new Mi(t,t.h,"rpc",t.Y),null===t.o&&(t.g.H=t.s),t.g.O=0;var e=os(t.oa);hs(e,"RID","rpc"),hs(e,"SID",t.J),hs(e,"CI",t.N?"0":"1"),hs(e,"AID",t.U),po(t,e),hs(e,"TYPE","xmlhttp"),t.o&&t.s&&io(e,t.o,t.s),t.K&&t.g.setTimeout(t.K);var n=t.g;t=t.la,n.K=1,n.v=ds(os(e)),n.s=null,n.U=!0,$i(n,t)}function bo(t){null!=t.v&&(Zn.clearTimeout(t.v),t.v=null)}function wo(t,e){var n=null;if(t.g==e){bo(t),vo(t),t.g=null;var r=2}else{if(!Ns(t.i,e))return;n=e.D,Rs(t.i,e),r=1}if(t.I=e.N,0!=t.G)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.F;var i=t.C;Yr(r=Ti(),new Ci(r,n,e,i)),ho(t)}else mo(t);else if(3==(i=e.o)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Os(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.l=e.D.concat(t.l),0):1==t.G||2==t.G||t.C>=(t.Xa?0:t.Ya)||(t.m=ki(zn(t.Ha,t,e),To(t,t.C)),t.C++,0)))}(t,e)||2==r&&yo(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:Eo(t,5);break;case 4:Eo(t,10);break;case 3:Eo(t,6);break;default:Eo(t,2)}}function To(t,e){let n=t.Pa+Math.floor(Math.random()*t.$a);return t.j||(n*=2),n*e}function Eo(t,e){if(t.h.info("Error code "+e),2==e){var n=null;t.j&&(n=null);var r=zn(t.jb,t);n||(n=new ss("//www.google.com/images/cleardot.gif"),Zn.location&&"http"==Zn.location.protocol||as(n,"https"),ds(n)),function(t,e){const n=new vi;if(Zn.Image){const r=new Image;r.onload=Hn(Ms,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Hn(Ms,n,r,"TestLoadImage: error",!1,e),r.onabort=Hn(Ms,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Hn(Ms,n,r,"TestLoadImage: timeout",!1,e),Zn.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else Ai(2);t.G=0,t.j&&t.j.va(e),So(t),co(t)}function So(t){t.G=0,t.I=-1,t.j&&((0!=Ps(t.i).length||0!=t.l.length)&&(t.i.i.length=0,Xn(t.l),t.l.length=0),t.j.ua())}function Io(t,e,n){let r=function(t){return t instanceof ss?os(t):new ss(t,void 0)}(n);if(""!=r.i)e&&us(r,e+"."+r.i),cs(r,r.m);else{const t=Zn.location;r=function(t,e,n,r){var i=new ss(null,void 0);return t&&as(i,t),e&&us(i,e),n&&cs(i,n),r&&(i.l=r),i}(t.protocol,e?e+"."+t.hostname:t.hostname,+t.port,n)}return t.aa&&ar(t.aa,function(t,e){hs(r,e,t)}),n=t.sa,(e=t.D)&&n&&hs(r,e,n),hs(r,"VER",t.ma),po(t,r),r}function Ao(t,e,n){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Hs(n&&t.Ba&&!t.qa?new Us({ib:!0}):t.qa)).L=t.H,e}function Co(){}function ko(){if(gr&&!(10<=Number(Ar)))throw Error("Environmental error: no available transport.")}function xo(t,e){Qr.call(this),this.g=new oo(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.P=t,(t=e&&e.httpHeadersOverwriteParam)&&!tr(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!tr(e)&&(this.g.D=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Do(this)}function Oo(t){Li.call(this);var e=t.__sm__;if(e){t:{for(const n in e){t=n;break t}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function No(){Fi.call(this),this.status=1}function Do(t){this.g=t}(An=Hs.prototype).ea=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Ri.g(),this.C=function(t){return t.h||(t.h=t.i())}(this.u?this.u:Ri),this.g.onreadystatechange=zn(this.Fa,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(s){return void Ys(this,s)}t=n||"";const i=new es(this.headers);r&&ts(r,function(t,e){i.set(e,t)}),r=function(t){t:{var e=Qs;const n=t.length,r="string"==typeof t?t.split(""):t;for(let i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.T()),n=Zn.FormData&&t instanceof Zn.FormData,!(0<=Qn(Ws,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.g.setRequestHeader(e,t)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{eo(this),0<this.B&&((this.K=function(t){return gr&&Ir()&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=zn(this.pa,this)):this.A=hi(this.pa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){Ys(this,s)}},An.pa=function(){void 0!==Fn&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Yr(this,"timeout"),this.abort(8))},An.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Yr(this,"complete"),Yr(this,"abort"),to(this))},An.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),to(this,!0)),Hs.Z.M.call(this)},An.Fa=function(){this.s||(this.F||this.v||this.l?Xs(this):this.cb())},An.cb=function(){Xs(this)},An.ba=function(){try{return 2<no(this)?this.g.status:-1}catch(fr){return-1}},An.ga=function(){try{return this.g?this.g.responseText:""}catch(fr){return""}},An.Qa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),zs(e)}},An.Da=function(){return this.m},An.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(An=oo.prototype).ma=8,An.G=1,An.hb=function(t){try{this.h.info("Origin Trials invoked: "+t)}catch(e){}},An.Ha=function(t){if(this.m)if(this.m=null,1==this.G){if(!t){this.V=Math.floor(1e5*Math.random()),t=this.V++;const i=new Mi(this,this.h,t,void 0);let s=this.s;if(this.P&&(s?(s=ur(s),lr(s,this.P)):s=this.P),null===this.o&&(i.H=s),this.ja)t:{for(var e=0,n=0;n<this.l.length;n++){var r=this.l[n];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break t}if(4096===e||n===this.l.length-1){e=n+1;break t}}e=1e3}else e=1e3;e=go(this,i,e),hs(n=os(this.F),"RID",t),hs(n,"CVER",22),this.D&&hs(n,"X-HTTP-Session-Id",this.D),po(this,n),this.o&&s&&io(n,this.o,s),Ds(this.i,i),this.Ra&&hs(n,"TYPE","init"),this.ja?(hs(n,"$req",e),hs(n,"SID","null"),i.$=!0,Bi(i,n,null)):Bi(i,n,e),this.G=2}}else 3==this.G&&(t?fo(this,t):0==this.l.length||xs(this.i)||fo(this))},An.Ga=function(){if(this.u=null,_o(this),this.$&&!(this.L||null==this.g||0>=this.O)){var t=2*this.O;this.h.info("BP detection timer enabled: "+t),this.B=ki(zn(this.bb,this),t)}},An.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ai(10),uo(this),_o(this))},An.ab=function(){null!=this.v&&(this.v=null,uo(this),yo(this),Ai(19))},An.jb=function(t){t?(this.h.info("Successfully pinged google.com"),Ai(2)):(this.h.info("Failed to ping google.com"),Ai(1))},(An=Co.prototype).xa=function(){},An.wa=function(){},An.va=function(){},An.ua=function(){},An.Oa=function(){},ko.prototype.g=function(t,e){return new xo(t,e)},Gn(xo,Qr),xo.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,n=this.h||void 0;t.Wa&&(t.h.info("Origin Trials enabled."),si(zn(t.hb,t,e))),Ai(0),t.W=e,t.aa=n||{},t.N=t.X,t.F=Io(t,null,t.W),ho(t)},xo.prototype.close=function(){ao(this.g)},xo.prototype.u=function(t){if("string"==typeof t){var e={};e.__data__=t,lo(this.g,e)}else this.v?((e={}).__data__=Xr(t),lo(this.g,e)):lo(this.g,t)},xo.prototype.M=function(){this.g.j=null,delete this.j,ao(this.g),delete this.g,xo.Z.M.call(this)},Gn(Oo,Li),Gn(No,Fi),Gn(Do,Co),Do.prototype.xa=function(){Yr(this.g,"a")},Do.prototype.wa=function(t){Yr(this.g,new Oo(t))},Do.prototype.va=function(t){Yr(this.g,new No(t))},Do.prototype.ua=function(){Yr(this.g,"b")},ko.prototype.createWebChannel=ko.prototype.g,xo.prototype.send=xo.prototype.u,xo.prototype.open=xo.prototype.m,xo.prototype.close=xo.prototype.close,xi.NO_ERROR=0,xi.TIMEOUT=8,xi.HTTP_ERROR=6,Oi.COMPLETE="complete",Di.EventType=Pi,Pi.OPEN="a",Pi.CLOSE="b",Pi.ERROR="c",Pi.MESSAGE="d",Qr.prototype.listen=Qr.prototype.N,Hs.prototype.listenOnce=Hs.prototype.O,Hs.prototype.getLastError=Hs.prototype.La,Hs.prototype.getLastErrorCode=Hs.prototype.Da,Hs.prototype.getStatus=Hs.prototype.ba,Hs.prototype.getResponseJson=Hs.prototype.Qa,Hs.prototype.getResponseText=Hs.prototype.ga,Hs.prototype.send=Hs.prototype.ea;var Ro=Ln.createWebChannelTransport=function(){return new ko},Po=Ln.getStatEventTarget=function(){return Ti()},Lo=Ln.ErrorCode=xi,Fo=Ln.EventType=Oi,Zo=Ln.Event=bi,Mo=Ln.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Uo=Ln.FetchXmlHttpFactory=Us,qo=Ln.WebChannel=Di,Vo=Ln.XhrIo=Hs;const jo="@firebase/firestore";class Bo{constructor(t){this.uid=t}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}Bo.UNAUTHENTICATED=new Bo(null),Bo.GOOGLE_CREDENTIALS=new Bo("google-credentials-uid"),Bo.FIRST_PARTY=new Bo("first-party-uid"),Bo.MOCK_USER=new Bo("mock-user");let $o="9.1.3";const zo=new Dn.Yd("@firebase/firestore");function Ho(){return zo.logLevel}function Go(t,...e){if(zo.logLevel<=Dn.in.DEBUG){const n=e.map(Qo);zo.debug(`Firestore (${$o}): ${t}`,...n)}}function Ko(t,...e){if(zo.logLevel<=Dn.in.ERROR){const n=e.map(Qo);zo.error(`Firestore (${$o}): ${t}`,...n)}}function Wo(t,...e){if(zo.logLevel<=Dn.in.WARN){const n=e.map(Qo);zo.warn(`Firestore (${$o}): ${t}`,...n)}}function Qo(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch(e){return t}}function Yo(t="Unexpected state"){const e=`FIRESTORE (${$o}) INTERNAL ASSERTION FAILED: `+t;throw Ko(e),new Error(e)}function Jo(t,e){t||Yo()}function Xo(t,e){return t}const ta={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ea extends Error{constructor(t,e){super(e),this.code=t,this.message=e,this.name="FirebaseError",this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class na{constructor(){this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}}class ra{constructor(t,e){this.user=e,this.type="OAuth",this.authHeaders={},this.authHeaders.Authorization=`Bearer ${t}`}}class ia{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable(()=>e(Bo.UNAUTHENTICATED))}shutdown(){}}class sa{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable(()=>e(this.token.user))}shutdown(){this.changeListener=null}}class oa{constructor(t){this.t=t,this.currentUser=Bo.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){var n=this;let r=this.i;const i=t=>this.i!==r?(r=this.i,e(t)):Promise.resolve();let s=new na;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new na,t.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const e=s;t.enqueueRetryable((0,xn.Z)(function*(){yield e.promise,yield i(n.currentUser)}))},a=t=>{Go("FirebaseCredentialsProvider","Auth detected"),this.auth=t,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(t=>a(t)),setTimeout(()=>{if(!this.auth){const t=this.t.getImmediate({optional:!0});t?a(t):(Go("FirebaseCredentialsProvider","Auth not yet detected"),s.resolve(),s=new na)}},0),o()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then(e=>this.i!==t?(Go("FirebaseCredentialsProvider","getToken aborted due to token change."),this.getToken()):e?(Jo("string"==typeof e.accessToken),new ra(e.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Jo(null===t||"string"==typeof t),new Bo(t)}}class aa{constructor(t,e,n){this.h=t,this.l=e,this.m=n,this.type="FirstParty",this.user=Bo.FIRST_PARTY}get authHeaders(){const t={"X-Goog-AuthUser":this.l},e=this.h.auth.getAuthHeaderValueForFirstParty([]);return e&&(t.Authorization=e),this.m&&(t["X-Goog-Iam-Authorization-Token"]=this.m),t}}class ua{constructor(t,e,n){this.h=t,this.l=e,this.m=n}getToken(){return Promise.resolve(new aa(this.h,this.l,this.m))}start(t,e){t.enqueueRetryable(()=>e(Bo.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class ca{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=t=>this.g(t),this.p=t=>e.writeSequenceNumber(t))}g(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.p&&this.p(t),t}}function la(t){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}ca.T=-1;class ha{static I(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length;let n="";for(;n.length<20;){const r=la(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length))}return n}}function da(t,e){return t<e?-1:t>e?1:0}function fa(t,e,n){return t.length===e.length&&t.every((t,r)=>n(t,e[r]))}function pa(t){return t+"\0"}class ga{constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ea(ta.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ea(ta.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new ea(ta.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ea(ta.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return ga.fromMillis(Date.now())}static fromDate(t){return ga.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),n=Math.floor(1e6*(t-1e3*e));return new ga(e,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?da(this.nanoseconds,t.nanoseconds):da(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class ma{constructor(t){this.timestamp=t}static fromTimestamp(t){return new ma(t)}static min(){return new ma(new ga(0,0))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function ya(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function va(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function _a(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class ba{constructor(t,e,n){void 0===e?e=0:e>t.length&&Yo(),void 0===n?n=t.length-e:n>t.length-e&&Yo(),this.segments=t,this.offset=e,this.len=n}get length(){return this.len}isEqual(t){return 0===ba.comparator(this,t)}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof ba?t.forEach(t=>{e.push(t)}):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return this.construct(this.segments,this.offset+(t=void 0===t?1:t),this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return 0===this.length}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const n=t.get(r),i=e.get(r);if(n<i)return-1;if(n>i)return 1}return t.length<e.length?-1:t.length>e.length?1:0}}class wa extends ba{construct(t,e,n){return new wa(t,e,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const e=[];for(const n of t){if(n.indexOf("//")>=0)throw new ea(ta.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);e.push(...n.split("/").filter(t=>t.length>0))}return new wa(e)}static emptyPath(){return new wa([])}}const Ta=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ea extends ba{construct(t,e,n){return new Ea(t,e,n)}static isValidIdentifier(t){return Ta.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ea.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Ea(["__name__"])}static fromServerFormat(t){const e=[];let n="",r=0;const i=()=>{if(0===n.length)throw new ea(ta.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(n),n=""};let s=!1;for(;r<t.length;){const e=t[r];if("\\"===e){if(r+1===t.length)throw new ea(ta.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const e=t[r+1];if("\\"!==e&&"."!==e&&"`"!==e)throw new ea(ta.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);n+=e,r+=2}else"`"===e?(s=!s,r++):"."!==e||s?(n+=e,r++):(i(),r++)}if(i(),s)throw new ea(ta.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Ea(e)}static emptyPath(){return new Ea([])}}class Sa{constructor(t){this.fields=t,t.sort(Ea.comparator)}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return fa(this.fields,t.fields,(t,e)=>t.isEqual(e))}}class Ia{constructor(t){this.binaryString=t}static fromBase64String(t){const e=atob(t);return new Ia(e)}static fromUint8Array(t){const e=function(t){let e="";for(let n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(t);return new Ia(e)}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return da(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Ia.EMPTY_BYTE_STRING=new Ia("");const Aa=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ca(t){if(Jo(!!t),"string"==typeof t){let e=0;const n=Aa.exec(t);if(Jo(!!n),n[1]){let t=n[1];t=(t+"000000000").substr(0,9),e=Number(t)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ka(t.seconds),nanos:ka(t.nanos)}}function ka(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function xa(t){return"string"==typeof t?Ia.fromBase64String(t):Ia.fromUint8Array(t)}function Oa(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Na(t){const e=t.mapValue.fields.__previous_value__;return Oa(e)?Na(e):e}function Da(t){const e=Ca(t.mapValue.fields.__local_write_time__.timestampValue);return new ga(e.seconds,e.nanos)}function Ra(t){return null==t}function Pa(t){return 0===t&&1/t==-1/0}function La(t){return"number"==typeof t&&Number.isInteger(t)&&!Pa(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}class Fa{constructor(t){this.path=t}static fromPath(t){return new Fa(wa.fromString(t))}static fromName(t){return new Fa(wa.fromString(t).popFirst(5))}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}isEqual(t){return null!==t&&0===wa.comparator(this.path,t.path)}toString(){return this.path.toString()}static comparator(t,e){return wa.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Fa(new wa(t.slice()))}}function Za(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Oa(t)?4:10:Yo()}function Ma(t,e){const n=Za(t);if(n!==Za(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Da(t).isEqual(Da(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;const n=Ca(t.timestampValue),r=Ca(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return r=e,xa(t.bytesValue).isEqual(xa(r.bytesValue));case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return ka(t.geoPointValue.latitude)===ka(e.geoPointValue.latitude)&&ka(t.geoPointValue.longitude)===ka(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return ka(t.integerValue)===ka(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){const n=ka(t.doubleValue),r=ka(e.doubleValue);return n===r?Pa(n)===Pa(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return fa(t.arrayValue.values||[],e.arrayValue.values||[],Ma);case 10:return function(t,e){const n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(ya(n)!==ya(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Ma(n[i],r[i])))return!1;return!0}(t,e);default:return Yo()}var r}function Ua(t,e){return void 0!==(t.values||[]).find(t=>Ma(t,e))}function qa(t,e){const n=Za(t),r=Za(e);if(n!==r)return da(n,r);switch(n){case 0:return 0;case 1:return da(t.booleanValue,e.booleanValue);case 2:return function(t,e){const n=ka(t.integerValue||t.doubleValue),r=ka(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return Va(t.timestampValue,e.timestampValue);case 4:return Va(Da(t),Da(e));case 5:return da(t.stringValue,e.stringValue);case 6:return function(t,e){const n=xa(t),r=xa(e);return n.compareTo(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){const n=t.split("/"),r=e.split("/");for(let i=0;i<n.length&&i<r.length;i++){const t=da(n[i],r[i]);if(0!==t)return t}return da(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){const n=da(ka(t.latitude),ka(e.latitude));return 0!==n?n:da(ka(t.longitude),ka(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const t=qa(n[i],r[i]);if(t)return t}return da(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){const n=t.fields||{},r=Object.keys(n),i=e.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const t=da(r[o],s[o]);if(0!==t)return t;const e=qa(n[r[o]],i[s[o]]);if(0!==e)return e}return da(r.length,s.length)}(t.mapValue,e.mapValue);default:throw Yo()}}function Va(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return da(t,e);const n=Ca(t),r=Ca(e),i=da(n.seconds,r.seconds);return 0!==i?i:da(n.nanos,r.nanos)}function ja(t){return Ba(t)}function Ba(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(t){const e=Ca(t);return`time(${e.seconds},${e.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?xa(t.bytesValue).toBase64():"referenceValue"in t?Fa.fromName(t.referenceValue).toString():"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(t){let e="[",n=!0;for(const r of t.values||[])n?n=!1:e+=",",e+=Ba(r);return e+"]"}(t.arrayValue):"mapValue"in t?function(t){const e=Object.keys(t.fields||{}).sort();let n="{",r=!0;for(const i of e)r?r=!1:n+=",",n+=`${i}:${Ba(t.fields[i])}`;return n+"}"}(t.mapValue):Yo();var e}function $a(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function za(t){return!!t&&"integerValue"in t}function Ha(t){return!!t&&"arrayValue"in t}function Ga(t){return!!t&&"nullValue"in t}function Ka(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Wa(t){return!!t&&"mapValue"in t}function Qa(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&"object"==typeof t.timestampValue)return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return va(t.mapValue.fields,(t,n)=>e.mapValue.fields[t]=Qa(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Qa(t.arrayValue.values[n]);return e}return Object.assign({},t)}class Ya{constructor(t){this.value=t}static empty(){return new Ya({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let n=0;n<t.length-1;++n)if(e=(e.mapValue.fields||{})[t.get(n)],!Wa(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Qa(e)}setAll(t){let e=Ea.emptyPath(),n={},r=[];t.forEach((t,i)=>{if(!e.isImmediateParentOf(i)){const t=this.getFieldsMap(e);this.applyChanges(t,n,r),n={},r=[],e=i.popLast()}t?n[i.lastSegment()]=Qa(t):r.push(i.lastSegment())});const i=this.getFieldsMap(e);this.applyChanges(i,n,r)}delete(t){const e=this.field(t.popLast());Wa(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Ma(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let n=0;n<t.length;++n){let r=e.mapValue.fields[t.get(n)];Wa(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(n)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,n){va(e,(e,n)=>t[e]=n);for(const r of n)delete t[r]}clone(){return new Ya(Qa(this.value))}}function Ja(t){const e=[];return va(t.fields,(t,n)=>{const r=new Ea([t]);if(Wa(n)){const t=Ja(n.mapValue).fields;if(0===t.length)e.push(r);else for(const n of t)e.push(r.child(n))}else e.push(r)}),new Sa(e)}class Xa{constructor(t,e,n,r,i){this.key=t,this.documentType=e,this.version=n,this.data=r,this.documentState=i}static newInvalidDocument(t){return new Xa(t,0,ma.min(),Ya.empty(),0)}static newFoundDocument(t,e,n){return new Xa(t,1,e,n,0)}static newNoDocument(t,e){return new Xa(t,2,e,Ya.empty(),0)}static newUnknownDocument(t,e){return new Xa(t,3,e,Ya.empty(),2)}convertToFoundDocument(t,e){return this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ya.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ya.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(t){return t instanceof Xa&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}clone(){return new Xa(this.key,this.documentType,this.version,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class tu{constructor(t,e=null,n=[],r=[],i=null,s=null,o=null){this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.A=null}}function eu(t,e=null,n=[],r=[],i=null,s=null,o=null){return new tu(t,e,n,r,i,s,o)}function nu(t){const e=Xo(t);if(null===e.A){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(t=>function(t){return t.field.canonicalString()+t.op.toString()+ja(t.value)}(t)).join(","),t+="|ob:",t+=e.orderBy.map(t=>{return(e=t).field.canonicalString()+e.dir;var e}).join(","),Ra(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=gu(e.startAt)),e.endAt&&(t+="|ub:",t+=gu(e.endAt)),e.A=t}return e.A}function ru(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let i=0;i<t.orderBy.length;i++)if(!yu(t.orderBy[i],e.orderBy[i]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let i=0;i<t.filters.length;i++)if((n=t.filters[i]).op!==(r=e.filters[i]).op||!n.field.isEqual(r.field)||!Ma(n.value,r.value))return!1;var n,r;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!_u(t.startAt,e.startAt)&&_u(t.endAt,e.endAt)}function iu(t){return Fa.isDocumentKey(t.path)&&null===t.collectionGroup&&0===t.filters.length}class su extends class{}{constructor(t,e,n){super(),this.field=t,this.op=e,this.value=n}static create(t,e,n){return t.isKeyField()?"in"===e||"not-in"===e?this.R(t,e,n):new ou(t,e,n):"array-contains"===e?new lu(t,n):"in"===e?new hu(t,n):"not-in"===e?new du(t,n):"array-contains-any"===e?new fu(t,n):new su(t,e,n)}static R(t,e,n){return"in"===e?new au(t,n):new uu(t,n)}matches(t){const e=t.data.field(this.field);return"!="===this.op?null!==e&&this.P(qa(e,this.value)):null!==e&&Za(this.value)===Za(e)&&this.P(qa(e,this.value))}P(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Yo()}}v(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class ou extends su{constructor(t,e,n){super(t,e,n),this.key=Fa.fromName(n.referenceValue)}matches(t){const e=Fa.comparator(t.key,this.key);return this.P(e)}}class au extends su{constructor(t,e){super(t,"in",e),this.keys=cu(0,e)}matches(t){return this.keys.some(e=>e.isEqual(t.key))}}class uu extends su{constructor(t,e){super(t,"not-in",e),this.keys=cu(0,e)}matches(t){return!this.keys.some(e=>e.isEqual(t.key))}}function cu(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map(t=>Fa.fromName(t.referenceValue))}class lu extends su{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Ha(e)&&Ua(e.arrayValue,this.value)}}class hu extends su{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return null!==e&&Ua(this.value.arrayValue,e)}}class du extends su{constructor(t,e){super(t,"not-in",e)}matches(t){if(Ua(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return null!==e&&!Ua(this.value.arrayValue,e)}}class fu extends su{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Ha(e)||!e.arrayValue.values)&&e.arrayValue.values.some(t=>Ua(this.value.arrayValue,t))}}class pu{constructor(t,e){this.position=t,this.before=e}}function gu(t){return`${t.before?"b":"a"}:${t.position.map(t=>ja(t)).join(",")}`}class mu{constructor(t,e="asc"){this.field=t,this.dir=e}}function yu(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}function vu(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(r=s.field.isKeyField()?Fa.comparator(Fa.fromName(o.referenceValue),n.key):qa(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function _u(t,e){if(null===t)return null===e;if(null===e||t.before!==e.before||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ma(t.position[n],e.position[n]))return!1;return!0}class bu{constructor(t,e=null,n=[],r=[],i=null,s="F",o=null,a=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.V=null,this.S=null}}function wu(t,e,n,r,i,s,o,a){return new bu(t,e,n,r,i,s,o,a)}function Tu(t){return new bu(t)}function Eu(t){return!Ra(t.limit)&&"F"===t.limitType}function Su(t){return!Ra(t.limit)&&"L"===t.limitType}function Iu(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Au(t){for(const e of t.filters)if(e.v())return e.field;return null}function Cu(t){return null!==t.collectionGroup}function ku(t){const e=Xo(t);if(null===e.V){e.V=[];const t=Au(e),n=Iu(e);if(null!==t&&null===n)t.isKeyField()||e.V.push(new mu(t)),e.V.push(new mu(Ea.keyField(),"asc"));else{let t=!1;for(const n of e.explicitOrderBy)e.V.push(n),n.field.isKeyField()&&(t=!0);if(!t){const t=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.V.push(new mu(Ea.keyField(),t))}}}return e.V}function xu(t){const e=Xo(t);if(!e.S)if("F"===e.limitType)e.S=eu(e.path,e.collectionGroup,ku(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const i of ku(e))t.push(new mu(i.field,"desc"===i.dir?"asc":"desc"));const n=e.endAt?new pu(e.endAt.position,!e.endAt.before):null,r=e.startAt?new pu(e.startAt.position,!e.startAt.before):null;e.S=eu(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}return e.S}function Ou(t,e,n){return new bu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Nu(t,e){return ru(xu(t),xu(e))&&t.limitType===e.limitType}function Du(t){return`${nu(xu(t))}|lt:${t.limitType}`}function Ru(t){return`Query(target=${function(t){let e=t.path.canonicalString();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=`, filters: [${t.filters.map(t=>{return`${(e=t).field.canonicalString()} ${e.op} ${ja(e.value)}`;var e}).join(", ")}]`),Ra(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=`, orderBy: [${t.orderBy.map(t=>{return`${(e=t).field.canonicalString()} (${e.dir})`;var e}).join(", ")}]`),t.startAt&&(e+=", startAt: "+gu(t.startAt)),t.endAt&&(e+=", endAt: "+gu(t.endAt)),`Target(${e})`}(xu(t))}; limitType=${t.limitType})`}function Pu(t,e){return e.isFoundDocument()&&function(t,e){const n=e.key.path;return null!==t.collectionGroup?e.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(n):Fa.isDocumentKey(t.path)?t.path.isEqual(n):t.path.isImmediateParentOf(n)}(t,e)&&function(t,e){for(const n of t.explicitOrderBy)if(!n.field.isKeyField()&&null===e.data.field(n.field))return!1;return!0}(t,e)&&function(t,e){for(const n of t.filters)if(!n.matches(e))return!1;return!0}(t,e)&&(r=e,!((n=t).startAt&&!vu(n.startAt,ku(n),r)||n.endAt&&vu(n.endAt,ku(n),r)));var n,r}function Lu(t){return(e,n)=>{let r=!1;for(const i of ku(t)){const t=Fu(i,e,n);if(0!==t)return t;r=r||i.field.isKeyField()}return 0}}function Fu(t,e,n){const r=t.field.isKeyField()?Fa.comparator(e.key,n.key):function(t,e,n){const r=e.data.field(t),i=n.data.field(t);return null!==r&&null!==i?qa(r,i):Yo()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Yo()}}function Zu(t,e){if(t.D){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Pa(e)?"-0":e}}function Mu(t){return{integerValue:""+t}}function Uu(t,e){return La(e)?Mu(e):Zu(t,e)}class qu{constructor(){this._=void 0}}function Vu(t,e,n){return t instanceof $u?function(t,e){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof zu?Hu(t,e):t instanceof Gu?Ku(t,e):function(t,e){const n=Bu(t,e),r=Qu(n)+Qu(t.C);return za(n)&&za(t.C)?Mu(r):Zu(t.N,r)}(t,e)}function ju(t,e,n){return t instanceof zu?Hu(t,e):t instanceof Gu?Ku(t,e):n}function Bu(t,e){return t instanceof Wu?za(r=e)||(n=r)&&"doubleValue"in n?e:{integerValue:0}:null;var n,r}class $u extends qu{}class zu extends qu{constructor(t){super(),this.elements=t}}function Hu(t,e){const n=Yu(e);for(const r of t.elements)n.some(t=>Ma(t,r))||n.push(r);return{arrayValue:{values:n}}}class Gu extends qu{constructor(t){super(),this.elements=t}}function Ku(t,e){let n=Yu(e);for(const r of t.elements)n=n.filter(t=>!Ma(t,r));return{arrayValue:{values:n}}}class Wu extends qu{constructor(t,e){super(),this.N=t,this.C=e}}function Qu(t){return ka(t.integerValue||t.doubleValue)}function Yu(t){return Ha(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Ju{constructor(t,e){this.field=t,this.transform=e}}class Xu{constructor(t,e){this.version=t,this.transformResults=e}}class tc{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new tc}static exists(t){return new tc(void 0,t)}static updateTime(t){return new tc(t)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function ec(t,e){return void 0!==t.updateTime?e.isFoundDocument()&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e.isFoundDocument()}class nc{}function rc(t,e,n){t instanceof uc?function(t,e,n){const r=t.value.clone(),i=hc(t.fieldTransforms,e,n.transformResults);r.setAll(i),e.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(t,e,n):t instanceof cc?function(t,e,n){if(!ec(t.precondition,e))return void e.convertToUnknownDocument(n.version);const r=hc(t.fieldTransforms,e,n.transformResults),i=e.data;i.setAll(lc(t)),i.setAll(r),e.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(t,e,n):e.convertToNoDocument(n.version).setHasCommittedMutations()}function ic(t,e,n){var r;t instanceof uc?function(t,e,n){if(!ec(t.precondition,e))return;const r=t.value.clone(),i=dc(t.fieldTransforms,n,e);r.setAll(i),e.convertToFoundDocument(ac(e),r).setHasLocalMutations()}(t,e,n):t instanceof cc?function(t,e,n){if(!ec(t.precondition,e))return;const r=dc(t.fieldTransforms,n,e),i=e.data;i.setAll(lc(t)),i.setAll(r),e.convertToFoundDocument(ac(e),i).setHasLocalMutations()}(t,e,n):ec(t.precondition,r=e)&&r.convertToNoDocument(ma.min())}function sc(t,e){let n=null;for(const r of t.fieldTransforms){const t=e.data.field(r.field),i=Bu(r.transform,t||null);null!=i&&(null==n&&(n=Ya.empty()),n.set(r.field,i))}return n||null}function oc(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(n=t.fieldTransforms)&&void 0===r||n&&r&&fa(n,r,(t,e)=>function(t,e){return t.field.isEqual(e.field)&&(r=e.transform,(n=t.transform)instanceof zu&&r instanceof zu||n instanceof Gu&&r instanceof Gu?fa(n.elements,r.elements,Ma):n instanceof Wu&&r instanceof Wu?Ma(n.C,r.C):n instanceof $u&&r instanceof $u);var n,r}(t,e))))&&(0===t.type?t.value.isEqual(e.value):1!==t.type||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask));var n,r}function ac(t){return t.isFoundDocument()?t.version:ma.min()}class uc extends nc{constructor(t,e,n,r=[]){super(),this.key=t,this.value=e,this.precondition=n,this.fieldTransforms=r,this.type=0}}class cc extends nc{constructor(t,e,n,r,i=[]){super(),this.key=t,this.data=e,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}}function lc(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function hc(t,e,n){const r=new Map;Jo(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,ju(o,a,n[i]))}return r}function dc(t,e,n){const r=new Map;for(const i of t){const t=i.transform,s=n.data.field(i.field);r.set(i.field,Vu(t,s,e))}return r}class fc extends nc{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}}class pc extends nc{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}}class gc{constructor(t){this.count=t}}var mc,yc;function vc(t){switch(t){default:return Yo();case ta.CANCELLED:case ta.UNKNOWN:case ta.DEADLINE_EXCEEDED:case ta.RESOURCE_EXHAUSTED:case ta.INTERNAL:case ta.UNAVAILABLE:case ta.UNAUTHENTICATED:return!1;case ta.INVALID_ARGUMENT:case ta.NOT_FOUND:case ta.ALREADY_EXISTS:case ta.PERMISSION_DENIED:case ta.FAILED_PRECONDITION:case ta.ABORTED:case ta.OUT_OF_RANGE:case ta.UNIMPLEMENTED:case ta.DATA_LOSS:return!0}}function _c(t){if(void 0===t)return Ko("GRPC error has no .code"),ta.UNKNOWN;switch(t){case mc.OK:return ta.OK;case mc.CANCELLED:return ta.CANCELLED;case mc.UNKNOWN:return ta.UNKNOWN;case mc.DEADLINE_EXCEEDED:return ta.DEADLINE_EXCEEDED;case mc.RESOURCE_EXHAUSTED:return ta.RESOURCE_EXHAUSTED;case mc.INTERNAL:return ta.INTERNAL;case mc.UNAVAILABLE:return ta.UNAVAILABLE;case mc.UNAUTHENTICATED:return ta.UNAUTHENTICATED;case mc.INVALID_ARGUMENT:return ta.INVALID_ARGUMENT;case mc.NOT_FOUND:return ta.NOT_FOUND;case mc.ALREADY_EXISTS:return ta.ALREADY_EXISTS;case mc.PERMISSION_DENIED:return ta.PERMISSION_DENIED;case mc.FAILED_PRECONDITION:return ta.FAILED_PRECONDITION;case mc.ABORTED:return ta.ABORTED;case mc.OUT_OF_RANGE:return ta.OUT_OF_RANGE;case mc.UNIMPLEMENTED:return ta.UNIMPLEMENTED;case mc.DATA_LOSS:return ta.DATA_LOSS;default:return Yo()}}(yc=mc||(mc={}))[yc.OK=0]="OK",yc[yc.CANCELLED=1]="CANCELLED",yc[yc.UNKNOWN=2]="UNKNOWN",yc[yc.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",yc[yc.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",yc[yc.NOT_FOUND=5]="NOT_FOUND",yc[yc.ALREADY_EXISTS=6]="ALREADY_EXISTS",yc[yc.PERMISSION_DENIED=7]="PERMISSION_DENIED",yc[yc.UNAUTHENTICATED=16]="UNAUTHENTICATED",yc[yc.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",yc[yc.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",yc[yc.ABORTED=10]="ABORTED",yc[yc.OUT_OF_RANGE=11]="OUT_OF_RANGE",yc[yc.UNIMPLEMENTED=12]="UNIMPLEMENTED",yc[yc.INTERNAL=13]="INTERNAL",yc[yc.UNAVAILABLE=14]="UNAVAILABLE",yc[yc.DATA_LOSS=15]="DATA_LOSS";class bc{constructor(t,e){this.comparator=t,this.root=e||Tc.EMPTY}insert(t,e){return new bc(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Tc.BLACK,null,null))}remove(t){return new bc(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Tc.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null}indexOf(t){let e=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((e,n)=>(t(e,n),!1))}toString(){const t=[];return this.inorderTraversal((e,n)=>(t.push(`${e}:${n}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new wc(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new wc(this.root,t,this.comparator,!1)}getReverseIterator(){return new wc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new wc(this.root,t,this.comparator,!0)}}class wc{constructor(t,e,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Tc{constructor(t,e,n,r,i){this.key=t,this.value=e,this.color=null!=n?n:Tc.RED,this.left=null!=r?r:Tc.EMPTY,this.right=null!=i?i:Tc.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,n,r,i){return new Tc(null!=t?t:this.key,null!=e?e:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,n){let r=this;const i=n(t,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Tc.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let n,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===e(t,r.key)){if(r.right.isEmpty())return Tc.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Tc.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Tc.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Yo();const t=this.left.check();if(t!==this.right.check())throw Yo();return t+(this.isRed()?0:1)}}Tc.EMPTY=null,Tc.RED=!0,Tc.BLACK=!1,Tc.EMPTY=new class{constructor(){this.size=0}get key(){throw Yo()}get value(){throw Yo()}get color(){throw Yo()}get left(){throw Yo()}get right(){throw Yo()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Tc(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ec{constructor(t){this.comparator=t,this.data=new bc(this.comparator)}has(t){return null!==this.data.get(t)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((e,n)=>(t(e),!1))}forEachInRange(t,e){const n=this.data.getIteratorFrom(t[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();)if(!t(n.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new Sc(this.data.getIterator())}getIteratorFrom(t){return new Sc(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach(t=>{e=e.add(t)}),e}isEqual(t){if(!(t instanceof Ec)||this.size!==t.size)return!1;const e=this.data.getIterator(),n=t.data.getIterator();for(;e.hasNext();){const t=e.getNext().key,r=n.getNext().key;if(0!==this.comparator(t,r))return!1}return!0}toArray(){const t=[];return this.forEach(e=>{t.push(e)}),t}toString(){const t=[];return this.forEach(e=>t.push(e)),"SortedSet("+t.toString()+")"}copy(t){const e=new Ec(this.comparator);return e.data=t,e}}class Sc{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}const Ic=new bc(Fa.comparator);function Ac(){return Ic}const Cc=new bc(Fa.comparator);function kc(){return Cc}const xc=new bc(Fa.comparator);function Oc(){return xc}const Nc=new Ec(Fa.comparator);function Dc(...t){let e=Nc;for(const n of t)e=e.add(n);return e}const Rc=new Ec(da);function Pc(){return Rc}class Lc{constructor(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(t,e){const n=new Map;return n.set(t,Fc.createSynthesizedTargetChangeForCurrentChange(t,e)),new Lc(ma.min(),n,Pc(),Ac(),Dc())}}class Fc{constructor(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(t,e){return new Fc(Ia.EMPTY_BYTE_STRING,e,Dc(),Dc(),Dc())}}class Zc{constructor(t,e,n,r){this.k=t,this.removedTargetIds=e,this.key=n,this.$=r}}class Mc{constructor(t,e){this.targetId=t,this.O=e}}class Uc{constructor(t,e,n=Ia.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r}}class qc{constructor(){this.F=0,this.M=Bc(),this.L=Ia.EMPTY_BYTE_STRING,this.B=!1,this.U=!0}get current(){return this.B}get resumeToken(){return this.L}get q(){return 0!==this.F}get K(){return this.U}j(t){t.approximateByteSize()>0&&(this.U=!0,this.L=t)}W(){let t=Dc(),e=Dc(),n=Dc();return this.M.forEach((r,i)=>{switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Yo()}}),new Fc(this.L,this.B,t,e,n)}G(){this.U=!1,this.M=Bc()}H(t,e){this.U=!0,this.M=this.M.insert(t,e)}J(t){this.U=!0,this.M=this.M.remove(t)}Y(){this.F+=1}X(){this.F-=1}Z(){this.U=!0,this.B=!0}}class Vc{constructor(t){this.tt=t,this.et=new Map,this.nt=Ac(),this.st=jc(),this.it=new Ec(da)}rt(t){for(const e of t.k)t.$&&t.$.isFoundDocument()?this.ot(e,t.$):this.at(e,t.key,t.$);for(const e of t.removedTargetIds)this.at(e,t.key,t.$)}ct(t){this.forEachTarget(t,e=>{const n=this.ut(e);switch(t.state){case 0:this.ht(e)&&n.j(t.resumeToken);break;case 1:n.X(),n.q||n.G(),n.j(t.resumeToken);break;case 2:n.X(),n.q||this.removeTarget(e);break;case 3:this.ht(e)&&(n.Z(),n.j(t.resumeToken));break;case 4:this.ht(e)&&(this.lt(e),n.j(t.resumeToken));break;default:Yo()}})}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.et.forEach((t,n)=>{this.ht(n)&&e(n)})}ft(t){const e=t.targetId,n=t.O.count,r=this.dt(e);if(r){const t=r.target;if(iu(t))if(0===n){const n=new Fa(t.path);this.at(e,n,Xa.newNoDocument(n,ma.min()))}else Jo(1===n);else this.wt(e)!==n&&(this.lt(e),this.it=this.it.add(e))}}_t(t){const e=new Map;this.et.forEach((n,r)=>{const i=this.dt(r);if(i){if(n.current&&iu(i.target)){const e=new Fa(i.target.path);null!==this.nt.get(e)||this.gt(r,e)||this.at(r,e,Xa.newNoDocument(e,t))}n.K&&(e.set(r,n.W()),n.G())}});let n=Dc();this.st.forEach((t,e)=>{let r=!0;e.forEachWhile(t=>{const e=this.dt(t);return!e||2===e.purpose||(r=!1,!1)}),r&&(n=n.add(t))});const r=new Lc(t,e,this.it,this.nt,n);return this.nt=Ac(),this.st=jc(),this.it=new Ec(da),r}ot(t,e){if(!this.ht(t))return;const n=this.gt(t,e.key)?2:0;this.ut(t).H(e.key,n),this.nt=this.nt.insert(e.key,e),this.st=this.st.insert(e.key,this.yt(e.key).add(t))}at(t,e,n){if(!this.ht(t))return;const r=this.ut(t);this.gt(t,e)?r.H(e,1):r.J(e),this.st=this.st.insert(e,this.yt(e).delete(t)),n&&(this.nt=this.nt.insert(e,n))}removeTarget(t){this.et.delete(t)}wt(t){const e=this.ut(t).W();return this.tt.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Y(t){this.ut(t).Y()}ut(t){let e=this.et.get(t);return e||(e=new qc,this.et.set(t,e)),e}yt(t){let e=this.st.get(t);return e||(e=new Ec(da),this.st=this.st.insert(t,e)),e}ht(t){const e=null!==this.dt(t);return e||Go("WatchChangeAggregator","Detected inactive target",t),e}dt(t){const e=this.et.get(t);return e&&e.q?null:this.tt.Tt(t)}lt(t){this.et.set(t,new qc),this.tt.getRemoteKeysForTarget(t).forEach(e=>{this.at(t,e,null)})}gt(t,e){return this.tt.getRemoteKeysForTarget(t).has(e)}}function jc(){return new bc(Fa.comparator)}function Bc(){return new bc(Fa.comparator)}const $c={asc:"ASCENDING",desc:"DESCENDING"},zc={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Hc{constructor(t,e){this.databaseId=t,this.D=e}}function Gc(t,e){return t.D?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Kc(t,e){return t.D?e.toBase64():e.toUint8Array()}function Wc(t,e){return Gc(t,e.toTimestamp())}function Qc(t){return Jo(!!t),ma.fromTimestamp(function(t){const e=Ca(t);return new ga(e.seconds,e.nanos)}(t))}function Yc(t,e){return(n=t,new wa(["projects",n.projectId,"databases",n.database])).child("documents").child(e).canonicalString();var n}function Jc(t){const e=wa.fromString(t);return Jo(Tl(e)),e}function Xc(t,e){return Yc(t.databaseId,e.path)}function tl(t,e){const n=Jc(e);if(n.get(1)!==t.databaseId.projectId)throw new ea(ta.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new ea(ta.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Fa(il(n))}function el(t,e){return Yc(t.databaseId,e)}function nl(t){const e=Jc(t);return 4===e.length?wa.emptyPath():il(e)}function rl(t){return new wa(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function il(t){return Jo(t.length>4&&"documents"===t.get(4)),t.popFirst(5)}function sl(t,e,n){return{name:Xc(t,e),fields:n.value.mapValue.fields}}function ol(t,e,n){const r=tl(t,e.name),i=Qc(e.updateTime),s=new Ya({mapValue:{fields:e.fields}}),o=Xa.newFoundDocument(r,i,s);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function al(t,e){let n;if(e instanceof uc)n={update:sl(t,e.key,e.value)};else if(e instanceof fc)n={delete:Xc(t,e.key)};else if(e instanceof cc)n={update:sl(t,e.key,e.data),updateMask:wl(e.fieldMask)};else{if(!(e instanceof pc))return Yo();n={verify:Xc(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(t=>function(t,e){const n=e.transform;if(n instanceof $u)return{fieldPath:e.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof zu)return{fieldPath:e.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Gu)return{fieldPath:e.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Wu)return{fieldPath:e.field.canonicalString(),increment:n.C};throw Yo()}(0,t))),e.precondition.isNone||(n.currentDocument=void 0!==(r=e.precondition).updateTime?{updateTime:Wc(t,r.updateTime)}:void 0!==r.exists?{exists:r.exists}:Yo()),n;var r}function ul(t,e){const n=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?tc.updateTime(Qc(i.updateTime)):void 0!==i.exists?tc.exists(i.exists):tc.none():tc.none(),r=e.updateTransforms?e.updateTransforms.map(e=>function(t,e){let n=null;"setToServerValue"in e?(Jo("REQUEST_TIME"===e.setToServerValue),n=new $u):"appendMissingElements"in e?n=new zu(e.appendMissingElements.values||[]):"removeAllFromArray"in e?n=new Gu(e.removeAllFromArray.values||[]):"increment"in e?n=new Wu(t,e.increment):Yo();const r=Ea.fromServerFormat(e.fieldPath);return new Ju(r,n)}(t,e)):[];var i;if(e.update){const i=tl(t,e.update.name),s=new Ya({mapValue:{fields:e.update.fields}});if(e.updateMask){const t=new Sa((e.updateMask.fieldPaths||[]).map(t=>Ea.fromServerFormat(t)));return new cc(i,s,t,n,r)}return new uc(i,s,n,r)}if(e.delete){const r=tl(t,e.delete);return new fc(r,n)}if(e.verify){const r=tl(t,e.verify);return new pc(r,n)}return Yo()}function cl(t,e){return{documents:[el(t,e.path)]}}function ll(t,e){const n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=el(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=el(t,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(t){if(0===t.length)return;const e=t.map(t=>function(t){if("=="===t.op){if(Ka(t.value))return{unaryFilter:{field:yl(t.field),op:"IS_NAN"}};if(Ga(t.value))return{unaryFilter:{field:yl(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(Ka(t.value))return{unaryFilter:{field:yl(t.field),op:"IS_NOT_NAN"}};if(Ga(t.value))return{unaryFilter:{field:yl(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yl(t.field),op:ml(t.op),value:t.value}}}(t));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}(e.filters);i&&(n.structuredQuery.where=i);const s=function(t){if(0!==t.length)return t.map(t=>{return{field:yl((e=t).field),direction:gl(e.dir)};var e})}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const o=(a=e.limit,t.D||Ra(a)?a:{value:a});var a;return null!==o&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=fl(e.startAt)),e.endAt&&(n.structuredQuery.endAt=fl(e.endAt)),n}function hl(t){let e=nl(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Jo(1===r);const t=n.from[0];t.allDescendants?i=t.collectionId:e=e.child(t.collectionId)}let s=[];n.where&&(s=dl(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(t=>{return new mu(vl((e=t).field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction));var e}));let a=null;n.limit&&(a=function(t){let e;return e="object"==typeof t?t.value:t,Ra(e)?null:e}(n.limit));let u=null;n.startAt&&(u=pl(n.startAt));let c=null;return n.endAt&&(c=pl(n.endAt)),wu(e,i,o,s,a,"F",u,c)}function dl(t){return t?void 0!==t.unaryFilter?[bl(t)]:void 0!==t.fieldFilter?[_l(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(t=>dl(t)).reduce((t,e)=>t.concat(e)):Yo():[]}function fl(t){return{before:t.before,values:t.position}}function pl(t){return new pu(t.values||[],!!t.before)}function gl(t){return $c[t]}function ml(t){return zc[t]}function yl(t){return{fieldPath:t.canonicalString()}}function vl(t){return Ea.fromServerFormat(t.fieldPath)}function _l(t){return su.create(vl(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Yo()}}(t.fieldFilter.op),t.fieldFilter.value)}function bl(t){switch(t.unaryFilter.op){case"IS_NAN":const e=vl(t.unaryFilter.field);return su.create(e,"==",{doubleValue:NaN});case"IS_NULL":const n=vl(t.unaryFilter.field);return su.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=vl(t.unaryFilter.field);return su.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=vl(t.unaryFilter.field);return su.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Yo()}}function wl(t){const e=[];return t.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Tl(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}function El(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Il(e)),e=Sl(t.get(n),e);return Il(e)}function Sl(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const e=t.charAt(i);switch(e){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=e}}return n}function Il(t){return t+"\x01\x01"}function Al(t){const e=t.length;if(Jo(e>=2),2===e)return Jo("\x01"===t.charAt(0)&&"\x01"===t.charAt(1)),wa.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const e=t.indexOf("\x01",s);switch((e<0||e>n)&&Yo(),t.charAt(e+1)){case"\x01":const n=t.substring(s,e);let o;0===i.length?o=n:(i+=n,o=i,i=""),r.push(o);break;case"\x10":i+=t.substring(s,e),i+="\0";break;case"\x11":i+=t.substring(s,e+1);break;default:Yo()}s=e+2}return new wa(r)}class Cl{constructor(t,e){this.seconds=t,this.nanoseconds=e}}class kl{constructor(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n}}kl.store="owner",kl.key="owner";class xl{constructor(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n}}xl.store="mutationQueues",xl.keyPath="userId";class Ol{constructor(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i}}Ol.store="mutations",Ol.keyPath="batchId",Ol.userMutationsIndex="userMutationsIndex",Ol.userMutationsKeyPath=["userId","batchId"];class Nl{constructor(){}static prefixForUser(t){return[t]}static prefixForPath(t,e){return[t,El(e)]}static key(t,e,n){return[t,El(e),n]}}Nl.store="documentMutations",Nl.PLACEHOLDER=new Nl;class Dl{constructor(t,e){this.path=t,this.readTime=e}}class Rl{constructor(t,e){this.path=t,this.version=e}}class Pl{constructor(t,e,n,r,i,s){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=s}}Pl.store="remoteDocuments",Pl.readTimeIndex="readTimeIndex",Pl.readTimeIndexPath="readTime",Pl.collectionReadTimeIndex="collectionReadTimeIndex",Pl.collectionReadTimeIndexPath=["parentPath","readTime"];class Ll{constructor(t){this.byteSize=t}}Ll.store="remoteDocumentGlobal",Ll.key="remoteDocumentGlobalKey";class Fl{constructor(t,e,n,r,i,s,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=s,this.query=o}}Fl.store="targets",Fl.keyPath="targetId",Fl.queryTargetsIndexName="queryTargetsIndex",Fl.queryTargetsKeyPath=["canonicalId","targetId"];class Zl{constructor(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n}}Zl.store="targetDocuments",Zl.keyPath=["targetId","path"],Zl.documentTargetsIndex="documentTargetsIndex",Zl.documentTargetsKeyPath=["path","targetId"];class Ml{constructor(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r}}Ml.key="targetGlobalKey",Ml.store="targetGlobal";class Ul{constructor(t,e){this.collectionId=t,this.parent=e}}Ul.store="collectionParents",Ul.keyPath=["collectionId","parent"];class ql{constructor(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r}}ql.store="clientMetadata",ql.keyPath="clientId";class Vl{constructor(t,e,n){this.bundleId=t,this.createTime=e,this.version=n}}Vl.store="bundles",Vl.keyPath="bundleId";class jl{constructor(t,e,n){this.name=t,this.readTime=e,this.bundledQuery=n}}jl.store="namedQueries",jl.keyPath="name";const Bl=[xl.store,Ol.store,Nl.store,Pl.store,Fl.store,kl.store,Ml.store,Zl.store,ql.store,Ll.store,Ul.store,Vl.store,jl.store],$l="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zl{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}class Hl{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Yo(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new Hl((n,r)=>{this.nextCallback=e=>{this.wrapSuccess(t,e).next(n,r)},this.catchCallback=t=>{this.wrapFailure(e,t).next(n,r)}})}toPromise(){return new Promise((t,e)=>{this.next(t,e)})}wrapUserFunction(t){try{const e=t();return e instanceof Hl?e:Hl.resolve(e)}catch(e){return Hl.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction(()=>t(e)):Hl.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction(()=>t(e)):Hl.reject(e)}static resolve(t){return new Hl((e,n)=>{e(t)})}static reject(t){return new Hl((e,n)=>{n(t)})}static waitFor(t){return new Hl((e,n)=>{let r=0,i=0,s=!1;t.forEach(t=>{++r,t.next(()=>{++i,s&&i===r&&e()},t=>n(t))}),s=!0,i===r&&e()})}static or(t){let e=Hl.resolve(!1);for(const n of t)e=e.next(t=>t?Hl.resolve(t):n());return e}static forEach(t,e){const n=[];return t.forEach((t,r)=>{n.push(e.call(this,t,r))}),this.waitFor(n)}}class Gl{constructor(t,e){this.action=t,this.transaction=e,this.aborted=!1,this.Et=new na,this.transaction.oncomplete=()=>{this.Et.resolve()},this.transaction.onabort=()=>{e.error?this.Et.reject(new Ql(t,e.error)):this.Et.resolve()},this.transaction.onerror=e=>{const n=eh(e.target.error);this.Et.reject(new Ql(t,n))}}static open(t,e,n,r){try{return new Gl(e,t.transaction(r,n))}catch(i){throw new Ql(e,i)}}get It(){return this.Et.promise}abort(t){t&&this.Et.reject(t),this.aborted||(Go("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}store(t){const e=this.transaction.objectStore(t);return new Jl(e)}}class Kl{constructor(t,e,n){this.name=t,this.version=e,this.At=n,12.2===Kl.Rt((0,Rn.z$)())&&Ko("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(t){return Go("SimpleDb","Removing database:",t),Xl(window.indexedDB.deleteDatabase(t)).toPromise()}static bt(){if(!(0,Rn.hl)())return!1;if(Kl.Pt())return!0;const t=(0,Rn.z$)(),e=Kl.Rt(t),n=0<e&&e<10,r=Kl.vt(t),i=0<r&&r<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||n||i)}static Pt(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.Vt)}static St(t,e){return t.store(e)}static Rt(t){const e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static vt(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}Dt(t){var e=this;return(0,xn.Z)(function*(){return e.db||(Go("SimpleDb","Opening database:",e.name),e.db=yield new Promise((n,r)=>{const i=indexedDB.open(e.name,e.version);i.onsuccess=t=>{n(t.target.result)},i.onblocked=()=>{r(new Ql(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=e=>{const n=e.target.error;r("VersionError"===n.name?new ea(ta.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===n.name?new ea(ta.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n):new Ql(t,n))},i.onupgradeneeded=t=>{Go("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',t.oldVersion),e.At.Ct(t.target.result,i.transaction,t.oldVersion,e.version).next(()=>{Go("SimpleDb","Database upgrade to version "+e.version+" complete")})}})),e.Nt&&(e.db.onversionchange=t=>e.Nt(t)),e.db})()}xt(t){this.Nt=t,this.db&&(this.db.onversionchange=e=>t(e))}runTransaction(t,e,n,r){var i=this;return(0,xn.Z)(function*(){const s="readonly"===e;let o=0;for(;;){++o;try{i.db=yield i.Dt(t);const e=Gl.open(i.db,t,s?"readonly":"readwrite",n),o=r(e).catch(t=>(e.abort(t),Hl.reject(t))).toPromise();return o.catch(()=>{}),yield e.It,o}catch(a){const t="FirebaseError"!==a.name&&o<3;if(Go("SimpleDb","Transaction failed with error:",a.message,"Retrying:",t),i.close(),!t)return Promise.reject(a)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Wl{constructor(t){this.kt=t,this.$t=!1,this.Ot=null}get isDone(){return this.$t}get Ft(){return this.Ot}set cursor(t){this.kt=t}done(){this.$t=!0}Mt(t){this.Ot=t}delete(){return Xl(this.kt.delete())}}class Ql extends ea{constructor(t,e){super(ta.UNAVAILABLE,`IndexedDB transaction '${t}' failed: ${e}`),this.name="IndexedDbTransactionError"}}function Yl(t){return"IndexedDbTransactionError"===t.name}class Jl{constructor(t){this.store=t}put(t,e){let n;return void 0!==e?(Go("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Go("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),Xl(n)}add(t){return Go("SimpleDb","ADD",this.store.name,t,t),Xl(this.store.add(t))}get(t){return Xl(this.store.get(t)).next(e=>(void 0===e&&(e=null),Go("SimpleDb","GET",this.store.name,t,e),e))}delete(t){return Go("SimpleDb","DELETE",this.store.name,t),Xl(this.store.delete(t))}count(){return Go("SimpleDb","COUNT",this.store.name),Xl(this.store.count())}Lt(t,e){const n=this.cursor(this.options(t,e)),r=[];return this.Bt(n,(t,e)=>{r.push(e)}).next(()=>r)}Ut(t,e){Go("SimpleDb","DELETE ALL",this.store.name);const n=this.options(t,e);n.qt=!1;const r=this.cursor(n);return this.Bt(r,(t,e,n)=>n.delete())}Kt(t,e){let n;e?n=t:(n={},e=t);const r=this.cursor(n);return this.Bt(r,e)}jt(t){const e=this.cursor({});return new Hl((n,r)=>{e.onerror=t=>{const e=eh(t.target.error);r(e)},e.onsuccess=e=>{const r=e.target.result;r?t(r.primaryKey,r.value).next(t=>{t?r.continue():n()}):n()}})}Bt(t,e){const n=[];return new Hl((r,i)=>{t.onerror=t=>{i(t.target.error)},t.onsuccess=t=>{const i=t.target.result;if(!i)return void r();const s=new Wl(i),o=e(i.primaryKey,i.value,s);if(o instanceof Hl){const t=o.catch(t=>(s.done(),Hl.reject(t)));n.push(t)}s.isDone?r():null===s.Ft?i.continue():i.continue(s.Ft)}}).next(()=>Hl.waitFor(n))}options(t,e){let n;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}}cursor(t){let e="next";if(t.reverse&&(e="prev"),t.index){const n=this.store.index(t.index);return t.qt?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)}}function Xl(t){return new Hl((e,n)=>{t.onsuccess=t=>{e(t.target.result)},t.onerror=t=>{const e=eh(t.target.error);n(e)}})}let th=!1;function eh(t){const e=Kl.Rt((0,Rn.z$)());if(e>=12.2&&e<13){const e="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(e)>=0){const t=new ea("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${e}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return th||(th=!0,setTimeout(()=>{throw t},0)),t}}return t}class nh extends zl{constructor(t,e){super(),this.Qt=t,this.currentSequenceNumber=e}}function rh(t,e){const n=Xo(t);return Kl.St(n.Qt,e)}class ih{constructor(t,e,n,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(t,e){const n=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const e=this.mutations[r];e.key.isEqual(t.key)&&rc(e,t,n[r])}}applyToLocalView(t){for(const e of this.baseMutations)e.key.isEqual(t.key)&&ic(e,t,this.localWriteTime);for(const e of this.mutations)e.key.isEqual(t.key)&&ic(e,t,this.localWriteTime)}applyToLocalDocumentSet(t){this.mutations.forEach(e=>{const n=t.get(e.key),r=n;this.applyToLocalView(r),n.isValidDocument()||r.convertToNoDocument(ma.min())})}keys(){return this.mutations.reduce((t,e)=>t.add(e.key),Dc())}isEqual(t){return this.batchId===t.batchId&&fa(this.mutations,t.mutations,(t,e)=>oc(t,e))&&fa(this.baseMutations,t.baseMutations,(t,e)=>oc(t,e))}}class sh{constructor(t,e,n,r){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.docVersions=r}static from(t,e,n){Jo(t.mutations.length===n.length);let r=Oc();const i=t.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new sh(t,e,n,r)}}class oh{constructor(t,e,n,r,i=ma.min(),s=ma.min(),o=Ia.EMPTY_BYTE_STRING){this.target=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o}withSequenceNumber(t){return new oh(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(t,e){return new oh(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t)}withLastLimboFreeSnapshotVersion(t){return new oh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}class ah{constructor(t){this.Wt=t}}function uh(t,e){if(e.document)return ol(t.Wt,e.document,!!e.hasCommittedMutations);if(e.noDocument){const t=Fa.fromSegments(e.noDocument.path),n=fh(e.noDocument.readTime),r=Xa.newNoDocument(t,n);return e.hasCommittedMutations?r.setHasCommittedMutations():r}if(e.unknownDocument){const t=Fa.fromSegments(e.unknownDocument.path),n=fh(e.unknownDocument.version);return Xa.newUnknownDocument(t,n)}return Yo()}function ch(t,e,n){const r=lh(n),i=e.key.path.popLast().toArray();if(e.isFoundDocument()){const n={name:Xc(s=t.Wt,(o=e).key),fields:o.data.value.mapValue.fields,updateTime:Gc(s,o.version.toTimestamp())};return new Pl(null,null,n,e.hasCommittedMutations,r,i)}var s,o;if(e.isNoDocument()){const t=e.key.path.toArray(),n=dh(e.version),s=e.hasCommittedMutations;return new Pl(null,new Dl(t,n),null,s,r,i)}if(e.isUnknownDocument()){const t=e.key.path.toArray(),n=dh(e.version);return new Pl(new Rl(t,n),null,null,!0,r,i)}return Yo()}function lh(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function hh(t){const e=new ga(t[0],t[1]);return ma.fromTimestamp(e)}function dh(t){const e=t.toTimestamp();return new Cl(e.seconds,e.nanoseconds)}function fh(t){const e=new ga(t.seconds,t.nanoseconds);return ma.fromTimestamp(e)}function ph(t,e){const n=(e.baseMutations||[]).map(e=>ul(t.Wt,e));for(let s=0;s<e.mutations.length-1;++s){const t=e.mutations[s];s+1<e.mutations.length&&void 0!==e.mutations[s+1].transform&&(t.updateTransforms=e.mutations[s+1].transform.fieldTransforms,e.mutations.splice(s+1,1),++s)}const r=e.mutations.map(e=>ul(t.Wt,e)),i=ga.fromMillis(e.localWriteTimeMs);return new ih(e.batchId,i,n,r)}function gh(t){const e=fh(t.readTime),n=void 0!==t.lastLimboFreeSnapshotVersion?fh(t.lastLimboFreeSnapshotVersion):ma.min();let r;var i;return void 0!==t.query.documents?(Jo(1===(i=t.query).documents.length),r=xu(Tu(nl(i.documents[0])))):r=xu(hl(t.query)),new oh(r,t.targetId,0,t.lastListenSequenceNumber,e,n,Ia.fromBase64String(t.resumeToken))}function mh(t,e){const n=dh(e.snapshotVersion),r=dh(e.lastLimboFreeSnapshotVersion);let i;i=iu(e.target)?cl(t.Wt,e.target):ll(t.Wt,e.target);const s=e.resumeToken.toBase64();return new Fl(e.targetId,nu(e.target),n,s,e.sequenceNumber,r,i)}function yh(t){const e=hl({parent:t.parent,structuredQuery:t.structuredQuery});return"LAST"===t.limitType?Ou(e,e.limit,"L"):e}class vh{getBundleMetadata(t,e){return _h(t).get(e).next(t=>{if(t)return{id:(e=t).bundleId,createTime:fh(e.createTime),version:e.version};var e})}saveBundleMetadata(t,e){return _h(t).put({bundleId:(n=e).id,createTime:dh(Qc(n.createTime)),version:n.version});var n}getNamedQuery(t,e){return bh(t).get(e).next(t=>{if(t)return{name:(e=t).name,query:yh(e.bundledQuery),readTime:fh(e.readTime)};var e})}saveNamedQuery(t,e){return bh(t).put({name:(n=e).name,readTime:dh(Qc(n.readTime)),bundledQuery:n.bundledQuery});var n}}function _h(t){return rh(t,Vl.store)}function bh(t){return rh(t,jl.store)}class wh{constructor(){this.Gt=new Th}addToCollectionParentIndex(t,e){return this.Gt.add(e),Hl.resolve()}getCollectionParents(t,e){return Hl.resolve(this.Gt.getEntries(e))}}class Th{constructor(){this.index={}}add(t){const e=t.lastSegment(),n=t.popLast(),r=this.index[e]||new Ec(wa.comparator),i=!r.has(n);return this.index[e]=r.add(n),i}has(t){const e=t.lastSegment(),n=t.popLast(),r=this.index[e];return r&&r.has(n)}getEntries(t){return(this.index[t]||new Ec(wa.comparator)).toArray()}}class Eh{constructor(){this.zt=new Th}addToCollectionParentIndex(t,e){if(!this.zt.has(e)){const n=e.lastSegment(),r=e.popLast();t.addOnCommittedListener(()=>{this.zt.add(e)});const i={collectionId:n,parent:El(r)};return Sh(t).put(i)}return Hl.resolve()}getCollectionParents(t,e){const n=[],r=IDBKeyRange.bound([e,""],[pa(e),""],!1,!0);return Sh(t).Lt(r).next(t=>{for(const r of t){if(r.collectionId!==e)break;n.push(Al(r.parent))}return n})}}function Sh(t){return rh(t,Ul.store)}const Ih={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Ah{constructor(t,e,n){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=n}static withCacheSize(t){return new Ah(t,Ah.DEFAULT_COLLECTION_PERCENTILE,Ah.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Ch(t,e,n){const r=t.store(Ol.store),i=t.store(Nl.store),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const u=r.Kt({range:o},(t,e,n)=>(a++,n.delete()));s.push(u.next(()=>{Jo(1===a)}));const c=[];for(const l of n.mutations){const t=Nl.key(e,l.key.path,n.batchId);s.push(i.delete(t)),c.push(l.key)}return Hl.waitFor(s).next(()=>c)}function kh(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Yo();e=t.noDocument}return JSON.stringify(e).length}Ah.DEFAULT_COLLECTION_PERCENTILE=10,Ah.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ah.DEFAULT=new Ah(41943040,Ah.DEFAULT_COLLECTION_PERCENTILE,Ah.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ah.DISABLED=new Ah(-1,0,0);class xh{constructor(t,e,n,r){this.userId=t,this.N=e,this.Ht=n,this.referenceDelegate=r,this.Jt={}}static Yt(t,e,n,r){Jo(""!==t.uid);const i=t.isAuthenticated()?t.uid:"";return new xh(i,e,n,r)}checkEmpty(t){let e=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Nh(t).Kt({index:Ol.userMutationsIndex,range:n},(t,n,r)=>{e=!1,r.done()}).next(()=>e)}addMutationBatch(t,e,n,r){const i=Dh(t),s=Nh(t);return s.add({}).next(o=>{Jo("number"==typeof o);const a=new ih(o,e,n,r),u=function(t,e,n){const r=n.baseMutations.map(e=>al(t.Wt,e)),i=n.mutations.map(e=>al(t.Wt,e));return new Ol(e,n.batchId,n.localWriteTime.toMillis(),r,i)}(this.N,this.userId,a),c=[];let l=new Ec((t,e)=>da(t.canonicalString(),e.canonicalString()));for(const t of r){const e=Nl.key(this.userId,t.key.path,o);l=l.add(t.key.path.popLast()),c.push(s.put(u)),c.push(i.put(e,Nl.PLACEHOLDER))}return l.forEach(e=>{c.push(this.Ht.addToCollectionParentIndex(t,e))}),t.addOnCommittedListener(()=>{this.Jt[o]=a.keys()}),Hl.waitFor(c).next(()=>a)})}lookupMutationBatch(t,e){return Nh(t).get(e).next(t=>t?(Jo(t.userId===this.userId),ph(this.N,t)):null)}Xt(t,e){return this.Jt[e]?Hl.resolve(this.Jt[e]):this.lookupMutationBatch(t,e).next(t=>{if(t){const n=t.keys();return this.Jt[e]=n,n}return null})}getNextMutationBatchAfterBatchId(t,e){const n=e+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return Nh(t).Kt({index:Ol.userMutationsIndex,range:r},(t,e,r)=>{e.userId===this.userId&&(Jo(e.batchId>=n),i=ph(this.N,e)),r.done()}).next(()=>i)}getHighestUnacknowledgedBatchId(t){const e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return Nh(t).Kt({index:Ol.userMutationsIndex,range:e,reverse:!0},(t,e,r)=>{n=e.batchId,r.done()}).next(()=>n)}getAllMutationBatches(t){const e=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Nh(t).Lt(Ol.userMutationsIndex,e).next(t=>t.map(t=>ph(this.N,t)))}getAllMutationBatchesAffectingDocumentKey(t,e){const n=Nl.prefixForPath(this.userId,e.path),r=IDBKeyRange.lowerBound(n),i=[];return Dh(t).Kt({range:r},(n,r,s)=>{const[o,a,u]=n,c=Al(a);if(o===this.userId&&e.path.isEqual(c))return Nh(t).get(u).next(t=>{if(!t)throw Yo();Jo(t.userId===this.userId),i.push(ph(this.N,t))});s.done()}).next(()=>i)}getAllMutationBatchesAffectingDocumentKeys(t,e){let n=new Ec(da);const r=[];return e.forEach(e=>{const i=Nl.prefixForPath(this.userId,e.path),s=IDBKeyRange.lowerBound(i),o=Dh(t).Kt({range:s},(t,r,i)=>{const[s,o,a]=t,u=Al(o);s===this.userId&&e.path.isEqual(u)?n=n.add(a):i.done()});r.push(o)}),Hl.waitFor(r).next(()=>this.Zt(t,n))}getAllMutationBatchesAffectingQuery(t,e){const n=e.path,r=n.length+1,i=Nl.prefixForPath(this.userId,n),s=IDBKeyRange.lowerBound(i);let o=new Ec(da);return Dh(t).Kt({range:s},(t,e,i)=>{const[s,a,u]=t,c=Al(a);s===this.userId&&n.isPrefixOf(c)?c.length===r&&(o=o.add(u)):i.done()}).next(()=>this.Zt(t,o))}Zt(t,e){const n=[],r=[];return e.forEach(e=>{r.push(Nh(t).get(e).next(t=>{if(null===t)throw Yo();Jo(t.userId===this.userId),n.push(ph(this.N,t))}))}),Hl.waitFor(r).next(()=>n)}removeMutationBatch(t,e){return Ch(t.Qt,this.userId,e).next(n=>(t.addOnCommittedListener(()=>{this.te(e.batchId)}),Hl.forEach(n,e=>this.referenceDelegate.markPotentiallyOrphaned(t,e))))}te(t){delete this.Jt[t]}performConsistencyCheck(t){return this.checkEmpty(t).next(e=>{if(!e)return Hl.resolve();const n=IDBKeyRange.lowerBound(Nl.prefixForUser(this.userId)),r=[];return Dh(t).Kt({range:n},(t,e,n)=>{if(t[0]===this.userId){const e=Al(t[1]);r.push(e)}else n.done()}).next(()=>{Jo(0===r.length)})})}containsKey(t,e){return Oh(t,this.userId,e)}ee(t){return Rh(t).get(this.userId).next(t=>t||new xl(this.userId,-1,""))}}function Oh(t,e,n){const r=Nl.prefixForPath(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return Dh(t).Kt({range:s,qt:!0},(t,n,r)=>{const[s,a,u]=t;s===e&&a===i&&(o=!0),r.done()}).next(()=>o)}function Nh(t){return rh(t,Ol.store)}function Dh(t){return rh(t,Nl.store)}function Rh(t){return rh(t,xl.store)}class Ph{constructor(t){this.ne=t}next(){return this.ne+=2,this.ne}static se(){return new Ph(0)}static ie(){return new Ph(-1)}}class Lh{constructor(t,e){this.referenceDelegate=t,this.N=e}allocateTargetId(t){return this.re(t).next(e=>{const n=new Ph(e.highestTargetId);return e.highestTargetId=n.next(),this.oe(t,e).next(()=>e.highestTargetId)})}getLastRemoteSnapshotVersion(t){return this.re(t).next(t=>ma.fromTimestamp(new ga(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(t){return this.re(t).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(t,e,n){return this.re(t).next(r=>(r.highestListenSequenceNumber=e,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),e>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=e),this.oe(t,r)))}addTargetData(t,e){return this.ae(t,e).next(()=>this.re(t).next(n=>(n.targetCount+=1,this.ce(e,n),this.oe(t,n))))}updateTargetData(t,e){return this.ae(t,e)}removeTargetData(t,e){return this.removeMatchingKeysForTargetId(t,e.targetId).next(()=>Fh(t).delete(e.targetId)).next(()=>this.re(t)).next(e=>(Jo(e.targetCount>0),e.targetCount-=1,this.oe(t,e)))}removeTargets(t,e,n){let r=0;const i=[];return Fh(t).Kt((s,o)=>{const a=gh(o);a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(t,a)))}).next(()=>Hl.waitFor(i)).next(()=>r)}forEachTarget(t,e){return Fh(t).Kt((t,n)=>{const r=gh(n);e(r)})}re(t){return Zh(t).get(Ml.key).next(t=>(Jo(null!==t),t))}oe(t,e){return Zh(t).put(Ml.key,e)}ae(t,e){return Fh(t).put(mh(this.N,e))}ce(t,e){let n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n}getTargetCount(t){return this.re(t).next(t=>t.targetCount)}getTargetData(t,e){const n=nu(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return Fh(t).Kt({range:r,index:Fl.queryTargetsIndexName},(t,n,r)=>{const s=gh(n);ru(e,s.target)&&(i=s,r.done())}).next(()=>i)}addMatchingKeys(t,e,n){const r=[],i=Mh(t);return e.forEach(e=>{const s=El(e.path);r.push(i.put(new Zl(n,s))),r.push(this.referenceDelegate.addReference(t,n,e))}),Hl.waitFor(r)}removeMatchingKeys(t,e,n){const r=Mh(t);return Hl.forEach(e,e=>{const i=El(e.path);return Hl.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(t,n,e)])})}removeMatchingKeysForTargetId(t,e){const n=Mh(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(t,e){const n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Mh(t);let i=Dc();return r.Kt({range:n,qt:!0},(t,e,n)=>{const r=Al(t[1]),s=new Fa(r);i=i.add(s)}).next(()=>i)}containsKey(t,e){const n=El(e.path),r=IDBKeyRange.bound([n],[pa(n)],!1,!0);let i=0;return Mh(t).Kt({index:Zl.documentTargetsIndex,qt:!0,range:r},([t,e],n,r)=>{0!==t&&(i++,r.done())}).next(()=>i>0)}Tt(t,e){return Fh(t).get(e).next(t=>t?gh(t):null)}}function Fh(t){return rh(t,Fl.store)}function Zh(t){return rh(t,Ml.store)}function Mh(t){return rh(t,Zl.store)}function Uh(t){return qh.apply(this,arguments)}function qh(){return(qh=(0,xn.Z)(function*(t){if(t.code!==ta.FAILED_PRECONDITION||t.message!==$l)throw t;Go("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}function Vh([t,e],[n,r]){const i=da(t,n);return 0===i?da(e,r):i}class jh{constructor(t){this.ue=t,this.buffer=new Ec(Vh),this.he=0}le(){return++this.he}fe(t){const e=[t,this.le()];if(this.buffer.size<this.ue)this.buffer=this.buffer.add(e);else{const t=this.buffer.last();Vh(e,t)<0&&(this.buffer=this.buffer.delete(t).add(e))}}get maxValue(){return this.buffer.last()[0]}}class Bh{constructor(t,e){this.garbageCollector=t,this.asyncQueue=e,this.de=!1,this.we=null}start(t){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this._e(t)}stop(){this.we&&(this.we.cancel(),this.we=null)}get started(){return null!==this.we}_e(t){var e=this;const n=this.de?3e5:6e4;Go("LruGarbageCollector",`Garbage collection scheduled in ${n}ms`),this.we=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,(0,xn.Z)(function*(){e.we=null,e.de=!0;try{yield t.collectGarbage(e.garbageCollector)}catch(n){Yl(n)?Go("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):yield Uh(n)}yield e._e(t)}))}}class $h{constructor(t,e){this.me=t,this.params=e}calculateTargetCount(t,e){return this.me.ge(t).next(t=>Math.floor(e/100*t))}nthSequenceNumber(t,e){if(0===e)return Hl.resolve(ca.T);const n=new jh(e);return this.me.forEachTarget(t,t=>n.fe(t.sequenceNumber)).next(()=>this.me.ye(t,t=>n.fe(t))).next(()=>n.maxValue)}removeTargets(t,e,n){return this.me.removeTargets(t,e,n)}removeOrphanedDocuments(t,e){return this.me.removeOrphanedDocuments(t,e)}collect(t,e){return-1===this.params.cacheSizeCollectionThreshold?(Go("LruGarbageCollector","Garbage collection skipped; disabled"),Hl.resolve(Ih)):this.getCacheSize(t).next(n=>n<this.params.cacheSizeCollectionThreshold?(Go("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ih):this.pe(t,e))}getCacheSize(t){return this.me.getCacheSize(t)}pe(t,e){let n,r,i,s,o,a,u;const c=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(e=>(e>this.params.maximumSequenceNumbersToCollect?(Go("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${e}`),r=this.params.maximumSequenceNumbersToCollect):r=e,s=Date.now(),this.nthSequenceNumber(t,r))).next(r=>(n=r,o=Date.now(),this.removeTargets(t,n,e))).next(e=>(i=e,a=Date.now(),this.removeOrphanedDocuments(t,n))).next(t=>(u=Date.now(),Ho()<=Dn.in.DEBUG&&Go("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-c}ms\n\tDetermined least recently used ${r} in `+(o-s)+`ms\n\tRemoved ${i} targets in `+(a-o)+`ms\n\tRemoved ${t} documents in `+(u-a)+`ms\nTotal Duration: ${u-c}ms`),Hl.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:t})))}}class zh{constructor(t,e){this.db=t,this.garbageCollector=new $h(this,e)}ge(t){const e=this.Te(t);return this.db.getTargetCache().getTargetCount(t).next(t=>e.next(e=>t+e))}Te(t){let e=0;return this.ye(t,t=>{e++}).next(()=>e)}forEachTarget(t,e){return this.db.getTargetCache().forEachTarget(t,e)}ye(t,e){return this.Ee(t,(t,n)=>e(n))}addReference(t,e,n){return Hh(t,n)}removeReference(t,e,n){return Hh(t,n)}removeTargets(t,e,n){return this.db.getTargetCache().removeTargets(t,e,n)}markPotentiallyOrphaned(t,e){return Hh(t,e)}Ie(t,e){return function(t,e){let n=!1;return Rh(t).jt(r=>Oh(t,r,e).next(t=>(t&&(n=!0),Hl.resolve(!t)))).next(()=>n)}(t,e)}removeOrphanedDocuments(t,e){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Ee(t,(s,o)=>{if(o<=e){const e=this.Ie(t,s).next(e=>{if(!e)return i++,n.getEntry(t,s).next(()=>(n.removeEntry(s),Mh(t).delete([0,El(s.path)])))});r.push(e)}}).next(()=>Hl.waitFor(r)).next(()=>n.apply(t)).next(()=>i)}removeTarget(t,e){const n=e.withSequenceNumber(t.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(t,n)}updateLimboDocument(t,e){return Hh(t,e)}Ee(t,e){const n=Mh(t);let r,i=ca.T;return n.Kt({index:Zl.documentTargetsIndex},([t,n],{path:s,sequenceNumber:o})=>{0===t?(i!==ca.T&&e(new Fa(Al(r)),i),i=o,r=s):i=ca.T}).next(()=>{i!==ca.T&&e(new Fa(Al(r)),i)})}getCacheSize(t){return this.db.getRemoteDocumentCache().getSize(t)}}function Hh(t,e){return Mh(t).put((n=t.currentSequenceNumber,new Zl(0,El(e.path),n)));var n}class Gh{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={}}get(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,t))return i}has(t){return void 0!==this.get(t)}set(t,e){const n=this.mapKeyFn(t),r=this.inner[n];if(void 0!==r){for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],t))return void(r[n]=[t,e]);r.push([t,e])}else this.inner[n]=[[t,e]]}delete(t){const e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1}forEach(t){va(this.inner,(e,n)=>{for(const[r,i]of n)t(r,i)})}isEmpty(){return _a(this.inner)}}class Kh{constructor(){this.changes=new Gh(t=>t.toString(),(t,e)=>t.isEqual(e)),this.changesApplied=!1}getReadTime(t){const e=this.changes.get(t);return e?e.readTime:ma.min()}addEntry(t,e){this.assertNotApplied(),this.changes.set(t.key,{document:t,readTime:e})}removeEntry(t,e=null){this.assertNotApplied(),this.changes.set(t,{document:Xa.newInvalidDocument(t),readTime:e})}getEntry(t,e){this.assertNotApplied();const n=this.changes.get(e);return void 0!==n?Hl.resolve(n.document):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class Wh{constructor(t,e){this.N=t,this.Ht=e}addEntry(t,e,n){return Jh(t).put(Xh(e),n)}removeEntry(t,e){const n=Jh(t),r=Xh(e);return n.delete(r)}updateMetadata(t,e){return this.getMetadata(t).next(n=>(n.byteSize+=e,this.Ae(t,n)))}getEntry(t,e){return Jh(t).get(Xh(e)).next(t=>this.Re(e,t))}be(t,e){return Jh(t).get(Xh(e)).next(t=>({document:this.Re(e,t),size:kh(t)}))}getEntries(t,e){let n=Ac();return this.Pe(t,e,(t,e)=>{const r=this.Re(t,e);n=n.insert(t,r)}).next(()=>n)}ve(t,e){let n=Ac(),r=new bc(Fa.comparator);return this.Pe(t,e,(t,e)=>{const i=this.Re(t,e);n=n.insert(t,i),r=r.insert(t,kh(e))}).next(()=>({documents:n,Ve:r}))}Pe(t,e,n){if(e.isEmpty())return Hl.resolve();const r=IDBKeyRange.bound(e.first().path.toArray(),e.last().path.toArray()),i=e.getIterator();let s=i.getNext();return Jh(t).Kt({range:r},(t,e,r)=>{const o=Fa.fromSegments(t);for(;s&&Fa.comparator(s,o)<0;)n(s,null),s=i.getNext();s&&s.isEqual(o)&&(n(s,e),s=i.hasNext()?i.getNext():null),s?r.Mt(s.path.toArray()):r.done()}).next(()=>{for(;s;)n(s,null),s=i.hasNext()?i.getNext():null})}getDocumentsMatchingQuery(t,e,n){let r=Ac();const i=e.path.length+1,s={};if(n.isEqual(ma.min())){const t=e.path.toArray();s.range=IDBKeyRange.lowerBound(t)}else{const t=e.path.toArray(),r=lh(n);s.range=IDBKeyRange.lowerBound([t,r],!0),s.index=Pl.collectionReadTimeIndex}return Jh(t).Kt(s,(t,n,s)=>{if(t.length!==i)return;const o=uh(this.N,n);e.path.isPrefixOf(o.key.path)?Pu(e,o)&&(r=r.insert(o.key,o)):s.done()}).next(()=>r)}newChangeBuffer(t){return new Qh(this,!!t&&t.trackRemovals)}getSize(t){return this.getMetadata(t).next(t=>t.byteSize)}getMetadata(t){return Yh(t).get(Ll.key).next(t=>(Jo(!!t),t))}Ae(t,e){return Yh(t).put(Ll.key,e)}Re(t,e){if(e){const t=uh(this.N,e);if(!t.isNoDocument()||!t.version.isEqual(ma.min()))return t}return Xa.newInvalidDocument(t)}}class Qh extends Kh{constructor(t,e){super(),this.Se=t,this.trackRemovals=e,this.De=new Gh(t=>t.toString(),(t,e)=>t.isEqual(e))}applyChanges(t){const e=[];let n=0,r=new Ec((t,e)=>da(t.canonicalString(),e.canonicalString()));return this.changes.forEach((i,s)=>{const o=this.De.get(i);if(s.document.isValidDocument()){const a=ch(this.Se.N,s.document,this.getReadTime(i));r=r.add(i.path.popLast()),n+=kh(a)-o,e.push(this.Se.addEntry(t,i,a))}else if(n-=o,this.trackRemovals){const n=ch(this.Se.N,Xa.newNoDocument(i,ma.min()),this.getReadTime(i));e.push(this.Se.addEntry(t,i,n))}else e.push(this.Se.removeEntry(t,i))}),r.forEach(n=>{e.push(this.Se.Ht.addToCollectionParentIndex(t,n))}),e.push(this.Se.updateMetadata(t,n)),Hl.waitFor(e)}getFromCache(t,e){return this.Se.be(t,e).next(t=>(this.De.set(e,t.size),t.document))}getAllFromCache(t,e){return this.Se.ve(t,e).next(({documents:t,Ve:e})=>(e.forEach((t,e)=>{this.De.set(t,e)}),t))}}function Yh(t){return rh(t,Ll.store)}function Jh(t){return rh(t,Pl.store)}function Xh(t){return t.path.toArray()}class td{constructor(t){this.N=t}Ct(t,e,n,r){Jo(n<r&&n>=0&&r<=11);const i=new Gl("createOrUpgrade",e);var s;n<1&&r>=1&&(t.createObjectStore(kl.store),(s=t).createObjectStore(xl.store,{keyPath:xl.keyPath}),s.createObjectStore(Ol.store,{keyPath:Ol.keyPath,autoIncrement:!0}).createIndex(Ol.userMutationsIndex,Ol.userMutationsKeyPath,{unique:!0}),s.createObjectStore(Nl.store),ed(t),function(t){t.createObjectStore(Pl.store)}(t));let o=Hl.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(Zl.store),t.deleteObjectStore(Fl.store),t.deleteObjectStore(Ml.store)}(t),ed(t)),o=o.next(()=>function(t){const e=t.store(Ml.store),n=new Ml(0,0,ma.min().toTimestamp(),0);return e.put(Ml.key,n)}(i))),n<4&&r>=4&&(0!==n&&(o=o.next(()=>function(t,e){return e.store(Ol.store).Lt().next(n=>{t.deleteObjectStore(Ol.store),t.createObjectStore(Ol.store,{keyPath:Ol.keyPath,autoIncrement:!0}).createIndex(Ol.userMutationsIndex,Ol.userMutationsKeyPath,{unique:!0});const r=e.store(Ol.store),i=n.map(t=>r.put(t));return Hl.waitFor(i)})}(t,i))),o=o.next(()=>{!function(t){t.createObjectStore(ql.store,{keyPath:ql.keyPath})}(t)})),n<5&&r>=5&&(o=o.next(()=>this.Ce(i))),n<6&&r>=6&&(o=o.next(()=>(function(t){t.createObjectStore(Ll.store)}(t),this.Ne(i)))),n<7&&r>=7&&(o=o.next(()=>this.xe(i))),n<8&&r>=8&&(o=o.next(()=>this.ke(t,i))),n<9&&r>=9&&(o=o.next(()=>{(function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")})(t),function(t){const e=t.objectStore(Pl.store);e.createIndex(Pl.readTimeIndex,Pl.readTimeIndexPath,{unique:!1}),e.createIndex(Pl.collectionReadTimeIndex,Pl.collectionReadTimeIndexPath,{unique:!1})}(e)})),n<10&&r>=10&&(o=o.next(()=>this.$e(i))),n<11&&r>=11&&(o=o.next(()=>{(function(t){t.createObjectStore(Vl.store,{keyPath:Vl.keyPath})})(t),function(t){t.createObjectStore(jl.store,{keyPath:jl.keyPath})}(t)})),o}Ne(t){let e=0;return t.store(Pl.store).Kt((t,n)=>{e+=kh(n)}).next(()=>{const n=new Ll(e);return t.store(Ll.store).put(Ll.key,n)})}Ce(t){const e=t.store(xl.store),n=t.store(Ol.store);return e.Lt().next(e=>Hl.forEach(e,e=>{const r=IDBKeyRange.bound([e.userId,-1],[e.userId,e.lastAcknowledgedBatchId]);return n.Lt(Ol.userMutationsIndex,r).next(n=>Hl.forEach(n,n=>{Jo(n.userId===e.userId);const r=ph(this.N,n);return Ch(t,e.userId,r).next(()=>{})}))}))}xe(t){const e=t.store(Zl.store),n=t.store(Pl.store);return t.store(Ml.store).get(Ml.key).next(t=>{const r=[];return n.Kt((n,i)=>{const s=new wa(n),o=[0,El(s)];r.push(e.get(o).next(n=>n?Hl.resolve():e.put(new Zl(0,El(s),t.highestListenSequenceNumber))))}).next(()=>Hl.waitFor(r))})}ke(t,e){t.createObjectStore(Ul.store,{keyPath:Ul.keyPath});const n=e.store(Ul.store),r=new Th,i=t=>{if(r.add(t)){const e=t.lastSegment(),r=t.popLast();return n.put({collectionId:e,parent:El(r)})}};return e.store(Pl.store).Kt({qt:!0},(t,e)=>{const n=new wa(t);return i(n.popLast())}).next(()=>e.store(Nl.store).Kt({qt:!0},([t,e,n],r)=>{const s=Al(e);return i(s.popLast())}))}$e(t){const e=t.store(Fl.store);return e.Kt((t,n)=>{const r=gh(n),i=mh(this.N,r);return e.put(i)})}}function ed(t){t.createObjectStore(Zl.store,{keyPath:Zl.keyPath}).createIndex(Zl.documentTargetsIndex,Zl.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(Fl.store,{keyPath:Fl.keyPath}).createIndex(Fl.queryTargetsIndexName,Fl.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(Ml.store)}const nd="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class rd{constructor(t,e,n,r,i,s,o,a,u,c){if(this.allowTabSynchronization=t,this.persistenceKey=e,this.clientId=n,this.Oe=i,this.window=s,this.document=o,this.Fe=u,this.Me=c,this.Le=null,this.Be=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ue=null,this.inForeground=!1,this.qe=null,this.Ke=null,this.je=Number.NEGATIVE_INFINITY,this.Qe=t=>Promise.resolve(),!rd.bt())throw new ea(ta.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new zh(this,r),this.We=e+"main",this.N=new ah(a),this.Ge=new Kl(this.We,11,new td(this.N)),this.ze=new Lh(this.referenceDelegate,this.N),this.Ht=new Eh,this.He=new Wh(this.N,this.Ht),this.Je=new vh,this.window&&this.window.localStorage?this.Ye=this.window.localStorage:(this.Ye=null,!1===c&&Ko("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Xe().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new ea(ta.FAILED_PRECONDITION,nd);return this.Ze(),this.tn(),this.en(),this.runTransaction("getHighestListenSequenceNumber","readonly",t=>this.ze.getHighestSequenceNumber(t))}).then(t=>{this.Le=new ca(t,this.Fe)}).then(()=>{this.Be=!0}).catch(t=>(this.Ge&&this.Ge.close(),Promise.reject(t)))}nn(t){var e=this;return this.Qe=function(){var n=(0,xn.Z)(function*(n){if(e.started)return t(n)});return function(t){return n.apply(this,arguments)}}(),t(this.isPrimary)}setDatabaseDeletedListener(t){this.Ge.xt(function(){var e=(0,xn.Z)(function*(e){null===e.newVersion&&(yield t())});return function(t){return e.apply(this,arguments)}}())}setNetworkEnabled(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Oe.enqueueAndForget((0,xn.Z)(function*(){e.started&&(yield e.Xe())})))}Xe(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",t=>sd(t).put(new ql(this.clientId,Date.now(),this.networkEnabled,this.inForeground)).next(()=>{if(this.isPrimary)return this.sn(t).next(t=>{t||(this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)))})}).next(()=>this.rn(t)).next(e=>this.isPrimary&&!e?this.on(t).next(()=>!1):!!e&&this.an(t).next(()=>!0))).catch(t=>{if(Yl(t))return Go("IndexedDbPersistence","Failed to extend owner lease: ",t),this.isPrimary;if(!this.allowTabSynchronization)throw t;return Go("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1}).then(t=>{this.isPrimary!==t&&this.Oe.enqueueRetryable(()=>this.Qe(t)),this.isPrimary=t})}sn(t){return id(t).get(kl.key).next(t=>Hl.resolve(this.cn(t)))}un(t){return sd(t).delete(this.clientId)}hn(){var t=this;return(0,xn.Z)(function*(){if(t.isPrimary&&!t.ln(t.je,18e5)){t.je=Date.now();const e=yield t.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",e=>{const n=rh(e,ql.store);return n.Lt().next(e=>{const r=t.fn(e,18e5),i=e.filter(t=>-1===r.indexOf(t));return Hl.forEach(i,t=>n.delete(t.clientId)).next(()=>i)})}).catch(()=>[]);if(t.Ye)for(const n of e)t.Ye.removeItem(t.dn(n.clientId))}})()}en(){this.Ke=this.Oe.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Xe().then(()=>this.hn()).then(()=>this.en()))}cn(t){return!!t&&t.ownerId===this.clientId}rn(t){return this.Me?Hl.resolve(!0):id(t).get(kl.key).next(e=>{if(null!==e&&this.ln(e.leaseTimestampMs,5e3)&&!this.wn(e.ownerId)){if(this.cn(e)&&this.networkEnabled)return!0;if(!this.cn(e)){if(!e.allowTabSynchronization)throw new ea(ta.FAILED_PRECONDITION,nd);return!1}}return!(!this.networkEnabled||!this.inForeground)||sd(t).Lt().next(t=>void 0===this.fn(t,5e3).find(t=>{if(this.clientId!==t.clientId){const e=!this.inForeground&&t.inForeground,n=this.networkEnabled===t.networkEnabled;if(!this.networkEnabled&&t.networkEnabled||e&&n)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&Go("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var t=this;return(0,xn.Z)(function*(){t.Be=!1,t._n(),t.Ke&&(t.Ke.cancel(),t.Ke=null),t.mn(),t.gn(),yield t.Ge.runTransaction("shutdown","readwrite",[kl.store,ql.store],e=>{const n=new nh(e,ca.T);return t.on(n).next(()=>t.un(n))}),t.Ge.close(),t.yn()})()}fn(t,e){return t.filter(t=>this.ln(t.updateTimeMs,e)&&!this.wn(t.clientId))}pn(){return this.runTransaction("getActiveClients","readonly",t=>sd(t).Lt().next(t=>this.fn(t,18e5).map(t=>t.clientId)))}get started(){return this.Be}getMutationQueue(t){return xh.Yt(t,this.N,this.Ht,this.referenceDelegate)}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getIndexManager(){return this.Ht}getBundleCache(){return this.Je}runTransaction(t,e,n){let r;return Go("IndexedDbPersistence","Starting transaction:",t),this.Ge.runTransaction(t,"readonly"===e?"readonly":"readwrite",Bl,i=>(r=new nh(i,this.Le?this.Le.next():ca.T),"readwrite-primary"===e?this.sn(r).next(t=>!!t||this.rn(r)).next(e=>{if(!e)throw Ko(`Failed to obtain primary lease for action '${t}'.`),this.isPrimary=!1,this.Oe.enqueueRetryable(()=>this.Qe(!1)),new ea(ta.FAILED_PRECONDITION,$l);return n(r)}).next(t=>this.an(r).next(()=>t)):this.Tn(r).next(()=>n(r)))).then(t=>(r.raiseOnCommittedEvent(),t))}Tn(t){return id(t).get(kl.key).next(t=>{if(null!==t&&this.ln(t.leaseTimestampMs,5e3)&&!this.wn(t.ownerId)&&!this.cn(t)&&!(this.Me||this.allowTabSynchronization&&t.allowTabSynchronization))throw new ea(ta.FAILED_PRECONDITION,nd)})}an(t){const e=new kl(this.clientId,this.allowTabSynchronization,Date.now());return id(t).put(kl.key,e)}static bt(){return Kl.bt()}on(t){const e=id(t);return e.get(kl.key).next(t=>this.cn(t)?(Go("IndexedDbPersistence","Releasing primary lease."),e.delete(kl.key)):Hl.resolve())}ln(t,e){const n=Date.now();return!(t<n-e||t>n&&(Ko(`Detected an update time that is in the future: ${t} > ${n}`),1))}Ze(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.qe=()=>{this.Oe.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.Xe()))},this.document.addEventListener("visibilitychange",this.qe),this.inForeground="visible"===this.document.visibilityState)}mn(){this.qe&&(this.document.removeEventListener("visibilitychange",this.qe),this.qe=null)}tn(){var t;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.Ue=()=>{this._n(),(0,Rn.G6)()&&navigator.appVersion.match("Version/14")&&this.Oe.enterRestrictedMode(!0),this.Oe.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ue))}gn(){this.Ue&&(this.window.removeEventListener("pagehide",this.Ue),this.Ue=null)}wn(t){var e;try{const n=null!==(null===(e=this.Ye)||void 0===e?void 0:e.getItem(this.dn(t)));return Go("IndexedDbPersistence",`Client '${t}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(n){return Ko("IndexedDbPersistence","Failed to get zombied client id.",n),!1}}_n(){if(this.Ye)try{this.Ye.setItem(this.dn(this.clientId),String(Date.now()))}catch(t){Ko("Failed to set zombie client id.",t)}}yn(){if(this.Ye)try{this.Ye.removeItem(this.dn(this.clientId))}catch(t){}}dn(t){return`firestore_zombie_${this.persistenceKey}_${t}`}}function id(t){return rh(t,kl.store)}function sd(t){return rh(t,ql.store)}function od(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}class ad{constructor(t,e){this.progress=t,this.En=e}}class ud{constructor(t,e,n){this.He=t,this.In=e,this.Ht=n}An(t,e){return this.In.getAllMutationBatchesAffectingDocumentKey(t,e).next(n=>this.Rn(t,e,n))}Rn(t,e,n){return this.He.getEntry(t,e).next(t=>{for(const e of n)e.applyToLocalView(t);return t})}bn(t,e){t.forEach((t,n)=>{for(const r of e)r.applyToLocalView(n)})}Pn(t,e){return this.He.getEntries(t,e).next(e=>this.vn(t,e).next(()=>e))}vn(t,e){return this.In.getAllMutationBatchesAffectingDocumentKeys(t,e).next(t=>this.bn(e,t))}getDocumentsMatchingQuery(t,e,n){return Fa.isDocumentKey((r=e).path)&&null===r.collectionGroup&&0===r.filters.length?this.Vn(t,e.path):Cu(e)?this.Sn(t,e,n):this.Dn(t,e,n);var r}Vn(t,e){return this.An(t,new Fa(e)).next(t=>{let e=kc();return t.isFoundDocument()&&(e=e.insert(t.key,t)),e})}Sn(t,e,n){const r=e.collectionGroup;let i=kc();return this.Ht.getCollectionParents(t,r).next(s=>Hl.forEach(s,s=>{const o=(a=e,u=s.child(r),new bu(u,null,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt));var a,u;return this.Dn(t,o,n).next(t=>{t.forEach((t,e)=>{i=i.insert(t,e)})})}).next(()=>i))}Dn(t,e,n){let r,i;return this.He.getDocumentsMatchingQuery(t,e,n).next(n=>(r=n,this.In.getAllMutationBatchesAffectingQuery(t,e))).next(e=>(i=e,this.Cn(t,i,r).next(t=>{r=t;for(const e of i)for(const t of e.mutations){const n=t.key;let i=r.get(n);null==i&&(i=Xa.newInvalidDocument(n),r=r.insert(n,i)),ic(t,i,e.localWriteTime),i.isFoundDocument()||(r=r.remove(n))}}))).next(()=>(r.forEach((t,n)=>{Pu(e,n)||(r=r.remove(t))}),r))}Cn(t,e,n){let r=Dc();for(const s of e)for(const t of s.mutations)t instanceof cc&&null===n.get(t.key)&&(r=r.add(t.key));let i=n;return this.He.getEntries(t,r).next(t=>(t.forEach((t,e)=>{e.isFoundDocument()&&(i=i.insert(t,e))}),i))}}class cd{constructor(t,e,n,r){this.targetId=t,this.fromCache=e,this.Nn=n,this.xn=r}static kn(t,e){let n=Dc(),r=Dc();for(const i of e.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new cd(t,e.fromCache,n,r)}}class ld{$n(t){this.On=t}getDocumentsMatchingQuery(t,e,n,r){return 0===(i=e).filters.length&&null===i.limit&&null==i.startAt&&null==i.endAt&&(0===i.explicitOrderBy.length||1===i.explicitOrderBy.length&&i.explicitOrderBy[0].field.isKeyField())||n.isEqual(ma.min())?this.Fn(t,e):this.On.Pn(t,r).next(i=>{const s=this.Mn(e,i);return(Eu(e)||Su(e))&&this.Ln(e.limitType,s,r,n)?this.Fn(t,e):(Ho()<=Dn.in.DEBUG&&Go("QueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Ru(e)),this.On.getDocumentsMatchingQuery(t,e,n).next(t=>(s.forEach(e=>{t=t.insert(e.key,e)}),t)))});var i}Mn(t,e){let n=new Ec(Lu(t));return e.forEach((e,r)=>{Pu(t,r)&&(n=n.add(r))}),n}Ln(t,e,n,r){if(n.size!==e.size)return!0;const i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Fn(t,e){return Ho()<=Dn.in.DEBUG&&Go("QueryEngine","Using full collection scan to execute query:",Ru(e)),this.On.getDocumentsMatchingQuery(t,e,ma.min())}}class hd{constructor(t,e,n,r){this.persistence=t,this.Bn=e,this.N=r,this.Un=new bc(da),this.qn=new Gh(t=>nu(t),ru),this.Kn=ma.min(),this.In=t.getMutationQueue(n),this.jn=t.getRemoteDocumentCache(),this.ze=t.getTargetCache(),this.Qn=new ud(this.jn,this.In,this.persistence.getIndexManager()),this.Je=t.getBundleCache(),this.Bn.$n(this.Qn)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",e=>t.collect(e,this.Un))}}function dd(t,e,n,r){return new hd(t,e,n,r)}function fd(t,e){return pd.apply(this,arguments)}function pd(){return(pd=(0,xn.Z)(function*(t,e){const n=Xo(t);let r=n.In,i=n.Qn;const s=yield n.persistence.runTransaction("Handle user change","readonly",t=>{let s;return n.In.getAllMutationBatches(t).next(o=>(s=o,r=n.persistence.getMutationQueue(e),i=new ud(n.jn,r,n.persistence.getIndexManager()),r.getAllMutationBatches(t))).next(e=>{const n=[],r=[];let o=Dc();for(const t of s){n.push(t.batchId);for(const e of t.mutations)o=o.add(e.key)}for(const t of e){r.push(t.batchId);for(const e of t.mutations)o=o.add(e.key)}return i.Pn(t,o).next(t=>({Wn:t,removedBatchIds:n,addedBatchIds:r}))})});return n.In=r,n.Qn=i,n.Bn.$n(n.Qn),s})).apply(this,arguments)}function gd(t,e){const n=Xo(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",t=>{const r=e.batch.keys(),i=n.jn.newChangeBuffer({trackRemovals:!0});return function(t,e,n,r){const i=n.batch,s=i.keys();let o=Hl.resolve();return s.forEach(t=>{o=o.next(()=>r.getEntry(e,t)).next(e=>{const s=n.docVersions.get(t);Jo(null!==s),e.version.compareTo(s)<0&&(i.applyToRemoteDocument(e,n),e.isValidDocument()&&r.addEntry(e,n.commitVersion))})}),o.next(()=>t.In.removeMutationBatch(e,i))}(n,t,e,i).next(()=>i.apply(t)).next(()=>n.In.performConsistencyCheck(t)).next(()=>n.Qn.Pn(t,r))})}function md(t){const e=Xo(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ze.getLastRemoteSnapshotVersion(t))}function yd(t,e){const n=Xo(t),r=e.snapshotVersion;let i=n.Un;return n.persistence.runTransaction("Apply remote event","readwrite-primary",t=>{const s=n.jn.newChangeBuffer({trackRemovals:!0});i=n.Un;const o=[];e.targetChanges.forEach((e,s)=>{const a=i.get(s);if(!a)return;o.push(n.ze.removeMatchingKeys(t,e.removedDocuments,s).next(()=>n.ze.addMatchingKeys(t,e.addedDocuments,s)));const u=e.resumeToken;if(u.approximateByteSize()>0){const d=a.withResumeToken(u,r).withSequenceNumber(t.currentSequenceNumber);i=i.insert(s,d),c=a,h=e,Jo((l=d).resumeToken.approximateByteSize()>0),(0===c.resumeToken.approximateByteSize()||l.snapshotVersion.toMicroseconds()-c.snapshotVersion.toMicroseconds()>=3e8||h.addedDocuments.size+h.modifiedDocuments.size+h.removedDocuments.size>0)&&o.push(n.ze.updateTargetData(t,d))}var c,l,h});let a=Ac();if(e.documentUpdates.forEach((r,i)=>{e.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(t,r))}),o.push(vd(t,s,e.documentUpdates,r,void 0).next(t=>{a=t})),!r.isEqual(ma.min())){const e=n.ze.getLastRemoteSnapshotVersion(t).next(e=>n.ze.setTargetsMetadata(t,t.currentSequenceNumber,r));o.push(e)}return Hl.waitFor(o).next(()=>s.apply(t)).next(()=>n.Qn.vn(t,a)).next(()=>a)}).then(t=>(n.Un=i,t))}function vd(t,e,n,r,i){let s=Dc();return n.forEach(t=>s=s.add(t)),e.getEntries(t,s).next(t=>{let s=Ac();return n.forEach((n,o)=>{const a=t.get(n),u=(null==i?void 0:i.get(n))||r;o.isNoDocument()&&o.version.isEqual(ma.min())?(e.removeEntry(n,u),s=s.insert(n,o)):!a.isValidDocument()||o.version.compareTo(a.version)>0||0===o.version.compareTo(a.version)&&a.hasPendingWrites?(e.addEntry(o,u),s=s.insert(n,o)):Go("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",o.version)}),s})}function _d(t,e){const n=Xo(t);return n.persistence.runTransaction("Get next mutation batch","readonly",t=>(void 0===e&&(e=-1),n.In.getNextMutationBatchAfterBatchId(t,e)))}function bd(t,e){const n=Xo(t);return n.persistence.runTransaction("Allocate target","readwrite",t=>{let r;return n.ze.getTargetData(t,e).next(i=>i?(r=i,Hl.resolve(r)):n.ze.allocateTargetId(t).next(i=>(r=new oh(e,i,0,t.currentSequenceNumber),n.ze.addTargetData(t,r).next(()=>r))))}).then(t=>{const r=n.Un.get(t.targetId);return(null===r||t.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Un=n.Un.insert(t.targetId,t),n.qn.set(e,t.targetId)),t})}function wd(t,e,n){return Td.apply(this,arguments)}function Td(){return(Td=(0,xn.Z)(function*(t,e,n){const r=Xo(t),i=r.Un.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,t=>r.persistence.referenceDelegate.removeTarget(t,i)))}catch(o){if(!Yl(o))throw o;Go("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Un=r.Un.remove(e),r.qn.delete(i.target)})).apply(this,arguments)}function Ed(t,e,n){const r=Xo(t);let i=ma.min(),s=Dc();return r.persistence.runTransaction("Execute query","readonly",t=>function(t,e,n){const r=Xo(t),i=r.qn.get(n);return void 0!==i?Hl.resolve(r.Un.get(i)):r.ze.getTargetData(e,n)}(r,t,xu(e)).next(e=>{if(e)return i=e.lastLimboFreeSnapshotVersion,r.ze.getMatchingKeysForTargetId(t,e.targetId).next(t=>{s=t})}).next(()=>r.Bn.getDocumentsMatchingQuery(t,e,n?i:ma.min(),n?s:Dc())).next(t=>({documents:t,Gn:s})))}function Sd(t,e){const n=Xo(t),r=Xo(n.ze),i=n.Un.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",t=>r.Tt(t,e).next(t=>t?t.target:null))}function Id(t){const e=Xo(t);return e.persistence.runTransaction("Get new document changes","readonly",t=>function(t,e,n){const r=Xo(t);let i=Ac(),s=lh(n);const o=Jh(e),a=IDBKeyRange.lowerBound(s,!0);return o.Kt({index:Pl.readTimeIndex,range:a},(t,e)=>{const n=uh(r.N,e);i=i.insert(n.key,n),s=e.readTime}).next(()=>({En:i,readTime:hh(s)}))}(e.jn,t,e.Kn)).then(({En:t,readTime:n})=>(e.Kn=n,t))}function Ad(){return(Ad=(0,xn.Z)(function*(t){const e=Xo(t);return e.persistence.runTransaction("Synchronize last document change read time","readonly",t=>function(t){const e=Jh(t);let n=ma.min();return e.Kt({index:Pl.readTimeIndex,reverse:!0},(t,e,r)=>{e.readTime&&(n=hh(e.readTime)),r.done()}).next(()=>n)}(t)).then(t=>{e.Kn=t})})).apply(this,arguments)}function Cd(){return(Cd=(0,xn.Z)(function*(t,e,n,r){const i=Xo(t);let s=Dc(),o=Ac(),a=Oc();for(const h of n){const t=e.zn(h.metadata.name);h.document&&(s=s.add(t)),o=o.insert(t,e.Hn(h)),a=a.insert(t,e.Jn(h.metadata.readTime))}const u=i.jn.newChangeBuffer({trackRemovals:!0}),c=yield bd(i,(l=r,xu(Tu(wa.fromString(`__bundle__/docs/${l}`)))));var l;return i.persistence.runTransaction("Apply bundle documents","readwrite",t=>vd(t,u,o,ma.min(),a).next(e=>(u.apply(t),e)).next(e=>i.ze.removeMatchingKeysForTargetId(t,c.targetId).next(()=>i.ze.addMatchingKeys(t,s,c.targetId)).next(()=>i.Qn.vn(t,e)).next(()=>e)))})).apply(this,arguments)}function kd(t,e){return xd.apply(this,arguments)}function xd(){return(xd=(0,xn.Z)(function*(t,e,n=Dc()){const r=yield bd(t,xu(yh(e.bundledQuery))),i=Xo(t);return i.persistence.runTransaction("Save named query","readwrite",t=>{const s=Qc(e.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Je.saveNamedQuery(t,e);const o=r.withResumeToken(Ia.EMPTY_BYTE_STRING,s);return i.Un=i.Un.insert(o.targetId,o),i.ze.updateTargetData(t,o).next(()=>i.ze.removeMatchingKeysForTargetId(t,r.targetId)).next(()=>i.ze.addMatchingKeys(t,n,r.targetId)).next(()=>i.Je.saveNamedQuery(t,e))})})).apply(this,arguments)}class Od{constructor(t){this.N=t,this.Yn=new Map,this.Xn=new Map}getBundleMetadata(t,e){return Hl.resolve(this.Yn.get(e))}saveBundleMetadata(t,e){var n;return this.Yn.set(e.id,{id:(n=e).id,version:n.version,createTime:Qc(n.createTime)}),Hl.resolve()}getNamedQuery(t,e){return Hl.resolve(this.Xn.get(e))}saveNamedQuery(t,e){return this.Xn.set(e.name,{name:(n=e).name,query:yh(n.bundledQuery),readTime:Qc(n.readTime)}),Hl.resolve();var n}}class Nd{constructor(){this.Zn=new Ec(Dd.ts),this.es=new Ec(Dd.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(t,e){const n=new Dd(t,e);this.Zn=this.Zn.add(n),this.es=this.es.add(n)}ss(t,e){t.forEach(t=>this.addReference(t,e))}removeReference(t,e){this.rs(new Dd(t,e))}os(t,e){t.forEach(t=>this.removeReference(t,e))}cs(t){const e=new Fa(new wa([])),n=new Dd(e,t),r=new Dd(e,t+1),i=[];return this.es.forEachInRange([n,r],t=>{this.rs(t),i.push(t.key)}),i}us(){this.Zn.forEach(t=>this.rs(t))}rs(t){this.Zn=this.Zn.delete(t),this.es=this.es.delete(t)}hs(t){const e=new Fa(new wa([])),n=new Dd(e,t),r=new Dd(e,t+1);let i=Dc();return this.es.forEachInRange([n,r],t=>{i=i.add(t.key)}),i}containsKey(t){const e=new Dd(t,0),n=this.Zn.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)}}class Dd{constructor(t,e){this.key=t,this.ls=e}static ts(t,e){return Fa.comparator(t.key,e.key)||da(t.ls,e.ls)}static ns(t,e){return da(t.ls,e.ls)||Fa.comparator(t.key,e.key)}}class Rd{constructor(t,e){this.Ht=t,this.referenceDelegate=e,this.In=[],this.fs=1,this.ds=new Ec(Dd.ts)}checkEmpty(t){return Hl.resolve(0===this.In.length)}addMutationBatch(t,e,n,r){const i=this.fs;this.fs++;const s=new ih(i,e,n,r);this.In.push(s);for(const o of r)this.ds=this.ds.add(new Dd(o.key,i)),this.Ht.addToCollectionParentIndex(t,o.key.path.popLast());return Hl.resolve(s)}lookupMutationBatch(t,e){return Hl.resolve(this.ws(e))}getNextMutationBatchAfterBatchId(t,e){const n=this._s(e+1),r=n<0?0:n;return Hl.resolve(this.In.length>r?this.In[r]:null)}getHighestUnacknowledgedBatchId(){return Hl.resolve(0===this.In.length?-1:this.fs-1)}getAllMutationBatches(t){return Hl.resolve(this.In.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const n=new Dd(e,0),r=new Dd(e,Number.POSITIVE_INFINITY),i=[];return this.ds.forEachInRange([n,r],t=>{const e=this.ws(t.ls);i.push(e)}),Hl.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(t,e){let n=new Ec(da);return e.forEach(t=>{const e=new Dd(t,0),r=new Dd(t,Number.POSITIVE_INFINITY);this.ds.forEachInRange([e,r],t=>{n=n.add(t.ls)})}),Hl.resolve(this.gs(n))}getAllMutationBatchesAffectingQuery(t,e){const n=e.path,r=n.length+1;let i=n;Fa.isDocumentKey(i)||(i=i.child(""));const s=new Dd(new Fa(i),0);let o=new Ec(da);return this.ds.forEachWhile(t=>{const e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(o=o.add(t.ls)),!0)},s),Hl.resolve(this.gs(o))}gs(t){const e=[];return t.forEach(t=>{const n=this.ws(t);null!==n&&e.push(n)}),e}removeMutationBatch(t,e){Jo(0===this.ys(e.batchId,"removed")),this.In.shift();let n=this.ds;return Hl.forEach(e.mutations,r=>{const i=new Dd(r.key,e.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)}).next(()=>{this.ds=n})}te(t){}containsKey(t,e){const n=new Dd(e,0),r=this.ds.firstAfterOrEqual(n);return Hl.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return Hl.resolve()}ys(t,e){return this._s(t)}_s(t){return 0===this.In.length?0:t-this.In[0].batchId}ws(t){const e=this._s(t);return e<0||e>=this.In.length?null:this.In[e]}}class Pd{constructor(t,e){this.Ht=t,this.ps=e,this.docs=new bc(Fa.comparator),this.size=0}addEntry(t,e,n){const r=e.key,i=this.docs.get(r),s=i?i.size:0,o=this.ps(e);return this.docs=this.docs.insert(r,{document:e.clone(),size:o,readTime:n}),this.size+=o-s,this.Ht.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const n=this.docs.get(e);return Hl.resolve(n?n.document.clone():Xa.newInvalidDocument(e))}getEntries(t,e){let n=Ac();return e.forEach(t=>{const e=this.docs.get(t);n=n.insert(t,e?e.document.clone():Xa.newInvalidDocument(t))}),Hl.resolve(n)}getDocumentsMatchingQuery(t,e,n){let r=Ac();const i=new Fa(e.path.child("")),s=this.docs.getIteratorFrom(i);for(;s.hasNext();){const{key:t,value:{document:i,readTime:o}}=s.getNext();if(!e.path.isPrefixOf(t.path))break;o.compareTo(n)<=0||Pu(e,i)&&(r=r.insert(i.key,i.clone()))}return Hl.resolve(r)}Ts(t,e){return Hl.forEach(this.docs,t=>e(t))}newChangeBuffer(t){return new Ld(this)}getSize(t){return Hl.resolve(this.size)}}class Ld extends Kh{constructor(t){super(),this.Se=t}applyChanges(t){const e=[];return this.changes.forEach((n,r)=>{r.document.isValidDocument()?e.push(this.Se.addEntry(t,r.document,this.getReadTime(n))):this.Se.removeEntry(n)}),Hl.waitFor(e)}getFromCache(t,e){return this.Se.getEntry(t,e)}getAllFromCache(t,e){return this.Se.getEntries(t,e)}}class Fd{constructor(t){this.persistence=t,this.Es=new Gh(t=>nu(t),ru),this.lastRemoteSnapshotVersion=ma.min(),this.highestTargetId=0,this.Is=0,this.As=new Nd,this.targetCount=0,this.Rs=Ph.se()}forEachTarget(t,e){return this.Es.forEach((t,n)=>e(n)),Hl.resolve()}getLastRemoteSnapshotVersion(t){return Hl.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Hl.resolve(this.Is)}allocateTargetId(t){return this.highestTargetId=this.Rs.next(),Hl.resolve(this.highestTargetId)}setTargetsMetadata(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.Is&&(this.Is=e),Hl.resolve()}ae(t){this.Es.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.Rs=new Ph(e),this.highestTargetId=e),t.sequenceNumber>this.Is&&(this.Is=t.sequenceNumber)}addTargetData(t,e){return this.ae(e),this.targetCount+=1,Hl.resolve()}updateTargetData(t,e){return this.ae(e),Hl.resolve()}removeTargetData(t,e){return this.Es.delete(e.target),this.As.cs(e.targetId),this.targetCount-=1,Hl.resolve()}removeTargets(t,e,n){let r=0;const i=[];return this.Es.forEach((s,o)=>{o.sequenceNumber<=e&&null===n.get(o.targetId)&&(this.Es.delete(s),i.push(this.removeMatchingKeysForTargetId(t,o.targetId)),r++)}),Hl.waitFor(i).next(()=>r)}getTargetCount(t){return Hl.resolve(this.targetCount)}getTargetData(t,e){const n=this.Es.get(e)||null;return Hl.resolve(n)}addMatchingKeys(t,e,n){return this.As.ss(e,n),Hl.resolve()}removeMatchingKeys(t,e,n){this.As.os(e,n);const r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(e=>{i.push(r.markPotentiallyOrphaned(t,e))}),Hl.waitFor(i)}removeMatchingKeysForTargetId(t,e){return this.As.cs(e),Hl.resolve()}getMatchingKeysForTargetId(t,e){const n=this.As.hs(e);return Hl.resolve(n)}containsKey(t,e){return Hl.resolve(this.As.containsKey(e))}}class Zd{constructor(t,e){this.bs={},this.Le=new ca(0),this.Be=!1,this.Be=!0,this.referenceDelegate=t(this),this.ze=new Fd(this),this.Ht=new wh,this.He=new Pd(this.Ht,t=>this.referenceDelegate.Ps(t)),this.N=new ah(e),this.Je=new Od(this.N)}start(){return Promise.resolve()}shutdown(){return this.Be=!1,Promise.resolve()}get started(){return this.Be}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(){return this.Ht}getMutationQueue(t){let e=this.bs[t.toKey()];return e||(e=new Rd(this.Ht,this.referenceDelegate),this.bs[t.toKey()]=e),e}getTargetCache(){return this.ze}getRemoteDocumentCache(){return this.He}getBundleCache(){return this.Je}runTransaction(t,e,n){Go("MemoryPersistence","Starting transaction:",t);const r=new Md(this.Le.next());return this.referenceDelegate.vs(),n(r).next(t=>this.referenceDelegate.Vs(r).next(()=>t)).toPromise().then(t=>(r.raiseOnCommittedEvent(),t))}Ss(t,e){return Hl.or(Object.values(this.bs).map(n=>()=>n.containsKey(t,e)))}}class Md extends zl{constructor(t){super(),this.currentSequenceNumber=t}}class Ud{constructor(t){this.persistence=t,this.Ds=new Nd,this.Cs=null}static Ns(t){return new Ud(t)}get xs(){if(this.Cs)return this.Cs;throw Yo()}addReference(t,e,n){return this.Ds.addReference(n,e),this.xs.delete(n.toString()),Hl.resolve()}removeReference(t,e,n){return this.Ds.removeReference(n,e),this.xs.add(n.toString()),Hl.resolve()}markPotentiallyOrphaned(t,e){return this.xs.add(e.toString()),Hl.resolve()}removeTarget(t,e){this.Ds.cs(e.targetId).forEach(t=>this.xs.add(t.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(t,e.targetId).next(t=>{t.forEach(t=>this.xs.add(t.toString()))}).next(()=>n.removeTargetData(t,e))}vs(){this.Cs=new Set}Vs(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Hl.forEach(this.xs,n=>{const r=Fa.fromPath(n);return this.ks(t,r).next(t=>{t||e.removeEntry(r)})}).next(()=>(this.Cs=null,e.apply(t)))}updateLimboDocument(t,e){return this.ks(t,e).next(t=>{t?this.xs.delete(e.toString()):this.xs.add(e.toString())})}Ps(t){return 0}ks(t,e){return Hl.or([()=>Hl.resolve(this.Ds.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ss(t,e)])}}function qd(t,e){return`firestore_clients_${t}_${e}`}function Vd(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function jd(t,e){return`firestore_targets_${t}_${e}`}class Bd{constructor(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}static $s(t,e,n){const r=JSON.parse(n);let i,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new ea(r.error.code,r.error.message))),s?new Bd(t,e,r.state,i):(Ko("SharedClientState",`Failed to parse mutation state for ID '${e}': ${n}`),null)}Os(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class $d{constructor(t,e,n){this.targetId=t,this.state=e,this.error=n}static $s(t,e){const n=JSON.parse(e);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new ea(n.error.code,n.error.message))),i?new $d(t,n.state,r):(Ko("SharedClientState",`Failed to parse target state for ID '${t}': ${e}`),null)}Os(){const t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)}}class zd{constructor(t,e){this.clientId=t,this.activeTargetIds=e}static $s(t,e){const n=JSON.parse(e);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=Pc();for(let s=0;r&&s<n.activeTargetIds.length;++s)r=La(n.activeTargetIds[s]),i=i.add(n.activeTargetIds[s]);return r?new zd(t,i):(Ko("SharedClientState",`Failed to parse client data for instance '${t}': ${e}`),null)}}class Hd{constructor(t,e){this.clientId=t,this.onlineState=e}static $s(t){const e=JSON.parse(t);return"object"==typeof e&&-1!==["Unknown","Online","Offline"].indexOf(e.onlineState)&&"string"==typeof e.clientId?new Hd(e.clientId,e.onlineState):(Ko("SharedClientState",`Failed to parse online state: ${t}`),null)}}class Gd{constructor(){this.activeTargetIds=Pc()}Fs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Ms(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Os(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Kd{constructor(t,e,n,r,i){this.window=t,this.Oe=e,this.persistenceKey=n,this.Ls=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Bs=this.Us.bind(this),this.qs=new bc(da),this.started=!1,this.Ks=[];const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.js=qd(this.persistenceKey,this.Ls),this.Qs=`firestore_sequence_number_${this.persistenceKey}`,this.qs=this.qs.insert(this.Ls,new Gd),this.Ws=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.Gs=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.zs=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.Hs=`firestore_online_state_${this.persistenceKey}`,this.Js=function(t){return`firestore_bundle_loaded_${t}`}(this.persistenceKey),this.window.addEventListener("storage",this.Bs)}static bt(t){return!(!t||!t.localStorage)}start(){var t=this;return(0,xn.Z)(function*(){const e=yield t.syncEngine.pn();for(const r of e){if(r===t.Ls)continue;const e=t.getItem(qd(t.persistenceKey,r));if(e){const n=zd.$s(r,e);n&&(t.qs=t.qs.insert(n.clientId,n))}}t.Ys();const n=t.storage.getItem(t.Hs);if(n){const e=t.Xs(n);e&&t.Zs(e)}for(const r of t.Ks)t.Us(r);t.Ks=[],t.window.addEventListener("pagehide",()=>t.shutdown()),t.started=!0})()}writeSequenceNumber(t){this.setItem(this.Qs,JSON.stringify(t))}getAllActiveQueryTargets(){return this.ti(this.qs)}isActiveQueryTarget(t){let e=!1;return this.qs.forEach((n,r)=>{r.activeTargetIds.has(t)&&(e=!0)}),e}addPendingMutation(t){this.ei(t,"pending")}updateMutationState(t,e,n){this.ei(t,e,n),this.ni(t)}addLocalQueryTarget(t){let e="not-current";if(this.isActiveQueryTarget(t)){const n=this.storage.getItem(jd(this.persistenceKey,t));if(n){const r=$d.$s(t,n);r&&(e=r.state)}}return this.si.Fs(t),this.Ys(),e}removeLocalQueryTarget(t){this.si.Ms(t),this.Ys()}isLocalQueryTarget(t){return this.si.activeTargetIds.has(t)}clearQueryState(t){this.removeItem(jd(this.persistenceKey,t))}updateQueryState(t,e,n){this.ii(t,e,n)}handleUserChange(t,e,n){e.forEach(t=>{this.ni(t)}),this.currentUser=t,n.forEach(t=>{this.addPendingMutation(t)})}setOnlineState(t){this.ri(t)}notifyBundleLoaded(){this.oi()}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Bs),this.removeItem(this.js),this.started=!1)}getItem(t){const e=this.storage.getItem(t);return Go("SharedClientState","READ",t,e),e}setItem(t,e){Go("SharedClientState","SET",t,e),this.storage.setItem(t,e)}removeItem(t){Go("SharedClientState","REMOVE",t),this.storage.removeItem(t)}Us(t){var e=this;const n=t;if(n.storageArea===this.storage){if(Go("SharedClientState","EVENT",n.key,n.newValue),n.key===this.js)return void Ko("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Oe.enqueueRetryable((0,xn.Z)(function*(){if(e.started){if(null!==n.key)if(e.Ws.test(n.key)){if(null==n.newValue){const t=e.ai(n.key);return e.ci(t,null)}{const t=e.ui(n.key,n.newValue);if(t)return e.ci(t.clientId,t)}}else if(e.Gs.test(n.key)){if(null!==n.newValue){const t=e.hi(n.key,n.newValue);if(t)return e.li(t)}}else if(e.zs.test(n.key)){if(null!==n.newValue){const t=e.fi(n.key,n.newValue);if(t)return e.di(t)}}else if(n.key===e.Hs){if(null!==n.newValue){const t=e.Xs(n.newValue);if(t)return e.Zs(t)}}else if(n.key===e.Qs){const t=function(t){let e=ca.T;if(null!=t)try{const n=JSON.parse(t);Jo("number"==typeof n),e=n}catch(n){Ko("SharedClientState","Failed to read sequence number from WebStorage",n)}return e}(n.newValue);t!==ca.T&&e.sequenceNumberHandler(t)}else if(n.key===e.Js)return e.syncEngine.wi()}else e.Ks.push(n)}))}}get si(){return this.qs.get(this.Ls)}Ys(){this.setItem(this.js,this.si.Os())}ei(t,e,n){const r=new Bd(this.currentUser,t,e,n),i=Vd(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Os())}ni(t){const e=Vd(this.persistenceKey,this.currentUser,t);this.removeItem(e)}ri(t){this.storage.setItem(this.Hs,JSON.stringify({clientId:this.Ls,onlineState:t}))}ii(t,e,n){const r=jd(this.persistenceKey,t),i=new $d(t,e,n);this.setItem(r,i.Os())}oi(){this.setItem(this.Js,"value-not-used")}ai(t){const e=this.Ws.exec(t);return e?e[1]:null}ui(t,e){const n=this.ai(t);return zd.$s(n,e)}hi(t,e){const n=this.Gs.exec(t),r=Number(n[1]);return Bd.$s(new Bo(void 0!==n[2]?n[2]:null),r,e)}fi(t,e){const n=this.zs.exec(t),r=Number(n[1]);return $d.$s(r,e)}Xs(t){return Hd.$s(t)}li(t){var e=this;return(0,xn.Z)(function*(){if(t.user.uid===e.currentUser.uid)return e.syncEngine._i(t.batchId,t.state,t.error);Go("SharedClientState",`Ignoring mutation for non-active user ${t.user.uid}`)})()}di(t){return this.syncEngine.mi(t.targetId,t.state,t.error)}ci(t,e){const n=e?this.qs.insert(t,e):this.qs.remove(t),r=this.ti(this.qs),i=this.ti(n),s=[],o=[];return i.forEach(t=>{r.has(t)||s.push(t)}),r.forEach(t=>{i.has(t)||o.push(t)}),this.syncEngine.gi(s,o).then(()=>{this.qs=n})}Zs(t){this.qs.get(t.clientId)&&this.onlineStateHandler(t.onlineState)}ti(t){let e=Pc();return t.forEach((t,n)=>{e=e.unionWith(n.activeTargetIds)}),e}}class Wd{constructor(){this.yi=new Gd,this.pi={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,n){}addLocalQueryTarget(t){return this.yi.Fs(t),this.pi[t]||"not-current"}updateQueryState(t,e,n){this.pi[t]=e}removeLocalQueryTarget(t){this.yi.Ms(t)}isLocalQueryTarget(t){return this.yi.activeTargetIds.has(t)}clearQueryState(t){delete this.pi[t]}getAllActiveQueryTargets(){return this.yi.activeTargetIds}isActiveQueryTarget(t){return this.yi.activeTargetIds.has(t)}start(){return this.yi=new Gd,Promise.resolve()}handleUserChange(t,e,n){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(){}}class Qd{Ti(t){}shutdown(){}}class Yd{constructor(){this.Ei=()=>this.Ii(),this.Ai=()=>this.Ri(),this.bi=[],this.Pi()}Ti(t){this.bi.push(t)}shutdown(){window.removeEventListener("online",this.Ei),window.removeEventListener("offline",this.Ai)}Pi(){window.addEventListener("online",this.Ei),window.addEventListener("offline",this.Ai)}Ii(){Go("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.bi)t(0)}Ri(){Go("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.bi)t(1)}static bt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const Jd={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class Xd{constructor(t){this.vi=t.vi,this.Vi=t.Vi}Si(t){this.Di=t}Ci(t){this.Ni=t}onMessage(t){this.xi=t}close(){this.Vi()}send(t){this.vi(t)}ki(){this.Di()}$i(t){this.Ni(t)}Oi(t){this.xi(t)}}class tf extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId,this.Fi=(t.ssl?"https":"http")+"://"+t.host,this.Mi="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}Li(t,e,n,r){const i=this.Bi(t,e);Go("RestConnection","Sending: ",i,n);const s={};return this.Ui(s,r),this.qi(t,i,s,n).then(t=>(Go("RestConnection","Received: ",t),t),e=>{throw Wo("RestConnection",`${t} failed with error: `,e,"url: ",i,"request:",n),e})}Ki(t,e,n,r){return this.Li(t,e,n,r)}Ui(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/"+$o,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e)for(const n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n])}Bi(t,e){return`${this.Fi}/v1/${e}:${Jd[t]}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams}qi(t,e,n,r){return new Promise((i,s)=>{const o=new Vo;o.listenOnce(Fo.COMPLETE,()=>{try{switch(o.getLastErrorCode()){case Lo.NO_ERROR:const e=o.getResponseJson();Go("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Lo.TIMEOUT:Go("Connection",'RPC "'+t+'" timed out'),s(new ea(ta.DEADLINE_EXCEEDED,"Request time out"));break;case Lo.HTTP_ERROR:const n=o.getStatus();if(Go("Connection",'RPC "'+t+'" failed with status:',n,"response text:",o.getResponseText()),n>0){const t=o.getResponseJson().error;if(t&&t.status&&t.message){const e=function(t){const e=t.toLowerCase().replace(/_/g,"-");return Object.values(ta).indexOf(e)>=0?e:ta.UNKNOWN}(t.status);s(new ea(e,t.message))}else s(new ea(ta.UNKNOWN,"Server responded with status "+o.getStatus()))}else s(new ea(ta.UNAVAILABLE,"Connection failed."));break;default:Yo()}}finally{Go("Connection",'RPC "'+t+'" completed.')}});const a=JSON.stringify(r);o.send(e,"POST",a,n,15)})}ji(t,e){const n=[this.Fi,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=Ro(),i=Po(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(s.xmlHttpFactory=new Uo({})),this.Ui(s.initMessageHeaders,e),(0,Rn.uI)()||(0,Rn.b$)()||(0,Rn.d)()||(0,Rn.w1)()||(0,Rn.Mn)()||(0,Rn.ru)()||(s.httpHeadersOverwriteParam="$httpHeaders");const o=n.join("");Go("Connection","Creating WebChannel: "+o,s);const a=r.createWebChannel(o,s);let u=!1,c=!1;const l=new Xd({vi:t=>{c?Go("Connection","Not sending because WebChannel is closed:",t):(u||(Go("Connection","Opening WebChannel transport."),a.open(),u=!0),Go("Connection","WebChannel sending:",t),a.send(t))},Vi:()=>a.close()}),h=(t,e,n)=>{t.listen(e,t=>{try{n(t)}catch(e){setTimeout(()=>{throw e},0)}})};return h(a,qo.EventType.OPEN,()=>{c||Go("Connection","WebChannel transport opened.")}),h(a,qo.EventType.CLOSE,()=>{c||(c=!0,Go("Connection","WebChannel transport closed"),l.$i())}),h(a,qo.EventType.ERROR,t=>{c||(c=!0,Wo("Connection","WebChannel transport errored:",t),l.$i(new ea(ta.UNAVAILABLE,"The operation could not be completed")))}),h(a,qo.EventType.MESSAGE,t=>{var e;if(!c){const n=t.data[0];Jo(!!n);const r=n,i=r.error||(null===(e=r[0])||void 0===e?void 0:e.error);if(i){Go("Connection","WebChannel received error:",i);const t=i.status;let e=function(t){const e=mc[t];if(void 0!==e)return _c(e)}(t),n=i.message;void 0===e&&(e=ta.INTERNAL,n="Unknown error status: "+t+" with message "+i.message),c=!0,l.$i(new ea(e,n)),a.close()}else Go("Connection","WebChannel received:",n),l.Oi(n)}}),h(i,Zo.STAT_EVENT,t=>{t.stat===Mo.PROXY?Go("Connection","Detected buffering proxy"):t.stat===Mo.NOPROXY&&Go("Connection","Detected no buffering proxy")}),setTimeout(()=>{l.ki()},0),l}}function ef(){return"undefined"!=typeof window?window:null}function nf(){return"undefined"!=typeof document?document:null}function rf(t){return new Hc(t,!0)}class sf{constructor(t,e,n=1e3,r=1.5,i=6e4){this.Oe=t,this.timerId=e,this.Qi=n,this.Wi=r,this.Gi=i,this.zi=0,this.Hi=null,this.Ji=Date.now(),this.reset()}reset(){this.zi=0}Yi(){this.zi=this.Gi}Xi(t){this.cancel();const e=Math.floor(this.zi+this.Zi()),n=Math.max(0,Date.now()-this.Ji),r=Math.max(0,e-n);r>0&&Go("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.zi} ms, delay with jitter: ${e} ms, last attempt: ${n} ms ago)`),this.Hi=this.Oe.enqueueAfterDelay(this.timerId,r,()=>(this.Ji=Date.now(),t())),this.zi*=this.Wi,this.zi<this.Qi&&(this.zi=this.Qi),this.zi>this.Gi&&(this.zi=this.Gi)}tr(){null!==this.Hi&&(this.Hi.skipDelay(),this.Hi=null)}cancel(){null!==this.Hi&&(this.Hi.cancel(),this.Hi=null)}Zi(){return(Math.random()-.5)*this.zi}}class of{constructor(t,e,n,r,i,s){this.Oe=t,this.er=n,this.nr=r,this.credentialsProvider=i,this.listener=s,this.state=0,this.sr=0,this.ir=null,this.stream=null,this.rr=new sf(t,e)}ar(){return 1===this.state||2===this.state||4===this.state}cr(){return 2===this.state}start(){3!==this.state?this.auth():this.ur()}stop(){var t=this;return(0,xn.Z)(function*(){t.ar()&&(yield t.close(0))})()}hr(){this.state=0,this.rr.reset()}lr(){this.cr()&&null===this.ir&&(this.ir=this.Oe.enqueueAfterDelay(this.er,6e4,()=>this.dr()))}wr(t){this._r(),this.stream.send(t)}dr(){var t=this;return(0,xn.Z)(function*(){if(t.cr())return t.close(0)})()}_r(){this.ir&&(this.ir.cancel(),this.ir=null)}close(t,e){var n=this;return(0,xn.Z)(function*(){n._r(),n.rr.cancel(),n.sr++,3!==t?n.rr.reset():e&&e.code===ta.RESOURCE_EXHAUSTED?(Ko(e.toString()),Ko("Using maximum backoff delay to prevent overloading the backend."),n.rr.Yi()):e&&e.code===ta.UNAUTHENTICATED&&n.credentialsProvider.invalidateToken(),null!==n.stream&&(n.mr(),n.stream.close(),n.stream=null),n.state=t,yield n.listener.Ci(e)})()}mr(){}auth(){this.state=1;const t=this.gr(this.sr),e=this.sr;this.credentialsProvider.getToken().then(t=>{this.sr===e&&this.yr(t)},e=>{t(()=>{const t=new ea(ta.UNKNOWN,"Fetching auth token failed: "+e.message);return this.pr(t)})})}yr(t){const e=this.gr(this.sr);this.stream=this.Tr(t),this.stream.Si(()=>{e(()=>(this.state=2,this.listener.Si()))}),this.stream.Ci(t=>{e(()=>this.pr(t))}),this.stream.onMessage(t=>{e(()=>this.onMessage(t))})}ur(){var t=this;this.state=4,this.rr.Xi((0,xn.Z)(function*(){t.state=0,t.start()}))}pr(t){return Go("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(3,t)}gr(t){return e=>{this.Oe.enqueueAndForget(()=>this.sr===t?e():(Go("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class af extends of{constructor(t,e,n,r,i){super(t,"listen_stream_connection_backoff","listen_stream_idle",e,n,i),this.N=r}Tr(t){return this.nr.ji("Listen",t)}onMessage(t){this.rr.reset();const e=function(t,e){let n;if("targetChange"in e){const i="NO_CHANGE"===(r=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===r?1:"REMOVE"===r?2:"CURRENT"===r?3:"RESET"===r?4:Yo(),s=e.targetChange.targetIds||[],o=function(t,e){return t.D?(Jo(void 0===e||"string"==typeof e),Ia.fromBase64String(e||"")):(Jo(void 0===e||e instanceof Uint8Array),Ia.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,u=a&&function(t){const e=void 0===t.code?ta.UNKNOWN:_c(t.code);return new ea(e,t.message||"")}(a);n=new Uc(i,s,o,u||null)}else if("documentChange"in e){const r=e.documentChange,i=tl(t,r.document.name),s=Qc(r.document.updateTime),o=new Ya({mapValue:{fields:r.document.fields}}),a=Xa.newFoundDocument(i,s,o);n=new Zc(r.targetIds||[],r.removedTargetIds||[],a.key,a)}else if("documentDelete"in e){const r=e.documentDelete,i=tl(t,r.document),s=r.readTime?Qc(r.readTime):ma.min(),o=Xa.newNoDocument(i,s);n=new Zc([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=tl(t,r.document);n=new Zc([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Yo();{const t=e.filter,r=new gc(t.count||0);n=new Mc(t.targetId,r)}}var r;return n}(this.N,t),n=function(t){if(!("targetChange"in t))return ma.min();const e=t.targetChange;return e.targetIds&&e.targetIds.length?ma.min():e.readTime?Qc(e.readTime):ma.min()}(t);return this.listener.Er(e,n)}Ir(t){const e={};e.database=rl(this.N),e.addTarget=function(t,e){let n;const r=e.target;return n=iu(r)?{documents:cl(t,r)}:{query:ll(t,r)},n.targetId=e.targetId,e.resumeToken.approximateByteSize()>0?n.resumeToken=Kc(t,e.resumeToken):e.snapshotVersion.compareTo(ma.min())>0&&(n.readTime=Gc(t,e.snapshotVersion.toTimestamp())),n}(this.N,t);const n=function(t,e){const n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Yo()}}(0,e.purpose);return null==n?null:{"goog-listen-tags":n}}(0,t);n&&(e.labels=n),this.wr(e)}Ar(t){const e={};e.database=rl(this.N),e.removeTarget=t,this.wr(e)}}class uf extends of{constructor(t,e,n,r,i){super(t,"write_stream_connection_backoff","write_stream_idle",e,n,i),this.N=r,this.Rr=!1}get br(){return this.Rr}start(){this.Rr=!1,this.lastStreamToken=void 0,super.start()}mr(){this.Rr&&this.Pr([])}Tr(t){return this.nr.ji("Write",t)}onMessage(t){if(Jo(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Rr){this.rr.reset();const e=function(t,e){return t&&t.length>0?(Jo(void 0!==e),t.map(t=>function(t,e){let n=Qc(t.updateTime?t.updateTime:e);return n.isEqual(ma.min())&&(n=Qc(e)),new Xu(n,t.transformResults||[])}(t,e))):[]}(t.writeResults,t.commitTime),n=Qc(t.commitTime);return this.listener.vr(n,e)}return Jo(!t.writeResults||0===t.writeResults.length),this.Rr=!0,this.listener.Vr()}Sr(){const t={};t.database=rl(this.N),this.wr(t)}Pr(t){const e={streamToken:this.lastStreamToken,writes:t.map(t=>al(this.N,t))};this.wr(e)}}class cf extends class{}{constructor(t,e,n){super(),this.credentials=t,this.nr=e,this.N=n,this.Dr=!1}Cr(){if(this.Dr)throw new ea(ta.FAILED_PRECONDITION,"The client has already been terminated.")}Li(t,e,n){return this.Cr(),this.credentials.getToken().then(r=>this.nr.Li(t,e,n,r)).catch(t=>{throw"FirebaseError"===t.name?(t.code===ta.UNAUTHENTICATED&&this.credentials.invalidateToken(),t):new ea(ta.UNKNOWN,t.toString())})}Ki(t,e,n){return this.Cr(),this.credentials.getToken().then(r=>this.nr.Ki(t,e,n,r)).catch(t=>{throw"FirebaseError"===t.name?(t.code===ta.UNAUTHENTICATED&&this.credentials.invalidateToken(),t):new ea(ta.UNKNOWN,t.toString())})}terminate(){this.Dr=!0}}class lf{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.Nr=0,this.kr=null,this.$r=!0}Or(){0===this.Nr&&(this.Fr("Unknown"),this.kr=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.kr=null,this.Mr("Backend didn't respond within 10 seconds."),this.Fr("Offline"),Promise.resolve())))}Lr(t){"Online"===this.state?this.Fr("Unknown"):(this.Nr++,this.Nr>=1&&(this.Br(),this.Mr(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.Fr("Offline")))}set(t){this.Br(),this.Nr=0,"Online"===t&&(this.$r=!1),this.Fr(t)}Fr(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}Mr(t){const e=`Could not reach Cloud Firestore backend. ${t}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.$r?(Ko(e),this.$r=!1):Go("OnlineStateTracker",e)}Br(){null!==this.kr&&(this.kr.cancel(),this.kr=null)}}class hf{constructor(t,e,n,r,i){var s=this;this.localStore=t,this.datastore=e,this.asyncQueue=n,this.remoteSyncer={},this.Ur=[],this.qr=new Map,this.Kr=new Set,this.jr=[],this.Qr=i,this.Qr.Ti(t=>{n.enqueueAndForget((0,xn.Z)(function*(){var t;Tf(s)&&(Go("RemoteStore","Restarting streams for network reachability change."),yield(t=(0,xn.Z)(function*(t){const e=Xo(t);e.Kr.add(4),yield pf(e),e.Wr.set("Unknown"),e.Kr.delete(4),yield df(e)}),function(e){return t.apply(this,arguments)})(s))}))}),this.Wr=new lf(n,r)}}function df(t){return ff.apply(this,arguments)}function ff(){return(ff=(0,xn.Z)(function*(t){if(Tf(t))for(const e of t.jr)yield e(!0)})).apply(this,arguments)}function pf(t){return gf.apply(this,arguments)}function gf(){return(gf=(0,xn.Z)(function*(t){for(const e of t.jr)yield e(!1)})).apply(this,arguments)}function mf(t,e){const n=Xo(t);n.qr.has(e.targetId)||(n.qr.set(e.targetId,e),wf(n)?bf(n):Wf(n).cr()&&vf(n,e))}function yf(t,e){const n=Xo(t),r=Wf(n);n.qr.delete(e),r.cr()&&_f(n,e),0===n.qr.size&&(r.cr()?r.lr():Tf(n)&&n.Wr.set("Unknown"))}function vf(t,e){t.Gr.Y(e.targetId),Wf(t).Ir(e)}function _f(t,e){t.Gr.Y(e),Wf(t).Ar(e)}function bf(t){t.Gr=new Vc({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Tt:e=>t.qr.get(e)||null}),Wf(t).start(),t.Wr.Or()}function wf(t){return Tf(t)&&!Wf(t).ar()&&t.qr.size>0}function Tf(t){return 0===Xo(t).Kr.size}function Ef(t){t.Gr=void 0}function Sf(t){return If.apply(this,arguments)}function If(){return(If=(0,xn.Z)(function*(t){t.qr.forEach((e,n)=>{vf(t,e)})})).apply(this,arguments)}function Af(t,e){return Cf.apply(this,arguments)}function Cf(){return(Cf=(0,xn.Z)(function*(t,e){Ef(t),wf(t)?(t.Wr.Lr(e),bf(t)):t.Wr.set("Unknown")})).apply(this,arguments)}function kf(t,e,n){return xf.apply(this,arguments)}function xf(){return(xf=(0,xn.Z)(function*(t,e,n){if(t.Wr.set("Online"),e instanceof Uc&&2===e.state&&e.cause)try{yield(r=(0,xn.Z)(function*(t,e){const n=e.cause;for(const r of e.targetIds)t.qr.has(r)&&(yield t.remoteSyncer.rejectListen(r,n),t.qr.delete(r),t.Gr.removeTarget(r))}),function(t,e){return r.apply(this,arguments)})(t,e)}catch(r){Go("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Of(t,r)}else if(e instanceof Zc?t.Gr.rt(e):e instanceof Mc?t.Gr.ft(e):t.Gr.ct(e),!n.isEqual(ma.min()))try{const e=yield md(t.localStore);n.compareTo(e)>=0&&(yield function(t,e){const n=t.Gr._t(e);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=t.qr.get(r);i&&t.qr.set(r,i.withResumeToken(n.resumeToken,e))}}),n.targetMismatches.forEach(e=>{const n=t.qr.get(e);if(!n)return;t.qr.set(e,n.withResumeToken(Ia.EMPTY_BYTE_STRING,n.snapshotVersion)),_f(t,e);const r=new oh(n.target,e,1,n.sequenceNumber);vf(t,r)}),t.remoteSyncer.applyRemoteEvent(n)}(t,n))}catch(r){Go("RemoteStore","Failed to raise snapshot:",r),yield Of(t,r)}var r})).apply(this,arguments)}function Of(t,e,n){return Nf.apply(this,arguments)}function Nf(){return(Nf=(0,xn.Z)(function*(t,e,n){if(!Yl(e))throw e;t.Kr.add(1),yield pf(t),t.Wr.set("Offline"),n||(n=()=>md(t.localStore)),t.asyncQueue.enqueueRetryable((0,xn.Z)(function*(){Go("RemoteStore","Retrying IndexedDB access"),yield n(),t.Kr.delete(1),yield df(t)}))})).apply(this,arguments)}function Df(t,e){return e().catch(n=>Of(t,n,e))}function Rf(t){return Pf.apply(this,arguments)}function Pf(){return(Pf=(0,xn.Z)(function*(t){const e=Xo(t),n=Qf(e);let r=e.Ur.length>0?e.Ur[e.Ur.length-1].batchId:-1;for(;Lf(e);)try{const t=yield _d(e.localStore,r);if(null===t){0===e.Ur.length&&n.lr();break}r=t.batchId,Ff(e,t)}catch(i){yield Of(e,i)}Zf(e)&&Mf(e)})).apply(this,arguments)}function Lf(t){return Tf(t)&&t.Ur.length<10}function Ff(t,e){t.Ur.push(e);const n=Qf(t);n.cr()&&n.br&&n.Pr(e.mutations)}function Zf(t){return Tf(t)&&!Qf(t).ar()&&t.Ur.length>0}function Mf(t){Qf(t).start()}function Uf(t){return qf.apply(this,arguments)}function qf(){return(qf=(0,xn.Z)(function*(t){Qf(t).Sr()})).apply(this,arguments)}function Vf(t){return jf.apply(this,arguments)}function jf(){return(jf=(0,xn.Z)(function*(t){const e=Qf(t);for(const n of t.Ur)e.Pr(n.mutations)})).apply(this,arguments)}function Bf(t,e,n){return $f.apply(this,arguments)}function $f(){return($f=(0,xn.Z)(function*(t,e,n){const r=t.Ur.shift(),i=sh.from(r,e,n);yield Df(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Rf(t)})).apply(this,arguments)}function zf(t,e){return Hf.apply(this,arguments)}function Hf(){return(Hf=(0,xn.Z)(function*(t,e){var n;e&&Qf(t).br&&(yield(n=(0,xn.Z)(function*(t,e){if(vc(n=e.code)&&n!==ta.ABORTED){const n=t.Ur.shift();Qf(t).hr(),yield Df(t,()=>t.remoteSyncer.rejectFailedWrite(n.batchId,e)),yield Rf(t)}var n}),function(t,e){return n.apply(this,arguments)})(t,e)),Zf(t)&&Mf(t)})).apply(this,arguments)}function Gf(t,e){return Kf.apply(this,arguments)}function Kf(){return(Kf=(0,xn.Z)(function*(t,e){const n=Xo(t);e?(n.Kr.delete(2),yield df(n)):e||(n.Kr.add(2),yield pf(n),n.Wr.set("Unknown"))})).apply(this,arguments)}function Wf(t){return t.zr||(t.zr=function(t,e,n){const r=Xo(t);return r.Cr(),new af(e,r.nr,r.credentials,r.N,n)}(t.datastore,t.asyncQueue,{Si:Sf.bind(null,t),Ci:Af.bind(null,t),Er:kf.bind(null,t)}),t.jr.push(function(){var e=(0,xn.Z)(function*(e){e?(t.zr.hr(),wf(t)?bf(t):t.Wr.set("Unknown")):(yield t.zr.stop(),Ef(t))});return function(t){return e.apply(this,arguments)}}())),t.zr}function Qf(t){return t.Hr||(t.Hr=function(t,e,n){const r=Xo(t);return r.Cr(),new uf(e,r.nr,r.credentials,r.N,n)}(t.datastore,t.asyncQueue,{Si:Uf.bind(null,t),Ci:zf.bind(null,t),Vr:Vf.bind(null,t),vr:Bf.bind(null,t)}),t.jr.push(function(){var e=(0,xn.Z)(function*(e){e?(t.Hr.hr(),yield Rf(t)):(yield t.Hr.stop(),t.Ur.length>0&&(Go("RemoteStore",`Stopping write stream with ${t.Ur.length} pending writes`),t.Ur=[]))});return function(t){return e.apply(this,arguments)}}())),t.Hr}class Yf{constructor(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new na,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(t=>{})}static createAndSchedule(t,e,n,r,i){const s=Date.now()+n,o=new Yf(t,e,s,r,i);return o.start(n),o}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ea(ta.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Jf(t,e){if(Ko("AsyncQueue",`${e}: ${t}`),Yl(t))return new ea(ta.UNAVAILABLE,`${e}: ${t}`);throw t}class Xf{constructor(t){this.comparator=t?(e,n)=>t(e,n)||Fa.comparator(e.key,n.key):(t,e)=>Fa.comparator(t.key,e.key),this.keyedMap=kc(),this.sortedSet=new bc(this.comparator)}static emptySet(t){return new Xf(t.comparator)}has(t){return null!=this.keyedMap.get(t)}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((e,n)=>(t(e),!1))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Xf)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),n=t.sortedSet.getIterator();for(;e.hasNext();){const t=e.getNext().key,r=n.getNext().key;if(!t.isEqual(r))return!1}return!0}toString(){const t=[];return this.forEach(e=>{t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"}copy(t,e){const n=new Xf;return n.comparator=this.comparator,n.keyedMap=t,n.sortedSet=e,n}}class tp{constructor(){this.Jr=new bc(Fa.comparator)}track(t){const e=t.doc.key,n=this.Jr.get(e);n?0!==t.type&&3===n.type?this.Jr=this.Jr.insert(e,t):3===t.type&&1!==n.type?this.Jr=this.Jr.insert(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.Jr=this.Jr.insert(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.Jr=this.Jr.insert(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.Jr=this.Jr.remove(e):1===t.type&&2===n.type?this.Jr=this.Jr.insert(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.Jr=this.Jr.insert(e,{type:2,doc:t.doc}):Yo():this.Jr=this.Jr.insert(e,t)}Yr(){const t=[];return this.Jr.inorderTraversal((e,n)=>{t.push(n)}),t}}class ep{constructor(t,e,n,r,i,s,o,a){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a}static fromInitialDocuments(t,e,n,r){const i=[];return e.forEach(t=>{i.push({type:0,doc:t})}),new ep(t,e,Xf.emptySet(e),i,n,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Nu(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0}}class np{constructor(){this.Xr=void 0,this.listeners=[]}}class rp{constructor(){this.queries=new Gh(t=>Du(t),Nu),this.onlineState="Unknown",this.Zr=new Set}}function ip(t,e){return sp.apply(this,arguments)}function sp(){return(sp=(0,xn.Z)(function*(t,e){const n=Xo(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new np),i)try{s.Xr=yield n.onListen(r)}catch(o){const t=Jf(o,`Initialization of query '${Ru(e.query)}' failed`);return void e.onError(t)}n.queries.set(r,s),s.listeners.push(e),e.eo(n.onlineState),s.Xr&&e.no(s.Xr)&&lp(n)})).apply(this,arguments)}function op(t,e){return ap.apply(this,arguments)}function ap(){return(ap=(0,xn.Z)(function*(t,e){const n=Xo(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const t=s.listeners.indexOf(e);t>=0&&(s.listeners.splice(t,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)})).apply(this,arguments)}function up(t,e){const n=Xo(t);let r=!1;for(const i of e){const t=n.queries.get(i.query);if(t){for(const e of t.listeners)e.no(i)&&(r=!0);t.Xr=i}}r&&lp(n)}function cp(t,e,n){const r=Xo(t),i=r.queries.get(e);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(e)}function lp(t){t.Zr.forEach(t=>{t.next()})}class hp{constructor(t,e,n){this.query=t,this.so=e,this.io=!1,this.ro=null,this.onlineState="Unknown",this.options=n||{}}no(t){if(!this.options.includeMetadataChanges){const e=[];for(const n of t.docChanges)3!==n.type&&e.push(n);t=new ep(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}let e=!1;return this.io?this.oo(t)&&(this.so.next(t),e=!0):this.ao(t,this.onlineState)&&(this.co(t),e=!0),this.ro=t,e}onError(t){this.so.error(t)}eo(t){this.onlineState=t;let e=!1;return this.ro&&!this.io&&this.ao(this.ro,t)&&(this.co(this.ro),e=!0),e}ao(t,e){return!t.fromCache||!(this.options.uo&&"Offline"!==e||t.docs.isEmpty()&&"Offline"!==e)}oo(t){return t.docChanges.length>0||!!(t.syncStateChanged||this.ro&&this.ro.hasPendingWrites!==t.hasPendingWrites)&&!0===this.options.includeMetadataChanges}co(t){t=ep.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.io=!0,this.so.next(t)}}class dp{constructor(t,e){this.payload=t,this.byteLength=e}ho(){return"metadata"in this.payload}}class fp{constructor(t){this.N=t}zn(t){return tl(this.N,t)}Hn(t){return t.metadata.exists?ol(this.N,t.document,!1):Xa.newNoDocument(this.zn(t.metadata.name),this.Jn(t.metadata.readTime))}Jn(t){return Qc(t)}}class pp{constructor(t,e,n){this.lo=t,this.localStore=e,this.N=n,this.queries=[],this.documents=[],this.progress=gp(t)}fo(t){this.progress.bytesLoaded+=t.byteLength;let e=this.progress.documentsLoaded;return t.payload.namedQuery?this.queries.push(t.payload.namedQuery):t.payload.documentMetadata?(this.documents.push({metadata:t.payload.documentMetadata}),t.payload.documentMetadata.exists||++e):t.payload.document&&(this.documents[this.documents.length-1].document=t.payload.document,++e),e!==this.progress.documentsLoaded?(this.progress.documentsLoaded=e,Object.assign({},this.progress)):null}wo(t){const e=new Map,n=new fp(this.N);for(const r of t)if(r.metadata.queries){const t=n.zn(r.metadata.name);for(const n of r.metadata.queries){const r=(e.get(n)||Dc()).add(t);e.set(n,r)}}return e}complete(){var t=this;return(0,xn.Z)(function*(){const e=yield function(t,e,n,r){return Cd.apply(this,arguments)}(t.localStore,new fp(t.N),t.documents,t.lo.id),n=t.wo(t.documents);for(const r of t.queries)yield kd(t.localStore,r,n.get(r.name));return t.progress.taskState="Success",new ad(Object.assign({},t.progress),e)})()}}function gp(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}class mp{constructor(t){this.key=t}}class yp{constructor(t){this.key=t}}class vp{constructor(t,e){this.query=t,this._o=e,this.mo=null,this.current=!1,this.yo=Dc(),this.mutatedKeys=Dc(),this.po=Lu(t),this.To=new Xf(this.po)}get Eo(){return this._o}Io(t,e){const n=e?e.Ao:new tp,r=e?e.To:this.To;let i=e?e.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a=Eu(this.query)&&r.size===this.query.limit?r.last():null,u=Su(this.query)&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal((t,e)=>{const c=r.get(t),l=Pu(this.query,e)?e:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!l&&(l.hasLocalMutations||this.mutatedKeys.has(l.key)&&l.hasCommittedMutations);let f=!1;c&&l?c.data.isEqual(l.data)?h!==d&&(n.track({type:3,doc:l}),f=!0):this.Ro(c,l)||(n.track({type:2,doc:l}),f=!0,(a&&this.po(l,a)>0||u&&this.po(l,u)<0)&&(o=!0)):!c&&l?(n.track({type:0,doc:l}),f=!0):c&&!l&&(n.track({type:1,doc:c}),f=!0,(a||u)&&(o=!0)),f&&(l?(s=s.add(l),i=d?i.add(t):i.delete(t)):(s=s.delete(t),i=i.delete(t)))}),Eu(this.query)||Su(this.query))for(;s.size>this.query.limit;){const t=Eu(this.query)?s.last():s.first();s=s.delete(t.key),i=i.delete(t.key),n.track({type:1,doc:t})}return{To:s,Ao:n,Ln:o,mutatedKeys:i}}Ro(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,n){const r=this.To;this.To=t.To,this.mutatedKeys=t.mutatedKeys;const i=t.Ao.Yr();i.sort((t,e)=>function(t,e){const n=t=>{switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Yo()}};return n(t)-n(e)}(t.type,e.type)||this.po(t.doc,e.doc)),this.bo(n);const s=e?this.Po():[],o=0===this.yo.size&&this.current?1:0,a=o!==this.mo;return this.mo=o,0!==i.length||a?{snapshot:new ep(this.query,t.To,r,i,t.mutatedKeys,0===o,a,!1),vo:s}:{vo:s}}eo(t){return this.current&&"Offline"===t?(this.current=!1,this.applyChanges({To:this.To,Ao:new tp,mutatedKeys:this.mutatedKeys,Ln:!1},!1)):{vo:[]}}Vo(t){return!this._o.has(t)&&!!this.To.has(t)&&!this.To.get(t).hasLocalMutations}bo(t){t&&(t.addedDocuments.forEach(t=>this._o=this._o.add(t)),t.modifiedDocuments.forEach(t=>{}),t.removedDocuments.forEach(t=>this._o=this._o.delete(t)),this.current=t.current)}Po(){if(!this.current)return[];const t=this.yo;this.yo=Dc(),this.To.forEach(t=>{this.Vo(t.key)&&(this.yo=this.yo.add(t.key))});const e=[];return t.forEach(t=>{this.yo.has(t)||e.push(new yp(t))}),this.yo.forEach(n=>{t.has(n)||e.push(new mp(n))}),e}So(t){this._o=t.Gn,this.yo=Dc();const e=this.Io(t.documents);return this.applyChanges(e,!0)}Do(){return ep.fromInitialDocuments(this.query,this.To,this.mutatedKeys,0===this.mo)}}class _p{constructor(t,e,n){this.query=t,this.targetId=e,this.view=n}}class bp{constructor(t){this.key=t,this.Co=!1}}class wp{constructor(t,e,n,r,i,s){this.localStore=t,this.remoteStore=e,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.No={},this.xo=new Gh(t=>Du(t),Nu),this.ko=new Map,this.$o=new Set,this.Oo=new bc(Fa.comparator),this.Fo=new Map,this.Mo=new Nd,this.Lo={},this.Bo=new Map,this.Uo=Ph.ie(),this.onlineState="Unknown",this.qo=void 0}get isPrimaryClient(){return!0===this.qo}}function Tp(t,e){return Ep.apply(this,arguments)}function Ep(){return(Ep=(0,xn.Z)(function*(t,e){const n=dg(t);let r,i;const s=n.xo.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Do();else{const t=yield bd(n.localStore,xu(e)),s=n.sharedClientState.addLocalQueryTarget(t.targetId);r=t.targetId,i=yield Sp(n,e,r,"current"===s),n.isPrimaryClient&&mf(n.remoteStore,t)}return i})).apply(this,arguments)}function Sp(t,e,n,r){return Ip.apply(this,arguments)}function Ip(){return(Ip=(0,xn.Z)(function*(t,e,n,r){t.Ko=(e,n,r)=>{return(i=(0,xn.Z)(function*(t,e,n,r){let i=e.view.Io(n);i.Ln&&(i=yield Ed(t.localStore,e.query,!1).then(({documents:t})=>e.view.Io(t,i)));const s=r&&r.targetChanges.get(e.targetId),o=e.view.applyChanges(i,t.isPrimaryClient,s);return Bp(t,e.targetId,o.vo),o.snapshot}),function(t,e,n,r){return i.apply(this,arguments)})(t,e,n,r);var i};const i=yield Ed(t.localStore,e,!0),s=new vp(e,i.Gn),o=s.Io(i.documents),a=Fc.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==t.onlineState),u=s.applyChanges(o,t.isPrimaryClient,a);Bp(t,n,u.vo);const c=new _p(e,n,s);return t.xo.set(e,c),t.ko.has(n)?t.ko.get(n).push(e):t.ko.set(n,[e]),u.snapshot})).apply(this,arguments)}function Ap(t,e){return Cp.apply(this,arguments)}function Cp(){return(Cp=(0,xn.Z)(function*(t,e){const n=Xo(t),r=n.xo.get(e),i=n.ko.get(r.targetId);if(i.length>1)return n.ko.set(r.targetId,i.filter(t=>!Nu(t,e))),void n.xo.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield wd(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),yf(n.remoteStore,r.targetId),Vp(n,r.targetId)}).catch(Uh))):(Vp(n,r.targetId),yield wd(n.localStore,r.targetId,!0))})).apply(this,arguments)}function kp(){return(kp=(0,xn.Z)(function*(t,e,n){const r=fg(t);try{const t=yield function(t,e){const n=Xo(t),r=ga.now(),i=e.reduce((t,e)=>t.add(e.key),Dc());let s;return n.persistence.runTransaction("Locally write mutations","readwrite",t=>n.Qn.Pn(t,i).next(i=>{s=i;const o=[];for(const t of e){const e=sc(t,s.get(t.key));null!=e&&o.push(new cc(t.key,e,Ja(e.value.mapValue),tc.exists(!0)))}return n.In.addMutationBatch(t,r,o,e)})).then(t=>(t.applyToLocalDocumentSet(s),{batchId:t.batchId,changes:s}))}(r.localStore,e);r.sharedClientState.addPendingMutation(t.batchId),function(t,e,n){let r=t.Lo[t.currentUser.toKey()];r||(r=new bc(da)),r=r.insert(e,n),t.Lo[t.currentUser.toKey()]=r}(r,t.batchId,n),yield Hp(r,t.changes),yield Rf(r.remoteStore)}catch(i){const t=Jf(i,"Failed to persist write");n.reject(t)}})).apply(this,arguments)}function xp(t,e){return Op.apply(this,arguments)}function Op(){return(Op=(0,xn.Z)(function*(t,e){const n=Xo(t);try{const t=yield yd(n.localStore,e);e.targetChanges.forEach((t,e)=>{const r=n.Fo.get(e);r&&(Jo(t.addedDocuments.size+t.modifiedDocuments.size+t.removedDocuments.size<=1),t.addedDocuments.size>0?r.Co=!0:t.modifiedDocuments.size>0?Jo(r.Co):t.removedDocuments.size>0&&(Jo(r.Co),r.Co=!1))}),yield Hp(n,t,e)}catch(r){yield Uh(r)}})).apply(this,arguments)}function Np(t,e,n){const r=Xo(t);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const t=[];r.xo.forEach((n,r)=>{const i=r.view.eo(e);i.snapshot&&t.push(i.snapshot)}),function(t,e){const n=Xo(t);n.onlineState=e;let r=!1;n.queries.forEach((t,n)=>{for(const i of n.listeners)i.eo(e)&&(r=!0)}),r&&lp(n)}(r.eventManager,e),t.length&&r.No.Er(t),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Dp(t,e,n){return Rp.apply(this,arguments)}function Rp(){return(Rp=(0,xn.Z)(function*(t,e,n){const r=Xo(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Fo.get(e),s=i&&i.key;if(s){let t=new bc(Fa.comparator);t=t.insert(s,Xa.newNoDocument(s,ma.min()));const n=Dc().add(s),i=new Lc(ma.min(),new Map,new Ec(da),t,n);yield xp(r,i),r.Oo=r.Oo.remove(s),r.Fo.delete(e),zp(r)}else yield wd(r.localStore,e,!1).then(()=>Vp(r,e,n)).catch(Uh)})).apply(this,arguments)}function Pp(t,e){return Lp.apply(this,arguments)}function Lp(){return(Lp=(0,xn.Z)(function*(t,e){const n=Xo(t),r=e.batch.batchId;try{const t=yield gd(n.localStore,e);qp(n,r,null),Up(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Hp(n,t)}catch(i){yield Uh(i)}})).apply(this,arguments)}function Fp(t,e,n){return Zp.apply(this,arguments)}function Zp(){return(Zp=(0,xn.Z)(function*(t,e,n){const r=Xo(t);try{const t=yield function(t,e){const n=Xo(t);return n.persistence.runTransaction("Reject batch","readwrite-primary",t=>{let r;return n.In.lookupMutationBatch(t,e).next(e=>(Jo(null!==e),r=e.keys(),n.In.removeMutationBatch(t,e))).next(()=>n.In.performConsistencyCheck(t)).next(()=>n.Qn.Pn(t,r))})}(r.localStore,e);qp(r,e,n),Up(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Hp(r,t)}catch(i){yield Uh(i)}})).apply(this,arguments)}function Mp(){return(Mp=(0,xn.Z)(function*(t,e){const n=Xo(t);Tf(n.remoteStore)||Go("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const t=yield function(t){const e=Xo(t);return e.persistence.runTransaction("Get highest unacknowledged batch id","readonly",t=>e.In.getHighestUnacknowledgedBatchId(t))}(n.localStore);if(-1===t)return void e.resolve();const r=n.Bo.get(t)||[];r.push(e),n.Bo.set(t,r)}catch(r){const t=Jf(r,"Initialization of waitForPendingWrites() operation failed");e.reject(t)}})).apply(this,arguments)}function Up(t,e){(t.Bo.get(e)||[]).forEach(t=>{t.resolve()}),t.Bo.delete(e)}function qp(t,e,n){const r=Xo(t);let i=r.Lo[r.currentUser.toKey()];if(i){const t=i.get(e);t&&(n?t.reject(n):t.resolve(),i=i.remove(e)),r.Lo[r.currentUser.toKey()]=i}}function Vp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.ko.get(e))t.xo.delete(r),n&&t.No.jo(r,n);t.ko.delete(e),t.isPrimaryClient&&t.Mo.cs(e).forEach(e=>{t.Mo.containsKey(e)||jp(t,e)})}function jp(t,e){t.$o.delete(e.path.canonicalString());const n=t.Oo.get(e);null!==n&&(yf(t.remoteStore,n),t.Oo=t.Oo.remove(e),t.Fo.delete(n),zp(t))}function Bp(t,e,n){for(const r of n)r instanceof mp?(t.Mo.addReference(r.key,e),$p(t,r)):r instanceof yp?(Go("SyncEngine","Document no longer in limbo: "+r.key),t.Mo.removeReference(r.key,e),t.Mo.containsKey(r.key)||jp(t,r.key)):Yo()}function $p(t,e){const n=e.key,r=n.path.canonicalString();t.Oo.get(n)||t.$o.has(r)||(Go("SyncEngine","New document in limbo: "+n),t.$o.add(r),zp(t))}function zp(t){for(;t.$o.size>0&&t.Oo.size<t.maxConcurrentLimboResolutions;){const e=t.$o.values().next().value;t.$o.delete(e);const n=new Fa(wa.fromString(e)),r=t.Uo.next();t.Fo.set(r,new bp(n)),t.Oo=t.Oo.insert(n,r),mf(t.remoteStore,new oh(xu(Tu(n.path)),r,2,ca.T))}}function Hp(t,e,n){return Gp.apply(this,arguments)}function Gp(){return(Gp=(0,xn.Z)(function*(t,e,n){const r=Xo(t),i=[],s=[],o=[];var a;r.xo.isEmpty()||(r.xo.forEach((t,a)=>{o.push(r.Ko(a,e,n).then(t=>{if(t){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,t.fromCache?"not-current":"current"),i.push(t);const e=cd.kn(a.targetId,t);s.push(e)}}))}),yield Promise.all(o),r.No.Er(i),yield(a=(0,xn.Z)(function*(t,e){const n=Xo(t);try{yield n.persistence.runTransaction("notifyLocalViewChanges","readwrite",t=>Hl.forEach(e,e=>Hl.forEach(e.Nn,r=>n.persistence.referenceDelegate.addReference(t,e.targetId,r)).next(()=>Hl.forEach(e.xn,r=>n.persistence.referenceDelegate.removeReference(t,e.targetId,r)))))}catch(r){if(!Yl(r))throw r;Go("LocalStore","Failed to update sequence numbers: "+r)}for(const i of e){const t=i.targetId;if(!i.fromCache){const e=n.Un.get(t),r=e.withLastLimboFreeSnapshotVersion(e.snapshotVersion);n.Un=n.Un.insert(t,r)}}}),function(t,e){return a.apply(this,arguments)})(r.localStore,s))})).apply(this,arguments)}function Kp(t,e){return Wp.apply(this,arguments)}function Wp(){return(Wp=(0,xn.Z)(function*(t,e){const n=Xo(t);if(!n.currentUser.isEqual(e)){Go("SyncEngine","User change. New user:",e.toKey());const t=yield fd(n.localStore,e);n.currentUser=e,(r=n).Bo.forEach(t=>{t.forEach(t=>{t.reject(new ea(ta.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),r.Bo.clear(),n.sharedClientState.handleUserChange(e,t.removedBatchIds,t.addedBatchIds),yield Hp(n,t.Wn)}var r})).apply(this,arguments)}function Qp(t,e){const n=Xo(t),r=n.Fo.get(e);if(r&&r.Co)return Dc().add(r.key);{let t=Dc();const r=n.ko.get(e);if(!r)return t;for(const e of r){const r=n.xo.get(e);t=t.unionWith(r.view.Eo)}return t}}function Yp(t,e){return Jp.apply(this,arguments)}function Jp(){return(Jp=(0,xn.Z)(function*(t,e){const n=Xo(t),r=yield Ed(n.localStore,e.query,!0),i=e.view.So(r);return n.isPrimaryClient&&Bp(n,e.targetId,i.vo),i})).apply(this,arguments)}function Xp(t){return tg.apply(this,arguments)}function tg(){return(tg=(0,xn.Z)(function*(t){const e=Xo(t);return Id(e.localStore).then(t=>Hp(e,t))})).apply(this,arguments)}function eg(t,e,n,r){return ng.apply(this,arguments)}function ng(){return(ng=(0,xn.Z)(function*(t,e,n,r){const i=Xo(t),s=yield function(t,e){const n=Xo(t),r=Xo(n.In);return n.persistence.runTransaction("Lookup mutation documents","readonly",t=>r.Xt(t,e).next(e=>e?n.Qn.Pn(t,e):Hl.resolve(null)))}(i.localStore,e);var o;null!==s?("pending"===n?yield Rf(i.remoteStore):"acknowledged"===n||"rejected"===n?(qp(i,e,r||null),Up(i,e),o=e,Xo(Xo(i.localStore).In).te(o)):Yo(),yield Hp(i,s)):Go("SyncEngine","Cannot apply mutation batch with id: "+e)})).apply(this,arguments)}function rg(){return(rg=(0,xn.Z)(function*(t,e){const n=Xo(t);if(dg(n),fg(n),!0===e&&!0!==n.qo){const t=n.sharedClientState.getAllActiveQueryTargets(),e=yield ig(n,t.toArray());n.qo=!0,yield Gf(n.remoteStore,!0);for(const r of e)mf(n.remoteStore,r)}else if(!1===e&&!1!==n.qo){const t=[];let e=Promise.resolve();n.ko.forEach((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?t.push(i):e=e.then(()=>(Vp(n,i),wd(n.localStore,i,!0))),yf(n.remoteStore,i)}),yield e,yield ig(n,t),function(t){const e=Xo(t);e.Fo.forEach((t,n)=>{yf(e.remoteStore,n)}),e.Mo.us(),e.Fo=new Map,e.Oo=new bc(Fa.comparator)}(n),n.qo=!1,yield Gf(n.remoteStore,!1)}})).apply(this,arguments)}function ig(t,e,n){return sg.apply(this,arguments)}function sg(){return(sg=(0,xn.Z)(function*(t,e,n){const r=Xo(t),i=[],s=[];for(const o of e){let t;const e=r.ko.get(o);if(e&&0!==e.length){t=yield bd(r.localStore,xu(e[0]));for(const t of e){const e=r.xo.get(t),n=yield Yp(r,e);n.snapshot&&s.push(n.snapshot)}}else{const e=yield Sd(r.localStore,o);t=yield bd(r.localStore,e),yield Sp(r,og(e),o,!1)}i.push(t)}return r.No.Er(s),i})).apply(this,arguments)}function og(t){return wu(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function ag(t){const e=Xo(t);return Xo(Xo(e.localStore).persistence).pn()}function ug(t,e,n,r){return cg.apply(this,arguments)}function cg(){return(cg=(0,xn.Z)(function*(t,e,n,r){const i=Xo(t);if(i.qo)Go("SyncEngine","Ignoring unexpected query state notification.");else if(i.ko.has(e))switch(n){case"current":case"not-current":{const t=yield Id(i.localStore),r=Lc.createSynthesizedRemoteEventForCurrentChange(e,"current"===n);yield Hp(i,t,r);break}case"rejected":yield wd(i.localStore,e,!0),Vp(i,e,r);break;default:Yo()}})).apply(this,arguments)}function lg(t,e,n){return hg.apply(this,arguments)}function hg(){return(hg=(0,xn.Z)(function*(t,e,n){const r=dg(t);if(r.qo){for(const t of e){if(r.ko.has(t)){Go("SyncEngine","Adding an already active target "+t);continue}const e=yield Sd(r.localStore,t),n=yield bd(r.localStore,e);yield Sp(r,og(e),n.targetId,!1),mf(r.remoteStore,n)}for(const t of n)r.ko.has(t)&&(yield wd(r.localStore,t,!1).then(()=>{yf(r.remoteStore,t),Vp(r,t)}).catch(Uh))}})).apply(this,arguments)}function dg(t){const e=Xo(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=xp.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Qp.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Dp.bind(null,e),e.No.Er=up.bind(null,e.eventManager),e.No.jo=cp.bind(null,e.eventManager),e}function fg(t){const e=Xo(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Pp.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Fp.bind(null,e),e}class pg{constructor(){this.synchronizeTabs=!1}initialize(t){var e=this;return(0,xn.Z)(function*(){e.N=rf(t.databaseInfo.databaseId),e.sharedClientState=e.Wo(t),e.persistence=e.Go(t),yield e.persistence.start(),e.gcScheduler=e.zo(t),e.localStore=e.Ho(t)})()}zo(t){return null}Ho(t){return dd(this.persistence,new ld,t.initialUser,this.N)}Go(t){return new Zd(Ud.Ns,this.N)}Wo(t){return new Wd}terminate(){var t=this;return(0,xn.Z)(function*(){t.gcScheduler&&t.gcScheduler.stop(),yield t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}class gg extends pg{constructor(t,e,n){super(),this.Jo=t,this.cacheSizeBytes=e,this.forceOwnership=n,this.synchronizeTabs=!1}initialize(t){var e=()=>super.initialize,n=this;return(0,xn.Z)(function*(){yield e().call(n,t),yield function(t){return Ad.apply(this,arguments)}(n.localStore),yield n.Jo.initialize(n,t),yield fg(n.Jo.syncEngine),yield Rf(n.Jo.remoteStore),yield n.persistence.nn(()=>(n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(n.localStore),Promise.resolve()))})()}Ho(t){return dd(this.persistence,new ld,t.initialUser,this.N)}zo(t){return new Bh(this.persistence.referenceDelegate.garbageCollector,t.asyncQueue)}Go(t){const e=od(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Ah.withCacheSize(this.cacheSizeBytes):Ah.DEFAULT;return new rd(this.synchronizeTabs,e,t.clientId,n,t.asyncQueue,ef(),nf(),this.N,this.sharedClientState,!!this.forceOwnership)}Wo(t){return new Wd}}class mg extends gg{constructor(t,e){super(t,e,!1),this.Jo=t,this.cacheSizeBytes=e,this.synchronizeTabs=!0}initialize(t){var e=()=>super.initialize,n=this;return(0,xn.Z)(function*(){yield e().call(n,t);const r=n.Jo.syncEngine;n.sharedClientState instanceof Kd&&(n.sharedClientState.syncEngine={_i:eg.bind(null,r),mi:ug.bind(null,r),gi:lg.bind(null,r),pn:ag.bind(null,r),wi:Xp.bind(null,r)},yield n.sharedClientState.start()),yield n.persistence.nn(function(){var t=(0,xn.Z)(function*(t){yield function(t,e){return rg.apply(this,arguments)}(n.Jo.syncEngine,t),n.gcScheduler&&(t&&!n.gcScheduler.started?n.gcScheduler.start(n.localStore):t||n.gcScheduler.stop())});return function(e){return t.apply(this,arguments)}}())})()}Wo(t){const e=ef();if(!Kd.bt(e))throw new ea(ta.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=od(t.databaseInfo.databaseId,t.databaseInfo.persistenceKey);return new Kd(e,t.asyncQueue,n,t.clientId,t.initialUser)}}class yg{initialize(t,e){var n=this;return(0,xn.Z)(function*(){n.localStore||(n.localStore=t.localStore,n.sharedClientState=t.sharedClientState,n.datastore=n.createDatastore(e),n.remoteStore=n.createRemoteStore(e),n.eventManager=n.createEventManager(e),n.syncEngine=n.createSyncEngine(e,!t.synchronizeTabs),n.sharedClientState.onlineStateHandler=t=>Np(n.syncEngine,t,1),n.remoteStore.remoteSyncer.handleCredentialChange=Kp.bind(null,n.syncEngine),yield Gf(n.remoteStore,n.syncEngine.isPrimaryClient))})()}createEventManager(t){return new rp}createDatastore(t){const e=rf(t.databaseInfo.databaseId),n=new tf(t.databaseInfo);return new cf(t.credentials,n,e)}createRemoteStore(t){return e=this.localStore,n=this.datastore,r=t.asyncQueue,i=t=>Np(this.syncEngine,t,0),s=Yd.bt()?new Yd:new Qd,new hf(e,n,r,i,s);var e,n,r,i,s}createSyncEngine(t,e){return function(t,e,n,r,i,s,o){const a=new wp(t,e,n,r,i,s);return o&&(a.qo=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}terminate(){return(t=(0,xn.Z)(function*(t){const e=Xo(t);Go("RemoteStore","RemoteStore shutting down."),e.Kr.add(5),yield pf(e),e.Qr.shutdown(),e.Wr.set("Unknown")}),function(e){return t.apply(this,arguments)})(this.remoteStore);var t}}function vg(t,e=10240){let n=0;return{read:()=>(0,xn.Z)(function*(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}})(),cancel:()=>(0,xn.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class _g{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Yo(this.observer.next,t)}error(t){this.observer.error?this.Yo(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)}Xo(){this.muted=!0}Yo(t,e){this.muted||setTimeout(()=>{this.muted||t(e)},0)}}class bg{constructor(t,e){this.Zo=t,this.N=e,this.metadata=new na,this.buffer=new Uint8Array,this.ta=new TextDecoder("utf-8"),this.ea().then(t=>{t&&t.ho()?this.metadata.resolve(t.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==t?void 0:t.payload)}`))},t=>this.metadata.reject(t))}close(){return this.Zo.cancel()}getMetadata(){var t=this;return(0,xn.Z)(function*(){return t.metadata.promise})()}Qo(){var t=this;return(0,xn.Z)(function*(){return yield t.getMetadata(),t.ea()})()}ea(){var t=this;return(0,xn.Z)(function*(){const e=yield t.na();if(null===e)return null;const n=t.ta.decode(e),r=Number(n);isNaN(r)&&t.sa(`length string (${n}) is not valid number`);const i=yield t.ia(r);return new dp(JSON.parse(i),e.length+r)})()}ra(){return this.buffer.findIndex(t=>t==="{".charCodeAt(0))}na(){var t=this;return(0,xn.Z)(function*(){for(;t.ra()<0&&!(yield t.oa()););if(0===t.buffer.length)return null;const e=t.ra();e<0&&t.sa("Reached the end of bundle when a length string is expected.");const n=t.buffer.slice(0,e);return t.buffer=t.buffer.slice(e),n})()}ia(t){var e=this;return(0,xn.Z)(function*(){for(;e.buffer.length<t;)(yield e.oa())&&e.sa("Reached the end of bundle when more is expected.");const n=e.ta.decode(e.buffer.slice(0,t));return e.buffer=e.buffer.slice(t),n})()}sa(t){throw this.Zo.cancel(),new Error(`Invalid bundle format: ${t}`)}oa(){var t=this;return(0,xn.Z)(function*(){const e=yield t.Zo.read();if(!e.done){const n=new Uint8Array(t.buffer.length+e.value.length);n.set(t.buffer),n.set(e.value,t.buffer.length),t.buffer=n}return e.done})()}}class wg{constructor(t){this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(t){var e=this;return(0,xn.Z)(function*(){if(e.ensureCommitNotCalled(),e.mutations.length>0)throw new ea(ta.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const n=yield(r=(0,xn.Z)(function*(t,e){const n=Xo(t),r=rl(n.N)+"/documents",i={documents:e.map(t=>Xc(n.N,t))},s=yield n.Ki("BatchGetDocuments",r,i),o=new Map;s.forEach(t=>{const e=function(t,e){return"found"in e?function(t,e){Jo(!!e.found);const n=tl(t,e.found.name),r=Qc(e.found.updateTime),i=new Ya({mapValue:{fields:e.found.fields}});return Xa.newFoundDocument(n,r,i)}(t,e):"missing"in e?function(t,e){Jo(!!e.missing),Jo(!!e.readTime);const n=tl(t,e.missing),r=Qc(e.readTime);return Xa.newNoDocument(n,r)}(t,e):Yo()}(n.N,t);o.set(e.key.toString(),e)});const a=[];return e.forEach(t=>{const e=o.get(t.toString());Jo(!!e),a.push(e)}),a}),function(t,e){return r.apply(this,arguments)})(e.datastore,t);var r;return n.forEach(t=>e.recordVersion(t)),n})()}set(t,e){this.write(e.toMutation(t,this.precondition(t))),this.writtenDocs.add(t.toString())}update(t,e){try{this.write(e.toMutation(t,this.preconditionForUpdate(t)))}catch(n){this.lastWriteError=n}this.writtenDocs.add(t.toString())}delete(t){this.write(new fc(t,this.precondition(t))),this.writtenDocs.add(t.toString())}commit(){var t=this;return(0,xn.Z)(function*(){if(t.ensureCommitNotCalled(),t.lastWriteError)throw t.lastWriteError;const e=t.readVersions;var n;t.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((e,n)=>{const r=Fa.fromPath(n);t.mutations.push(new pc(r,t.precondition(r)))}),yield(n=(0,xn.Z)(function*(t,e){const n=Xo(t),r=rl(n.N)+"/documents",i={writes:e.map(t=>al(n.N,t))};yield n.Li("Commit",r,i)}),function(t,e){return n.apply(this,arguments)})(t.datastore,t.mutations),t.committed=!0})()}recordVersion(t){let e;if(t.isFoundDocument())e=t.version;else{if(!t.isNoDocument())throw Yo();e=ma.min()}const n=this.readVersions.get(t.key.toString());if(n){if(!e.isEqual(n))throw new ea(ta.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(t.key.toString(),e)}precondition(t){const e=this.readVersions.get(t.toString());return!this.writtenDocs.has(t.toString())&&e?tc.updateTime(e):tc.none()}preconditionForUpdate(t){const e=this.readVersions.get(t.toString());if(!this.writtenDocs.has(t.toString())&&e){if(e.isEqual(ma.min()))throw new ea(ta.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return tc.updateTime(e)}return tc.exists(!0)}write(t){this.ensureCommitNotCalled(),this.mutations.push(t)}ensureCommitNotCalled(){}}class Tg{constructor(t,e,n,r){this.asyncQueue=t,this.datastore=e,this.updateFunction=n,this.deferred=r,this.aa=5,this.rr=new sf(this.asyncQueue,"transaction_retry")}run(){this.aa-=1,this.ca()}ca(){var t=this;this.rr.Xi((0,xn.Z)(function*(){const e=new wg(t.datastore),n=t.ua(e);n&&n.then(n=>{t.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{t.deferred.resolve(n)}).catch(e=>{t.ha(e)}))}).catch(e=>{t.ha(e)})}))}ua(t){try{const e=this.updateFunction(t);return!Ra(e)&&e.catch&&e.then?e:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}ha(t){this.aa>0&&this.la(t)?(this.aa-=1,this.asyncQueue.enqueueAndForget(()=>(this.ca(),Promise.resolve()))):this.deferred.reject(t)}la(t){if("FirebaseError"===t.name){const e=t.code;return"aborted"===e||"failed-precondition"===e||!vc(e)}return!1}}class Eg{constructor(t,e,n){var r=this;this.credentials=t,this.asyncQueue=e,this.databaseInfo=n,this.user=Bo.UNAUTHENTICATED,this.clientId=ha.I(),this.credentialListener=()=>Promise.resolve(),this.credentials.start(e,function(){var t=(0,xn.Z)(function*(t){Go("FirestoreClient","Received user=",t.uid),yield r.credentialListener(t),r.user=t});return function(e){return t.apply(this,arguments)}}())}getConfiguration(){var t=this;return(0,xn.Z)(function*(){return{asyncQueue:t.asyncQueue,databaseInfo:t.databaseInfo,clientId:t.clientId,credentials:t.credentials,initialUser:t.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(t){this.credentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new ea(ta.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var t=this;this.asyncQueue.enterRestrictedMode();const e=new na;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,xn.Z)(function*(){try{t.onlineComponents&&(yield t.onlineComponents.terminate()),t.offlineComponents&&(yield t.offlineComponents.terminate()),t.credentials.shutdown(),e.resolve()}catch(n){const t=Jf(n,"Failed to shutdown persistence");e.reject(t)}})),e.promise}}function Sg(t,e){return Ig.apply(this,arguments)}function Ig(){return(Ig=(0,xn.Z)(function*(t,e){t.asyncQueue.verifyOperationInProgress(),Go("FirestoreClient","Initializing OfflineComponentProvider");const n=yield t.getConfiguration();yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(function(){var t=(0,xn.Z)(function*(t){r.isEqual(t)||(yield fd(e.localStore,t),r=t)});return function(e){return t.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e})).apply(this,arguments)}function Ag(t,e){return Cg.apply(this,arguments)}function Cg(){return(Cg=(0,xn.Z)(function*(t,e){t.asyncQueue.verifyOperationInProgress();const n=yield kg(t);Go("FirestoreClient","Initializing OnlineComponentProvider");const r=yield t.getConfiguration();yield e.initialize(n,r),t.setCredentialChangeListener(t=>{return(n=(0,xn.Z)(function*(t,e){const n=Xo(t);n.asyncQueue.verifyOperationInProgress(),Go("RemoteStore","RemoteStore received new credentials");const r=Tf(n);n.Kr.add(3),yield pf(n),r&&n.Wr.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.Kr.delete(3),yield df(n)}),function(t,e){return n.apply(this,arguments)})(e.remoteStore,t);var n}),t.onlineComponents=e})).apply(this,arguments)}function kg(t){return xg.apply(this,arguments)}function xg(){return(xg=(0,xn.Z)(function*(t){return t.offlineComponents||(Go("FirestoreClient","Using default OfflineComponentProvider"),yield Sg(t,new pg)),t.offlineComponents})).apply(this,arguments)}function Og(t){return Ng.apply(this,arguments)}function Ng(){return(Ng=(0,xn.Z)(function*(t){return t.onlineComponents||(Go("FirestoreClient","Using default OnlineComponentProvider"),yield Ag(t,new yg)),t.onlineComponents})).apply(this,arguments)}function Dg(t){return kg(t).then(t=>t.persistence)}function Rg(t){return kg(t).then(t=>t.localStore)}function Pg(t){return Og(t).then(t=>t.remoteStore)}function Lg(t){return Og(t).then(t=>t.syncEngine)}function Fg(t){return Zg.apply(this,arguments)}function Zg(){return(Zg=(0,xn.Z)(function*(t){const e=yield Og(t),n=e.eventManager;return n.onListen=Tp.bind(null,e.syncEngine),n.onUnlisten=Ap.bind(null,e.syncEngine),n})).apply(this,arguments)}function Mg(t,e,n={}){const r=new na;return t.asyncQueue.enqueueAndForget((0,xn.Z)(function*(){return function(t,e,n,r,i){const s=new _g({next:s=>{e.enqueueAndForget(()=>op(t,o));const a=s.docs.has(n);!a&&s.fromCache?i.reject(new ea(ta.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new ea(ta.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:t=>i.reject(t)}),o=new hp(Tu(n.path),s,{includeMetadataChanges:!0,uo:!0});return ip(t,o)}(yield Fg(t),t.asyncQueue,e,n,r)})),r.promise}function Ug(t,e,n={}){const r=new na;return t.asyncQueue.enqueueAndForget((0,xn.Z)(function*(){return function(t,e,n,r,i){const s=new _g({next:n=>{e.enqueueAndForget(()=>op(t,o)),n.fromCache&&"server"===r.source?i.reject(new ea(ta.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:t=>i.reject(t)}),o=new hp(n,s,{includeMetadataChanges:!0,uo:!0});return ip(t,o)}(yield Fg(t),t.asyncQueue,e,n,r)})),r.promise}class qg{constructor(t,e,n,r,i,s,o,a){this.databaseId=t,this.appId=e,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.useFetchStreams=a}}class Vg{constructor(t,e){this.projectId=t,this.database=e||"(default)"}get isDefaultDatabase(){return"(default)"===this.database}isEqual(t){return t instanceof Vg&&t.projectId===this.projectId&&t.database===this.database}}const jg=new Map;function Bg(t,e,n){if(!n)throw new ea(ta.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function $g(t,e,n,r){if(!0===e&&!0===r)throw new ea(ta.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function zg(t){if(!Fa.isDocumentKey(t))throw new ea(ta.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Hg(t){if(Fa.isDocumentKey(t))throw new ea(ta.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Gg(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const n=(e=t).constructor?e.constructor.name:null;return n?`a custom ${n} object`:"an object"}}var e;return"function"==typeof t?"a function":Yo()}function Kg(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ea(ta.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Gg(t);throw new ea(ta.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function Wg(t,e){if(e<=0)throw new ea(ta.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}class Qg{constructor(t){var e;if(void 0===t.host){if(void 0!==t.ssl)throw new ea(ta.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(e=t.ssl)||void 0===e||e;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new ea(ta.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,$g("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Yg{constructor(t,e){this._credentials=e,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Qg({}),this._settingsFrozen=!1,t instanceof Vg?this._databaseId=t:(this._app=t,this._databaseId=function(t){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new ea(ta.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vg(t.options.projectId)}(t))}get app(){if(!this._app)throw new ea(ta.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(t){if(this._settingsFrozen)throw new ea(ta.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Qg(t),void 0!==t.credentials&&(this._credentials=function(t){if(!t)return new ia;switch(t.type){case"gapi":const e=t.client;return Jo(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new ua(e,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new ea(ta.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const e=jg.get(t);e&&(Go("ComponentProvider","Removing Datastore"),jg.delete(t),e.terminate())}(this),Promise.resolve()}}class Jg{constructor(t,e,n){this.converter=e,this._key=n,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new tm(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Jg(this.firestore,t,this._key)}}class Xg{constructor(t,e,n){this.converter=e,this._query=n,this.type="query",this.firestore=t}withConverter(t){return new Xg(this.firestore,t,this._query)}}class tm extends Xg{constructor(t,e,n){super(t,e,Tu(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Jg(this.firestore,null,new Fa(t))}withConverter(t){return new tm(this.firestore,t,this._path)}}function em(t,e,...n){if(t=(0,Rn.m9)(t),Bg("collection","path",e),t instanceof Yg){const r=wa.fromString(e,...n);return Hg(r),new tm(t,null,r)}{if(!(t instanceof Jg||t instanceof tm))throw new ea(ta.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(wa.fromString(e,...n));return Hg(r),new tm(t.firestore,null,r)}}function nm(t,e,...n){if(t=(0,Rn.m9)(t),1===arguments.length&&(e=ha.I()),Bg("doc","path",e),t instanceof Yg){const r=wa.fromString(e,...n);return zg(r),new Jg(t,null,new Fa(r))}{if(!(t instanceof Jg||t instanceof tm))throw new ea(ta.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(wa.fromString(e,...n));return zg(r),new Jg(t.firestore,t instanceof tm?t.converter:null,new Fa(r))}}function rm(t,e){return t=(0,Rn.m9)(t),e=(0,Rn.m9)(e),(t instanceof Jg||t instanceof tm)&&(e instanceof Jg||e instanceof tm)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function im(t,e){return t=(0,Rn.m9)(t),e=(0,Rn.m9)(e),t instanceof Xg&&e instanceof Xg&&t.firestore===e.firestore&&Nu(t._query,e._query)&&t.converter===e.converter}class sm{constructor(){this.fa=Promise.resolve(),this.da=[],this.wa=!1,this._a=[],this.ma=null,this.ga=!1,this.ya=!1,this.pa=[],this.rr=new sf(this,"async_queue_retry"),this.Ta=()=>{const t=nf();t&&Go("AsyncQueue","Visibility state changed to "+t.visibilityState),this.rr.tr()};const t=nf();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Ta)}get isShuttingDown(){return this.wa}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Ea(),this.Ia(t)}enterRestrictedMode(t){if(!this.wa){this.wa=!0,this.ya=t||!1;const e=nf();e&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ta)}}enqueue(t){if(this.Ea(),this.wa)return new Promise(()=>{});const e=new na;return this.Ia(()=>this.wa&&this.ya?Promise.resolve():(t().then(e.resolve,e.reject),e.promise)).then(()=>e.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.da.push(t),this.Aa()))}Aa(){var t=this;return(0,xn.Z)(function*(){if(0!==t.da.length){try{yield t.da[0](),t.da.shift(),t.rr.reset()}catch(e){if(!Yl(e))throw e;Go("AsyncQueue","Operation failed with retryable error: "+e)}t.da.length>0&&t.rr.Xi(()=>t.Aa())}})()}Ia(t){const e=this.fa.then(()=>(this.ga=!0,t().catch(t=>{throw this.ma=t,this.ga=!1,Ko("INTERNAL UNHANDLED ERROR: ",function(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t}).then(t=>(this.ga=!1,t))));return this.fa=e,e}enqueueAfterDelay(t,e,n){this.Ea(),this.pa.indexOf(t)>-1&&(e=0);const r=Yf.createAndSchedule(this,t,e,n,t=>this.Ra(t));return this._a.push(r),r}Ea(){this.ma&&Yo()}verifyOperationInProgress(){}ba(){var t=this;return(0,xn.Z)(function*(){let e;do{e=t.fa,yield e}while(e!==t.fa)})()}Pa(t){for(const e of this._a)if(e.timerId===t)return!0;return!1}va(t){return this.ba().then(()=>{this._a.sort((t,e)=>t.targetTimeMs-e.targetTimeMs);for(const e of this._a)if(e.skipDelay(),"all"!==t&&e.timerId===t)break;return this.ba()})}Va(t){this.pa.push(t)}Ra(t){const e=this._a.indexOf(t);this._a.splice(e,1)}}function om(t){return function(t,e){if("object"!=typeof t||null===t)return!1;const n=t;for(const r of["next","error","complete"])if(r in n&&"function"==typeof n[r])return!0;return!1}(t)}class am{constructor(){this._progressObserver={},this._taskCompletionResolver=new na,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(t,e,n){this._progressObserver={next:t,error:e,complete:n}}catch(t){return this._taskCompletionResolver.promise.catch(t)}then(t,e){return this._taskCompletionResolver.promise.then(t,e)}_completeWith(t){this._updateProgress(t),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(t)}_failWith(t){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(t),this._taskCompletionResolver.reject(t)}_updateProgress(t){this._lastProgress=t,this._progressObserver.next&&this._progressObserver.next(t)}}class um extends Yg{constructor(t,e){super(t,e),this.type="firestore",this._queue=new sm,this._persistenceKey="name"in t?t.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||lm(this),this._firestoreClient.terminate()}}function cm(t){return t._firestoreClient||lm(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function lm(t){var e;const n=t._freezeSettings(),r=(i=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new qg(t._databaseId,i,t._persistenceKey,(s=n).host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,s.useFetchStreams));var i,s;t._firestoreClient=new Eg(t._credentials,t._queue,r)}function hm(t,e,n){const r=new na;return t.asyncQueue.enqueue((0,xn.Z)(function*(){try{yield Sg(t,n),yield Ag(t,e),r.resolve()}catch(s){if(!("FirebaseError"===(i=s).name?i.code===ta.FAILED_PRECONDITION||i.code===ta.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code))throw s;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),r.reject(s)}var i})).then(()=>r.promise)}function dm(t){if(t._initialized||t._terminated)throw new ea(ta.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class fm{constructor(...t){for(let e=0;e<t.length;++e)if(0===t[e].length)throw new ea(ta.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ea(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class pm{constructor(t){this._byteString=t}static fromBase64String(t){try{return new pm(Ia.fromBase64String(t))}catch(e){throw new ea(ta.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new pm(Ia.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}class gm{constructor(t){this._methodName=t}}class mm{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new ea(ta.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ea(ta.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return da(this._lat,t._lat)||da(this._long,t._long)}}const ym=/^__.*__$/;class vm{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return null!==this.fieldMask?new cc(t,this.data,this.fieldMask,e,this.fieldTransforms):new uc(t,this.data,e,this.fieldTransforms)}}class _m{constructor(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}toMutation(t,e){return new cc(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function bm(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Yo()}}class wm{constructor(t,e,n,r,i,s){this.settings=t,this.databaseId=e,this.N=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Sa(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Da(){return this.settings.Da}Ca(t){return new wm(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.N,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Na(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Ca({path:n,xa:!1});return r.ka(t),r}$a(t){var e;const n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Ca({path:n,xa:!1});return r.Sa(),r}Oa(t){return this.Ca({path:void 0,xa:!0})}Fa(t){return Vm(t,this.settings.methodName,this.settings.Ma||!1,this.path,this.settings.La)}contains(t){return void 0!==this.fieldMask.find(e=>t.isPrefixOf(e))||void 0!==this.fieldTransforms.find(e=>t.isPrefixOf(e.field))}Sa(){if(this.path)for(let t=0;t<this.path.length;t++)this.ka(this.path.get(t))}ka(t){if(0===t.length)throw this.Fa("Document fields must not be empty");if(bm(this.Da)&&ym.test(t))throw this.Fa('Document fields cannot begin and end with "__"')}}class Tm{constructor(t,e,n){this.databaseId=t,this.ignoreUndefinedProperties=e,this.N=n||rf(t)}Ba(t,e,n,r=!1){return new wm({Da:t,methodName:e,La:n,path:Ea.emptyPath(),xa:!1,Ma:r},this.databaseId,this.N,this.ignoreUndefinedProperties)}}function Em(t){const e=t._freezeSettings(),n=rf(t._databaseId);return new Tm(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Sm(t,e,n,r,i,s={}){const o=t.Ba(s.merge||s.mergeFields?2:0,e,n,i);Zm("Data must be an object, but it was:",o,r);const a=Lm(r,o);let u,c;if(s.merge)u=new Sa(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const t=[];for(const r of s.mergeFields){const i=Mm(e,r,n);if(!o.contains(i))throw new ea(ta.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);jm(t,i)||t.push(i)}u=new Sa(t),c=o.fieldTransforms.filter(t=>u.covers(t.field))}else u=null,c=o.fieldTransforms;return new vm(new Ya(a),u,c)}class Im extends gm{_toFieldTransform(t){if(2!==t.Da)throw t.Fa(1===t.Da?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Im}}function Am(t,e,n){return new wm({Da:3,La:e.settings.La,methodName:t._methodName,xa:n},e.databaseId,e.N,e.ignoreUndefinedProperties)}class Cm extends gm{_toFieldTransform(t){return new Ju(t.path,new $u)}isEqual(t){return t instanceof Cm}}class km extends gm{constructor(t,e){super(t),this.Ua=e}_toFieldTransform(t){const e=Am(this,t,!0),n=this.Ua.map(t=>Pm(t,e)),r=new zu(n);return new Ju(t.path,r)}isEqual(t){return this===t}}class xm extends gm{constructor(t,e){super(t),this.Ua=e}_toFieldTransform(t){const e=Am(this,t,!0),n=this.Ua.map(t=>Pm(t,e)),r=new Gu(n);return new Ju(t.path,r)}isEqual(t){return this===t}}class Om extends gm{constructor(t,e){super(t),this.qa=e}_toFieldTransform(t){const e=new Wu(t.N,Uu(t.N,this.qa));return new Ju(t.path,e)}isEqual(t){return this===t}}function Nm(t,e,n,r){const i=t.Ba(1,e,n);Zm("Data must be an object, but it was:",i,r);const s=[],o=Ya.empty();va(r,(t,r)=>{const a=qm(e,t,n);r=(0,Rn.m9)(r);const u=i.$a(a);if(r instanceof Im)s.push(a);else{const t=Pm(r,u);null!=t&&(s.push(a),o.set(a,t))}});const a=new Sa(s);return new _m(o,a,i.fieldTransforms)}function Dm(t,e,n,r,i,s){const o=t.Ba(1,e,n),a=[Mm(e,r,n)],u=[i];if(s.length%2!=0)throw new ea(ta.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)a.push(Mm(e,s[d])),u.push(s[d+1]);const c=[],l=Ya.empty();for(let d=a.length-1;d>=0;--d)if(!jm(c,a[d])){const t=a[d];let e=u[d];e=(0,Rn.m9)(e);const n=o.$a(t);if(e instanceof Im)c.push(t);else{const r=Pm(e,n);null!=r&&(c.push(t),l.set(t,r))}}const h=new Sa(c);return new _m(l,h,o.fieldTransforms)}function Rm(t,e,n,r=!1){return Pm(n,t.Ba(r?4:3,e))}function Pm(t,e){if(Fm(t=(0,Rn.m9)(t)))return Zm("Unsupported field value:",e,t),Lm(t,e);if(t instanceof gm)return function(t,e){if(!bm(e.Da))throw e.Fa(`${t._methodName}() can only be used with update() and set()`);if(!e.path)throw e.Fa(`${t._methodName}() is not currently supported inside arrays`);const n=t._toFieldTransform(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(void 0===t&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xa&&4!==e.Da)throw e.Fa("Nested arrays are not supported");return function(t,e){const n=[];let r=0;for(const i of t){let t=Pm(i,e.Oa(r));null==t&&(t={nullValue:"NULL_VALUE"}),n.push(t),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===(t=(0,Rn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Uu(e.N,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const n=ga.fromDate(t);return{timestampValue:Gc(e.N,n)}}if(t instanceof ga){const n=new ga(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Gc(e.N,n)}}if(t instanceof mm)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof pm)return{bytesValue:Kc(e.N,t._byteString)};if(t instanceof Jg){const n=e.databaseId,r=t.firestore._databaseId;if(!r.isEqual(n))throw e.Fa(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:Yc(t.firestore._databaseId||e.databaseId,t._key.path)}}throw e.Fa(`Unsupported field value: ${Gg(t)}`)}(t,e)}function Lm(t,e){const n={};return _a(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):va(t,(t,r)=>{const i=Pm(r,e.Na(t));null!=i&&(n[t]=i)}),{mapValue:{fields:n}}}function Fm(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof ga||t instanceof mm||t instanceof pm||t instanceof Jg||t instanceof gm)}function Zm(t,e,n){if(!Fm(n)||"object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=Gg(n);throw e.Fa("an object"===r?t+" a custom object":t+" "+r)}var r}function Mm(t,e,n){if((e=(0,Rn.m9)(e))instanceof fm)return e._internalPath;if("string"==typeof e)return qm(t,e);throw Vm("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}const Um=new RegExp("[~\\*/\\[\\]]");function qm(t,e,n){if(e.search(Um)>=0)throw Vm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new fm(...e.split("."))._internalPath}catch(r){throw Vm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Vm(t,e,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new ea(ta.INVALID_ARGUMENT,a+t+u)}function jm(t,e){return t.some(t=>t.isEqual(e))}class Bm{constructor(t,e,n,r,i){this._firestore=t,this._userDataWriter=e,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Jg(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const t=new $m(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(zm("DocumentSnapshot.get",t));if(null!==e)return this._userDataWriter.convertValue(e)}}}class $m extends Bm{data(){return super.data()}}function zm(t,e){return"string"==typeof e?qm(t,e):e instanceof fm?e._internalPath:e._delegate._internalPath}class Hm{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Gm extends Bm{constructor(t,e,n,r,i,s){super(t,e,n,r,s),this._firestore=t,this._firestoreImpl=t,this.metadata=i}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Km(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const n=this._document.data.field(zm("DocumentSnapshot.get",t));if(null!==n)return this._userDataWriter.convertValue(n,e.serverTimestamps)}}}class Km extends Gm{data(t={}){return super.data(t)}}class Wm{constructor(t,e,n,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new Hm(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const t=[];return this.forEach(e=>t.push(e)),t}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(t,e){this._snapshot.docs.forEach(n=>{t.call(e,new Km(this._firestore,this._userDataWriter,n.key,n,new Hm(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ea(ta.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(t,e){if(t._snapshot.oldDocs.isEmpty()){let e=0;return t._snapshot.docChanges.map(n=>({type:"added",doc:new Km(t._firestore,t._userDataWriter,n.doc.key,n.doc,new Hm(t._snapshot.mutatedKeys.has(n.doc.key),t._snapshot.fromCache),t.query.converter),oldIndex:-1,newIndex:e++}))}{let n=t._snapshot.oldDocs;return t._snapshot.docChanges.filter(t=>e||3!==t.type).map(e=>{const r=new Km(t._firestore,t._userDataWriter,e.doc.key,e.doc,new Hm(t._snapshot.mutatedKeys.has(e.doc.key),t._snapshot.fromCache),t.query.converter);let i=-1,s=-1;return 0!==e.type&&(i=n.indexOf(e.doc.key),n=n.delete(e.doc.key)),1!==e.type&&(n=n.add(e.doc),s=n.indexOf(e.doc.key)),{type:Qm(e.type),doc:r,oldIndex:i,newIndex:s}})}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Qm(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Yo()}}function Ym(t,e){return t instanceof Gm&&e instanceof Gm?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(null===t._document?null===e._document:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof Wm&&e instanceof Wm&&t._firestore===e._firestore&&im(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}function Jm(t){if(Su(t)&&0===t.explicitOrderBy.length)throw new ea(ta.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Xm{}function ty(t,...e){for(const n of e)t=n._apply(t);return t}class ey extends Xm{constructor(t,e,n){super(),this.Ka=t,this.ja=e,this.Qa=n,this.type="where"}_apply(t){const e=Em(t.firestore),n=function(t,e,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new ea(ta.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on FieldPath.documentId().`);if("in"===s||"not-in"===s){uy(o,s);const e=[];for(const n of o)e.push(ay(r,t,n));a={arrayValue:{values:e}}}else a=ay(r,t,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||uy(o,s),a=Rm(n,"where",o,"in"===s||"not-in"===s);const u=su.create(i,s,a);return function(t,e){if(e.v()){const n=Au(t);if(null!==n&&!n.isEqual(e.field))throw new ea(ta.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${e.field.toString()}'`);const r=Iu(t);null!==r&&cy(0,e.field,r)}const n=function(t,e){for(const n of t.filters)if(e.indexOf(n.op)>=0)return n.op;return null}(t,function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==n)throw new ea(ta.INVALID_ARGUMENT,n===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}(t,u),u}(t._query,0,e,t.firestore._databaseId,this.Ka,this.ja,this.Qa);return new Xg(t.firestore,t.converter,function(t,e){const n=t.filters.concat([e]);return new bu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}(t._query,n))}}class ny extends Xm{constructor(t,e){super(),this.Ka=t,this.Wa=e,this.type="orderBy"}_apply(t){const e=function(t,e,n){if(null!==t.startAt)throw new ea(ta.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new ea(ta.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new mu(e,n);return function(t,e){if(null===Iu(t)){const n=Au(t);null!==n&&cy(0,n,e.field)}}(t,r),r}(t._query,this.Ka,this.Wa);return new Xg(t.firestore,t.converter,function(t,e){const n=t.explicitOrderBy.concat([e]);return new bu(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}(t._query,e))}}class ry extends Xm{constructor(t,e,n){super(),this.type=t,this.Ga=e,this.za=n}_apply(t){return new Xg(t.firestore,t.converter,Ou(t._query,this.Ga,this.za))}}class iy extends Xm{constructor(t,e,n){super(),this.type=t,this.Ha=e,this.Ja=n}_apply(t){const e=oy(t,this.type,this.Ha,this.Ja);return new Xg(t.firestore,t.converter,(r=e,new bu((n=t._query).path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),n.limit,n.limitType,r,n.endAt)));var n,r}}class sy extends Xm{constructor(t,e,n){super(),this.type=t,this.Ha=e,this.Ja=n}_apply(t){const e=oy(t,this.type,this.Ha,this.Ja);return new Xg(t.firestore,t.converter,(r=e,new bu((n=t._query).path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),n.limit,n.limitType,n.startAt,r)));var n,r}}function oy(t,e,n,r){if(n[0]=(0,Rn.m9)(n[0]),n[0]instanceof Bm)return function(t,e,n,r,i){if(!r)throw new ea(ta.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${n}().`);const s=[];for(const o of ku(t))if(o.field.isKeyField())s.push($a(e,r.key));else{const t=r.data.field(o.field);if(Oa(t))throw new ea(ta.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+o.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===t){const t=o.field.canonicalString();throw new ea(ta.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${t}' (used as the orderBy) does not exist.`)}s.push(t)}return new pu(s,i)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Em(t.firestore);return function(t,e,n,r,i,s){const o=t.explicitOrderBy;if(i.length>o.length)throw new ea(ta.INVALID_ARGUMENT,`Too many arguments provided to ${r}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const a=[];for(let u=0;u<i.length;u++){const s=i[u];if(o[u].field.isKeyField()){if("string"!=typeof s)throw new ea(ta.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${r}(), but got a ${typeof s}`);if(!Cu(t)&&-1!==s.indexOf("/"))throw new ea(ta.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to ${r}() must be a plain document ID, but '${s}' contains a slash.`);const n=t.path.child(wa.fromString(s));if(!Fa.isDocumentKey(n))throw new ea(ta.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to ${r}() must result in a valid document path, but '${n}' is not because it contains an odd number of segments.`);const i=new Fa(n);a.push($a(e,i))}else{const t=Rm(n,r,s);a.push(t)}}return new pu(a,s)}(t._query,t.firestore._databaseId,i,e,n,r)}}function ay(t,e,n){if("string"==typeof(n=(0,Rn.m9)(n))){if(""===n)throw new ea(ta.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Cu(e)&&-1!==n.indexOf("/"))throw new ea(ta.INVALID_ARGUMENT,`Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(wa.fromString(n));if(!Fa.isDocumentKey(r))throw new ea(ta.INVALID_ARGUMENT,`Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return $a(t,new Fa(r))}if(n instanceof Jg)return $a(t,n._key);throw new ea(ta.INVALID_ARGUMENT,`Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: ${Gg(n)}.`)}function uy(t,e){if(!Array.isArray(t)||0===t.length)throw new ea(ta.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(t.length>10)throw new ea(ta.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function cy(t,e,n){if(!n.isEqual(e))throw new ea(ta.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class ly{convertValue(t,e="none"){switch(Za(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ka(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(xa(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 10:return this.convertObject(t.mapValue,e);default:throw Yo()}}convertObject(t,e){const n={};return va(t.fields,(t,r)=>{n[t]=this.convertValue(r,e)}),n}convertGeoPoint(t){return new mm(ka(t.latitude),ka(t.longitude))}convertArray(t,e){return(t.values||[]).map(t=>this.convertValue(t,e))}convertServerTimestamp(t,e){switch(e){case"previous":const n=Na(t);return null==n?null:this.convertValue(n,e);case"estimate":return this.convertTimestamp(Da(t));default:return null}}convertTimestamp(t){const e=Ca(t);return new ga(e.seconds,e.nanos)}convertDocumentKey(t,e){const n=wa.fromString(t);Jo(Tl(n));const r=new Vg(n.get(1),n.get(3)),i=new Fa(n.popFirst(5));return r.isEqual(e)||Ko(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),i}}function hy(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class dy extends ly{constructor(t){super(),this.firestore=t}convertBytes(t){return new pm(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Jg(this.firestore,null,e)}}class fy{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Em(t)}set(t,e,n){this._verifyNotCommitted();const r=py(t,this._firestore),i=hy(r.converter,e,n),s=Sm(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,tc.none())),this}update(t,e,n,...r){this._verifyNotCommitted();const i=py(t,this._firestore);let s;return s="string"==typeof(e=(0,Rn.m9)(e))||e instanceof fm?Dm(this._dataReader,"WriteBatch.update",i._key,e,n,r):Nm(this._dataReader,"WriteBatch.update",i._key,e),this._mutations.push(s.toMutation(i._key,tc.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=py(t,this._firestore);return this._mutations=this._mutations.concat(new fc(e._key,tc.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ea(ta.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function py(t,e){if((t=(0,Rn.m9)(t)).firestore!==e)throw new ea(ta.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}class gy extends ly{constructor(t){super(),this.firestore=t}convertBytes(t){return new pm(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Jg(this.firestore,null,e)}}function my(t,e,n){t=Kg(t,Jg);const r=Kg(t.firestore,um),i=hy(t.converter,e,n);return _y(r,[Sm(Em(r),"setDoc",t._key,i,null!==t.converter,n).toMutation(t._key,tc.none())])}function yy(t,e,n,...r){t=Kg(t,Jg);const i=Kg(t.firestore,um),s=Em(i);let o;return o="string"==typeof(e=(0,Rn.m9)(e))||e instanceof fm?Dm(s,"updateDoc",t._key,e,n,r):Nm(s,"updateDoc",t._key,e),_y(i,[o.toMutation(t._key,tc.exists(!0))])}function vy(t,...e){var n,r,i;t=(0,Rn.m9)(t);let s={includeMetadataChanges:!1},o=0;"object"!=typeof e[o]||om(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(om(e[o])){const t=e[o];e[o]=null===(n=t.next)||void 0===n?void 0:n.bind(t),e[o+1]=null===(r=t.error)||void 0===r?void 0:r.bind(t),e[o+2]=null===(i=t.complete)||void 0===i?void 0:i.bind(t)}let u,c,l;if(t instanceof Jg)c=Kg(t.firestore,um),l=Tu(t._key.path),u={next:n=>{e[o]&&e[o](by(c,t,n))},error:e[o+1],complete:e[o+2]};else{const n=Kg(t,Xg);c=Kg(n.firestore,um),l=n._query;const r=new gy(c);u={next:t=>{e[o]&&e[o](new Wm(c,r,n,t))},error:e[o+1],complete:e[o+2]},Jm(t._query)}return function(t,e,n,r){const i=new _g(r),s=new hp(e,i,n);return t.asyncQueue.enqueueAndForget((0,xn.Z)(function*(){return ip(yield Fg(t),s)})),()=>{i.Xo(),t.asyncQueue.enqueueAndForget((0,xn.Z)(function*(){return op(yield Fg(t),s)}))}}(cm(c),l,a,u)}function _y(t,e){return function(t,e){const n=new na;return t.asyncQueue.enqueueAndForget((0,xn.Z)(function*(){return function(t,e,n){return kp.apply(this,arguments)}(yield Lg(t),e,n)})),n.promise}(cm(t),e)}function by(t,e,n){const r=n.docs.get(e._key),i=new gy(t);return new Gm(t,i,e._key,r,new Hm(n.hasPendingWrites,n.fromCache),e.converter)}class wy extends class{constructor(t,e){this._firestore=t,this._transaction=e,this._dataReader=Em(t)}get(t){const e=py(t,this._firestore),n=new dy(this._firestore);return this._transaction.lookup([e._key]).then(t=>{if(!t||1!==t.length)return Yo();const r=t[0];if(r.isFoundDocument())return new Bm(this._firestore,n,r.key,r,e.converter);if(r.isNoDocument())return new Bm(this._firestore,n,e._key,null,e.converter);throw Yo()})}set(t,e,n){const r=py(t,this._firestore),i=hy(r.converter,e,n),s=Sm(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this}update(t,e,n,...r){const i=py(t,this._firestore);let s;return s="string"==typeof(e=(0,Rn.m9)(e))||e instanceof fm?Dm(this._dataReader,"Transaction.update",i._key,e,n,r):Nm(this._dataReader,"Transaction.update",i._key,e),this._transaction.update(i._key,s),this}delete(t){const e=py(t,this._firestore);return this._transaction.delete(e._key),this}}{constructor(t,e){super(t,e),this._firestore=t}get(t){const e=py(t,this._firestore),n=new gy(this._firestore);return super.get(t).then(t=>new Gm(this._firestore,n,e._key,t._document,new Hm(!1,!1),e.converter))}}function Ty(t,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new ea("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}function Ey(){if("undefined"==typeof Uint8Array)throw new ea("unimplemented","Uint8Arrays are not available in this environment.")}function Sy(){if("undefined"==typeof atob)throw new ea("unimplemented","Blobs are unavailable in Firestore in this environment.")}(function(t){$o=t})(On.SDK_VERSION),(0,On._registerComponent)(new Nn.wA("firestore",(t,{options:e})=>{const n=t.getProvider("app").getImmediate(),r=new um(n,new oa(t.getProvider("auth-internal")));return e=Object.assign({useFetchStreams:!0},e),r._setSettings(e),r},"PUBLIC")),(0,On.registerVersion)(jo,"3.1.1",void 0),(0,On.registerVersion)(jo,"3.1.1","esm2017");class Iy{constructor(t){this._delegate=t}static fromBase64String(t){return Sy(),new Iy(pm.fromBase64String(t))}static fromUint8Array(t){return Ey(),new Iy(pm.fromUint8Array(t))}toBase64(){return Sy(),this._delegate.toBase64()}toUint8Array(){return Ey(),this._delegate.toUint8Array()}isEqual(t){return this._delegate.isEqual(t._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function Ay(t){return function(t,e){if("object"!=typeof t||null===t)return!1;const n=t;for(const r of["next","error","complete"])if(r in n&&"function"==typeof n[r])return!0;return!1}(t)}class Cy{enableIndexedDbPersistence(t,e){return function(t,e){dm(t=Kg(t,um));const n=cm(t),r=t._freezeSettings(),i=new yg;return hm(n,i,new gg(i,r.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(t._delegate,{forceOwnership:e})}enableMultiTabIndexedDbPersistence(t){return function(t){dm(t=Kg(t,um));const e=cm(t),n=t._freezeSettings(),r=new yg;return hm(e,r,new mg(r,n.cacheSizeBytes))}(t._delegate)}clearIndexedDbPersistence(t){return function(t){if(t._initialized&&!t._terminated)throw new ea(ta.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new na;return t._queue.enqueueAndForgetEvenWhileRestricted((0,xn.Z)(function*(){try{yield(n=(0,xn.Z)(function*(t){if(!Kl.bt())return Promise.resolve();const e=t+"main";yield Kl.delete(e)}),function(t){return n.apply(this,arguments)})(od(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}var n})),e.promise}(t._delegate)}}class ky{constructor(t,e,n){this._delegate=e,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},t instanceof Vg||(this._appCompat=t)}get _databaseId(){return this._delegate._databaseId}settings(t){const e=this._delegate._getSettings();!t.merge&&e.host!==t.host&&Wo("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),t.merge&&delete(t=Object.assign(Object.assign({},e),t)).merge,this._delegate._setSettings(t)}useEmulator(t,e,n={}){!function(t,e,n,r={}){var i;const s=(t=Kg(t,Yg))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==e&&Wo("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${n}`,ssl:!1})),r.mockUserToken){let e,n;if("string"==typeof r.mockUserToken)e=r.mockUserToken,n=Bo.MOCK_USER;else{e=(0,Rn.Sg)(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new ea(ta.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new Bo(s)}t._credentials=new sa(new ra(e,n))}}(this._delegate,t,e,n)}enableNetwork(){return function(t){return function(t){return t.asyncQueue.enqueue((0,xn.Z)(function*(){const e=yield Dg(t),n=yield Pg(t);return e.setNetworkEnabled(!0),function(t){const e=Xo(t);return e.Kr.delete(0),df(e)}(n)}))}(cm(t=Kg(t,um)))}(this._delegate)}disableNetwork(){return function(t){return function(t){return t.asyncQueue.enqueue((0,xn.Z)(function*(){const e=yield Dg(t),n=yield Pg(t);return e.setNetworkEnabled(!1),(r=(0,xn.Z)(function*(t){const e=Xo(t);e.Kr.add(0),yield pf(e),e.Wr.set("Offline")}),function(t){return r.apply(this,arguments)})(n);var r}))}(cm(t=Kg(t,um)))}(this._delegate)}enablePersistence(t){let e=!1,n=!1;return t&&(e=!!t.synchronizeTabs,n=!!t.experimentalForceOwningTab,$g("synchronizeTabs",e,"experimentalForceOwningTab",n)),e?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(t){return function(t){const e=new na;return t.asyncQueue.enqueueAndForget((0,xn.Z)(function*(){return function(t,e){return Mp.apply(this,arguments)}(yield Lg(t),e)})),e.promise}(cm(t=Kg(t,um)))}(this._delegate)}onSnapshotsInSync(t){return function(t,e){return function(t,e){const n=new _g(e);return t.asyncQueue.enqueueAndForget((0,xn.Z)(function*(){return e=yield Fg(t),r=n,Xo(e).Zr.add(r),void r.next();var e,r})),()=>{n.Xo(),t.asyncQueue.enqueueAndForget((0,xn.Z)(function*(){return e=yield Fg(t),r=n,void Xo(e).Zr.delete(r);var e,r}))}}(cm(t=Kg(t,um)),om(e)?e:{next:e})}(this._delegate,t)}get app(){if(!this._appCompat)throw new ea("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(t){try{return new jy(this,em(this._delegate,t))}catch(e){throw Py(e,"collection()","Firestore.collection()")}}doc(t){try{return new Ry(this,nm(this._delegate,t))}catch(e){throw Py(e,"doc()","Firestore.doc()")}}collectionGroup(t){try{return new Uy(this,function(t,e){if(t=Kg(t,Yg),Bg("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new ea(ta.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Xg(t,null,(n=e,new bu(wa.emptyPath(),n)));var n}(this._delegate,t))}catch(e){throw Py(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(t){return function(t,e){return function(t,e){const n=new na;return t.asyncQueue.enqueueAndForget((0,xn.Z)(function*(){const r=yield(i=t,Og(i).then(t=>t.datastore));var i;new Tg(t.asyncQueue,r,e,n).run()})),n.promise}(cm(t),n=>e(new wy(t,n)))}(this._delegate,e=>t(new Oy(this,e)))}batch(){return cm(this._delegate),new Ny(new fy(this._delegate,t=>_y(this._delegate,t)))}loadBundle(t){return function(t,e){const n=cm(t=Kg(t,um)),r=new am;return function(t,e,n,r){const i=function(t,e){let n;return n="string"==typeof t?(new TextEncoder).encode(t):t,r=function(t,e){if(t instanceof Uint8Array)return vg(t,e);if(t instanceof ArrayBuffer)return vg(new Uint8Array(t),e);if(t instanceof ReadableStream)return t.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),new bg(r,e);var r}(n,rf(e));t.asyncQueue.enqueueAndForget((0,xn.Z)(function*(){!function(t,e,n){const r=Xo(t);var i;(i=(0,xn.Z)(function*(t,e,n){try{const i=yield e.getMetadata();if(yield function(t,e){const n=Xo(t),r=Qc(e.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",t=>n.Je.getBundleMetadata(t,e.id)).then(t=>!!t&&t.createTime.compareTo(r)>=0)}(t.localStore,i))return yield e.close(),void n._completeWith((r=i,{taskState:"Success",documentsLoaded:r.totalDocuments,bytesLoaded:r.totalBytes,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}));n._updateProgress(gp(i));const s=new pp(i,t.localStore,e.N);let o=yield e.Qo();for(;o;){const t=yield s.fo(o);t&&n._updateProgress(t),o=yield e.Qo()}const a=yield s.complete();yield Hp(t,a.En,void 0),yield function(t,e){const n=Xo(t);return n.persistence.runTransaction("Save bundle","readwrite",t=>n.Je.saveBundleMetadata(t,e))}(t.localStore,i),n._completeWith(a.progress)}catch(i){Wo("SyncEngine",`Loading bundle failed with ${i}`),n._failWith(i)}var r}),function(t,e,n){return i.apply(this,arguments)})(r,e,n).then(()=>{r.sharedClientState.notifyBundleLoaded()})}(yield Lg(t),i,r)}))}(n,t._databaseId,e,r),r}(this._delegate,t)}namedQuery(t){return function(t,e){return function(t,e){return t.asyncQueue.enqueue((0,xn.Z)(function*(){return function(t,e){const n=Xo(t);return n.persistence.runTransaction("Get named query","readonly",t=>n.Je.getNamedQuery(t,e))}(yield Rg(t),e)}))}(cm(t=Kg(t,um)),e).then(e=>e?new Xg(t,null,e.query):null)}(this._delegate,t).then(t=>t?new Uy(this,t):null)}}class xy extends ly{constructor(t){super(),this.firestore=t}convertBytes(t){return new Iy(new pm(t))}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return Ry.forKey(e,this.firestore,null)}}class Oy{constructor(t,e){this._firestore=t,this._delegate=e,this._userDataWriter=new xy(t)}get(t){const e=By(t);return this._delegate.get(e).then(t=>new Zy(this._firestore,new Gm(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,e.converter)))}set(t,e,n){const r=By(t);return n?(Ty("Transaction.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this}update(t,e,n,...r){const i=By(t);return 2===arguments.length?this._delegate.update(i,e):this._delegate.update(i,e,n,...r),this}delete(t){const e=By(t);return this._delegate.delete(e),this}}class Ny{constructor(t){this._delegate=t}set(t,e,n){const r=By(t);return n?(Ty("WriteBatch.set",n),this._delegate.set(r,e,n)):this._delegate.set(r,e),this}update(t,e,n,...r){const i=By(t);return 2===arguments.length?this._delegate.update(i,e):this._delegate.update(i,e,n,...r),this}delete(t){const e=By(t);return this._delegate.delete(e),this}commit(){return this._delegate.commit()}}class Dy{constructor(t,e,n){this._firestore=t,this._userDataWriter=e,this._delegate=n}fromFirestore(t,e){const n=new Km(this._firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,null);return this._delegate.fromFirestore(new My(this._firestore,n),null!=e?e:{})}toFirestore(t,e){return e?this._delegate.toFirestore(t,e):this._delegate.toFirestore(t)}static getInstance(t,e){const n=Dy.INSTANCES;let r=n.get(t);r||(r=new WeakMap,n.set(t,r));let i=r.get(e);return i||(i=new Dy(t,new xy(t),e),r.set(e,i)),i}}Dy.INSTANCES=new WeakMap;class Ry{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new xy(t)}static forPath(t,e,n){if(t.length%2!=0)throw new ea("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${t.canonicalString()} has ${t.length}`);return new Ry(e,new Jg(e._delegate,n,new Fa(t)))}static forKey(t,e,n){return new Ry(e,new Jg(e._delegate,n,t))}get id(){return this._delegate.id}get parent(){return new jy(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(t){try{return new jy(this.firestore,em(this._delegate,t))}catch(e){throw Py(e,"collection()","DocumentReference.collection()")}}isEqual(t){return(t=(0,Rn.m9)(t))instanceof Jg&&rm(this._delegate,t)}set(t,e){e=Ty("DocumentReference.set",e);try{return e?my(this._delegate,t,e):my(this._delegate,t)}catch(n){throw Py(n,"setDoc()","DocumentReference.set()")}}update(t,e,...n){try{return 1===arguments.length?yy(this._delegate,t):yy(this._delegate,t,e,...n)}catch(r){throw Py(r,"updateDoc()","DocumentReference.update()")}}delete(){return function(t){return _y(Kg(t.firestore,um),[new fc(t._key,tc.none())])}(this._delegate)}onSnapshot(...t){const e=Ly(t),n=Fy(t,t=>new Zy(this.firestore,new Gm(this.firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,this._delegate.converter)));return vy(this._delegate,e,n)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function(t){t=Kg(t,Jg);const e=Kg(t.firestore,um),n=cm(e),r=new gy(e);return function(t,e){const n=new na;return t.asyncQueue.enqueueAndForget((0,xn.Z)(function*(){return(r=(0,xn.Z)(function*(t,e,n){try{const r=yield function(t,e){const n=Xo(t);return n.persistence.runTransaction("read document","readonly",t=>n.Qn.An(t,e))}(t,e);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new ea(ta.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(r){const t=Jf(r,`Failed to get document '${e} from cache`);n.reject(t)}}),function(t,e,n){return r.apply(this,arguments)})(yield Rg(t),e,n);var r})),n.promise}(n,t._key).then(n=>new Gm(e,r,t._key,n,new Hm(null!==n&&n.hasLocalMutations,!0),t.converter))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Kg(t,Jg);const e=Kg(t.firestore,um);return Mg(cm(e),t._key,{source:"server"}).then(n=>by(e,t,n))}(this._delegate):function(t){t=Kg(t,Jg);const e=Kg(t.firestore,um);return Mg(cm(e),t._key).then(n=>by(e,t,n))}(this._delegate),e.then(t=>new Zy(this.firestore,new Gm(this.firestore._delegate,this._userDataWriter,t._key,t._document,t.metadata,this._delegate.converter)))}withConverter(t){return new Ry(this.firestore,this._delegate.withConverter(t?Dy.getInstance(this.firestore,t):null))}}function Py(t,e,n){return t.message=t.message.replace(e,n),t}function Ly(t){for(const e of t)if("object"==typeof e&&!Ay(e))return e;return{}}function Fy(t,e){var n,r;let i;return i=Ay(t[0])?t[0]:Ay(t[1])?t[1]:"function"==typeof t[0]?{next:t[0],error:t[1],complete:t[2]}:{next:t[1],error:t[2],complete:t[3]},{next:t=>{i.next&&i.next(e(t))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class Zy{constructor(t,e){this._firestore=t,this._delegate=e}get ref(){return new Ry(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(t){return this._delegate.data(t)}get(t,e){return this._delegate.get(t,e)}isEqual(t){return Ym(this._delegate,t._delegate)}}class My extends Zy{data(t){const e=this._delegate.data(t);return function(t,e){t||Yo()}(void 0!==e),e}}class Uy{constructor(t,e){this.firestore=t,this._delegate=e,this._userDataWriter=new xy(t)}where(t,e,n){try{return new Uy(this.firestore,ty(this._delegate,function(t,e,n){const r=e,i=zm("where",t);return new ey(i,r,n)}(t,e,n)))}catch(r){throw Py(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(t,e){try{return new Uy(this.firestore,ty(this._delegate,function(t,e="asc"){const n=e,r=zm("orderBy",t);return new ny(r,n)}(t,e)))}catch(n){throw Py(n,/(orderBy|where)\(\)/,"Query.$1()")}}limit(t){try{return new Uy(this.firestore,ty(this._delegate,function(t){return Wg("limit",t),new ry("limit",t,"F")}(t)))}catch(e){throw Py(e,"limit()","Query.limit()")}}limitToLast(t){try{return new Uy(this.firestore,ty(this._delegate,function(t){return Wg("limitToLast",t),new ry("limitToLast",t,"L")}(t)))}catch(e){throw Py(e,"limitToLast()","Query.limitToLast()")}}startAt(...t){try{return new Uy(this.firestore,ty(this._delegate,function(...t){return new iy("startAt",t,!0)}(...t)))}catch(e){throw Py(e,"startAt()","Query.startAt()")}}startAfter(...t){try{return new Uy(this.firestore,ty(this._delegate,function(...t){return new iy("startAfter",t,!1)}(...t)))}catch(e){throw Py(e,"startAfter()","Query.startAfter()")}}endBefore(...t){try{return new Uy(this.firestore,ty(this._delegate,function(...t){return new sy("endBefore",t,!0)}(...t)))}catch(e){throw Py(e,"endBefore()","Query.endBefore()")}}endAt(...t){try{return new Uy(this.firestore,ty(this._delegate,function(...t){return new sy("endAt",t,!1)}(...t)))}catch(e){throw Py(e,"endAt()","Query.endAt()")}}isEqual(t){return im(this._delegate,t._delegate)}get(t){let e;return e="cache"===(null==t?void 0:t.source)?function(t){t=Kg(t,Xg);const e=Kg(t.firestore,um),n=cm(e),r=new gy(e);return function(t,e){const n=new na;return t.asyncQueue.enqueueAndForget((0,xn.Z)(function*(){return(r=(0,xn.Z)(function*(t,e,n){try{const r=yield Ed(t,e,!0),i=new vp(e,r.Gn),s=i.Io(r.documents),o=i.applyChanges(s,!1);n.resolve(o.snapshot)}catch(r){const t=Jf(r,`Failed to execute query '${e} against cache`);n.reject(t)}}),function(t,e,n){return r.apply(this,arguments)})(yield Rg(t),e,n);var r})),n.promise}(n,t._query).then(n=>new Wm(e,r,t,n))}(this._delegate):"server"===(null==t?void 0:t.source)?function(t){t=Kg(t,Xg);const e=Kg(t.firestore,um),n=cm(e),r=new gy(e);return Ug(n,t._query,{source:"server"}).then(n=>new Wm(e,r,t,n))}(this._delegate):function(t){t=Kg(t,Xg);const e=Kg(t.firestore,um),n=cm(e),r=new gy(e);return Jm(t._query),Ug(n,t._query).then(n=>new Wm(e,r,t,n))}(this._delegate),e.then(t=>new Vy(this.firestore,new Wm(this.firestore._delegate,this._userDataWriter,this._delegate,t._snapshot)))}onSnapshot(...t){const e=Ly(t),n=Fy(t,t=>new Vy(this.firestore,new Wm(this.firestore._delegate,this._userDataWriter,this._delegate,t._snapshot)));return vy(this._delegate,e,n)}withConverter(t){return new Uy(this.firestore,this._delegate.withConverter(t?Dy.getInstance(this.firestore,t):null))}}class qy{constructor(t,e){this._firestore=t,this._delegate=e}get type(){return this._delegate.type}get doc(){return new My(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Vy{constructor(t,e){this._firestore=t,this._delegate=e}get query(){return new Uy(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(t=>new My(this._firestore,t))}docChanges(t){return this._delegate.docChanges(t).map(t=>new qy(this._firestore,t))}forEach(t,e){this._delegate.forEach(n=>{t.call(e,new My(this._firestore,n))})}isEqual(t){return Ym(this._delegate,t._delegate)}}class jy extends Uy{constructor(t,e){super(t,e),this.firestore=t,this._delegate=e}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const t=this._delegate.parent;return t?new Ry(this.firestore,t):null}doc(t){try{return new Ry(this.firestore,void 0===t?nm(this._delegate):nm(this._delegate,t))}catch(e){throw Py(e,"doc()","CollectionReference.doc()")}}add(t){return function(t,e){const n=Kg(t.firestore,um),r=nm(t),i=hy(t.converter,e);return _y(n,[Sm(Em(t.firestore),"addDoc",r._key,i,null!==t.converter,{}).toMutation(r._key,tc.exists(!1))]).then(()=>r)}(this._delegate,t).then(t=>new Ry(this.firestore,t))}isEqual(t){return rm(this._delegate,t._delegate)}withConverter(t){return new jy(this.firestore,this._delegate.withConverter(t?Dy.getInstance(this.firestore,t):null))}}function By(t){return Kg(t,Jg)}class $y{constructor(...t){this._delegate=new fm(...t)}static documentId(){return new $y(Ea.keyField().canonicalString())}isEqual(t){return(t=(0,Rn.m9)(t))instanceof fm&&this._delegate._internalPath.isEqual(t._internalPath)}}class zy{constructor(t){this._delegate=t}static serverTimestamp(){const t=new Cm("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new zy(t)}static delete(){const t=new Im("deleteField");return t._methodName="FieldValue.delete",new zy(t)}static arrayUnion(...t){const e=function(...t){return new km("arrayUnion",t)}(...t);return e._methodName="FieldValue.arrayUnion",new zy(e)}static arrayRemove(...t){const e=function(...t){return new xm("arrayRemove",t)}(...t);return e._methodName="FieldValue.arrayRemove",new zy(e)}static increment(t){const e=function(t){return new Om("increment",t)}(t);return e._methodName="FieldValue.increment",new zy(e)}isEqual(t){return this._delegate.isEqual(t._delegate)}}const Hy={Firestore:ky,GeoPoint:mm,Timestamp:ga,Blob:Iy,Transaction:Oy,WriteBatch:Ny,DocumentReference:Ry,DocumentSnapshot:Zy,Query:Uy,QueryDocumentSnapshot:My,QuerySnapshot:Vy,CollectionReference:jy,FieldPath:$y,FieldValue:zy,setLogLevel:function(t){!function(t){zo.setLogLevel(t)}(t)},CACHE_SIZE_UNLIMITED:-1};!function(t){(function(t,e){t.INTERNAL.registerComponent(new Nn.wA("firestore-compat",t=>((t,e)=>new ky(t,e,new Cy))(t.getProvider("app-compat").getImmediate(),t.getProvider("firestore").getImmediate()),"PUBLIC").setServiceProps(Object.assign({},Hy)))})(t),t.registerVersion("@firebase/firestore-compat","0.1.4")}(kn.Z);var Gy=n(9765),Ky=n(6682),Wy=n(309),Qy=n(5345);function Yy(t,e){return"function"==typeof e?n=>n.pipe(Yy((n,r)=>(0,Nt.D)(t(n,r)).pipe((0,Pt.U)((t,i)=>e(n,t,r,i))))):e=>e.lift(new Jy(t))}class Jy{constructor(t){this.project=t}call(t,e){return e.subscribe(new Xy(t,this.project))}}class Xy extends Qy.Ds{constructor(t,e){super(t),this.project=e,this.index=0}_next(t){let e;const n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)}_innerSub(t){const e=this.innerSubscription;e&&e.unsubscribe();const n=new Qy.IY(this),r=this.destination;r.add(n),this.innerSubscription=(0,Qy.ft)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:t}=this;(!t||t.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(t){this.destination.next(t)}}var tv=n(7771),ev=n(5319),nv=n(7971),rv=n(8858);class iv extends Gy.xQ{constructor(t=Number.POSITIVE_INFINITY,e=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=t<1?1:t,this._windowTime=e<1?1:e,e===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(t){if(!this.isStopped){const e=this._events;e.push(t),e.length>this._bufferSize&&e.shift()}super.next(t)}nextTimeWindow(t){this.isStopped||(this._events.push(new sv(this._getNow(),t)),this._trimBufferThenGetEvents()),super.next(t)}_subscribe(t){const e=this._infiniteTimeWindow,n=e?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let s;if(this.closed)throw new nv.N;if(this.isStopped||this.hasError?s=ev.w.EMPTY:(this.observers.push(t),s=new rv.W(this,t)),r&&t.add(t=new Wy.ht(t,r)),e)for(let o=0;o<i&&!t.closed;o++)t.next(n[o]);else for(let o=0;o<i&&!t.closed;o++)t.next(n[o].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),s}_getNow(){return(this.scheduler||tv.c).now()}_trimBufferThenGetEvents(){const t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let s=0;for(;s<i&&!(t-r[s].time<n);)s++;return i>e&&(s=Math.max(s,i-e)),s>0&&r.splice(0,s),r}}class sv{constructor(t,e){this.time=t,this.value=e}}function ov(t,e,n){let r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},t=>t.lift(function({bufferSize:t=Number.POSITIVE_INFINITY,windowTime:e=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,s,o=0,a=!1,u=!1;return function(c){let l;o++,!i||a?(a=!1,i=new iv(t,e,r),l=i.subscribe(this),s=c.subscribe({next(t){i.next(t)},error(t){a=!0,i.error(t)},complete(){u=!0,s=void 0,i.complete()}}),u&&(s=void 0)):l=i.subscribe(this),this.add(()=>{o--,l.unsubscribe(),l=void 0,s&&!u&&n&&0===o&&(s.unsubscribe(),s=void 0,i=void 0)})}}(r))}const av=(()=>{function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t})(),uv=(()=>{function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t})();var cv=n(9193);function lv(t){return e=>0===t?(0,cv.c)():e.lift(new hv(t))}class hv{constructor(t){if(this.total=t,this.total<0)throw new uv}call(t,e){return e.subscribe(new dv(t,this.total))}}class dv extends pn.L{constructor(t,e){super(t),this.total=e,this.count=0}_next(t){const e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))}}function fv(t=null){return e=>e.lift(new pv(t))}class pv{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new gv(t,this.defaultValue))}}class gv extends pn.L{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function mv(t=_v){return e=>e.lift(new yv(t))}class yv{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new vv(t,this.errorFactory))}}class vv extends pn.L{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let e;try{e=this.errorFactory()}catch(t){e=t}this.destination.error(e)}}}function _v(){return new av}var bv=n(4487);function wv(t,e){const n=arguments.length>=2;return r=>r.pipe(t?En((e,n)=>t(e,n,r)):bv.y,lv(1),n?fv(e):mv(()=>new av))}function Tv(t,e){return e?Yy(()=>t,e):Yy(()=>t)}var Ev=n(3101);n(2329);const Sv=new Map,Iv={activated:!1,tokenObservers:[]},Av={initialized:!1,enabled:!1};function Cv(t){return Sv.get(t)||Iv}function kv(t,e){Sv.set(t,e)}function xv(){return Av}class Ov{constructor(t,e,n,r,i){if(this.operation=t,this.retryPolicy=e,this.getWaitDuration=n,this.lowerBound=r,this.upperBound=i,this.pending=null,this.nextErrorWaitInterval=r,r>i)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(t){var e=this;return(0,xn.Z)(function*(){e.stop();try{e.pending=new Rn.BH,yield function(t){return new Promise(e=>{setTimeout(e,t)})}(e.getNextRun(t)),e.pending.resolve(),yield e.pending.promise,e.pending=new Rn.BH,yield e.operation(),e.pending.resolve(),yield e.pending.promise,e.process(!0).catch(()=>{})}catch(n){e.retryPolicy(n)?e.process(!1).catch(()=>{}):e.stop()}})()}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Nv=new Rn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error."});function Dv(t){if(!Cv(t).activated)throw Nv.create("use-before-activation",{appName:t.name})}function Rv(t,e){return Pv.apply(this,arguments)}function Pv(){return(Pv=(0,xn.Z)(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});i&&(r["X-Firebase-Client"]=i.getPlatformInfoString());const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(h){throw Nv.create("fetch-network-error",{originalErrorMessage:h.message})}if(200!==o.status)throw Nv.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(h){throw Nv.create("fetch-parse-error",{originalErrorMessage:h.message})}const u=a.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Nv.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const c=1e3*Number(u[1]),l=Date.now();return{token:a.attestationToken,expireTimeMillis:l+c,issuedAtTimeMillis:l}})).apply(this,arguments)}function Lv(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${n}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const Fv="firebase-app-check-store";let Zv=null;function Mv(){return Zv||(Zv=new Promise((t,e)=>{try{const n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=e=>{t(e.target.result)},n.onerror=t=>{var n;e(Nv.create("storage-open",{originalErrorMessage:null===(n=t.target.error)||void 0===n?void 0:n.message}))},n.onupgradeneeded=t=>{const e=t.target.result;switch(t.oldVersion){case 0:e.createObjectStore(Fv,{keyPath:"compositeKey"})}}}catch(n){e(Nv.create("storage-open",{originalErrorMessage:n.message}))}}),Zv)}function Uv(){return(Uv=(0,xn.Z)(function*(t,e){const n=(yield Mv()).transaction(Fv,"readwrite"),r=n.objectStore(Fv).put({compositeKey:t,value:e});return new Promise((t,e)=>{r.onsuccess=e=>{t()},n.onerror=t=>{var n;e(Nv.create("storage-set",{originalErrorMessage:null===(n=t.target.error)||void 0===n?void 0:n.message}))}})})).apply(this,arguments)}const qv=new Dn.Yd("@firebase/app-check");function Vv(t,e){return(0,Rn.hl)()?function(t,e){return function(t,e){return Uv.apply(this,arguments)}(function(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(t=>{qv.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function jv(){return xv().enabled}function Bv(){return $v.apply(this,arguments)}function $v(){return($v=(0,xn.Z)(function*(){const t=xv();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const zv={error:"UNKNOWN_ERROR"};function Hv(t){return Rn.US.encodeString(JSON.stringify(t),!1)}function Gv(t){return Kv.apply(this,arguments)}function Kv(){return(Kv=(0,xn.Z)(function*(t,e=!1){const n=t.app;Dv(n);const r=Cv(n);let i,s,o=r.token;if(!o){const t=yield r.cachedTokenPromise;t&&Yv(t)&&(o=t,kv(n,Object.assign(Object.assign({},r),{token:o})),Qv(n,{token:o.token}))}if(!e&&o&&Yv(o))return{token:o.token};if(jv()){const e=yield Rv(Lv(n,yield Bv()),t.platformLoggerProvider);return yield Vv(n,e),kv(n,Object.assign(Object.assign({},r),{token:e})),{token:e.token}}try{o=yield r.provider.getToken()}catch(a){qv.error(a),i=a}return o?(s={token:o.token},kv(n,Object.assign(Object.assign({},r),{token:o})),yield Vv(n,o)):s=Jv(i),Qv(n,s),s})).apply(this,arguments)}function Wv(t,e){const n=Cv(t),r=n.tokenObservers.filter(t=>t.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),kv(t,Object.assign(Object.assign({},n),{tokenObservers:r}))}function Qv(t,e){const n=Cv(t).tokenObservers;for(const i of n)try{"EXTERNAL"===i.type&&null!=e.error?i.error(e.error):i.next(e)}catch(r){}}function Yv(t){return t.expireTimeMillis-Date.now()>0}function Jv(t){return{token:Hv(zv),error:t}}class Xv{constructor(t,e){this.app=t,this.platformLoggerProvider=e}_delete(){const{tokenObservers:t}=Cv(this.app);for(const e of t)Wv(this.app,e.next);return Promise.resolve()}}const t_="app-check-internal";(0,On._registerComponent)(new Nn.wA("app-check",t=>function(t,e){return new Xv(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("platform-logger")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(t_).initialize()})),(0,On._registerComponent)(new Nn.wA(t_,t=>function(t){return{getToken:e=>Gv(t,e),addTokenListener:e=>function(t,e,n,r){const{app:i}=t,s=Cv(i),o={next:n,error:r,type:e},a=Object.assign(Object.assign({},s),{tokenObservers:[...s.tokenObservers,o]});if(!a.tokenRefresher){const e=function(t){const{app:e}=t;return new Ov((0,xn.Z)(function*(){let n;if(n=Cv(e).token?yield Gv(t,!0):yield Gv(t),n.error)throw n.error}),()=>!0,()=>{const t=Cv(e);if(t.token){let e=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return e=Math.min(e,t.token.expireTimeMillis-3e5),Math.max(0,e-Date.now())}return 0},3e4,96e4)}(t);a.tokenRefresher=e}if(!a.tokenRefresher.isRunning()&&s.isTokenAutoRefreshEnabled&&a.tokenRefresher.start(),s.token&&Yv(s.token)){const t=s.token;Promise.resolve().then(()=>n({token:t.token})).catch(()=>{})}else null==s.token&&s.cachedTokenPromise.then(t=>{t&&Yv(t)&&n({token:t.token})}).catch(()=>{});kv(i,a)}(t,"INTERNAL",e),removeTokenListener:e=>Wv(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,On.registerVersion)("@firebase/app-check","0.4.2");class e_{constructor(){return(0,cn.vb)("app-check")}}"undefined"!=typeof window&&window;var n_=n(7841);const r_=new r.OlP("angularfire2.auth.use-emulator"),i_=new r.OlP("angularfire2.auth.settings"),s_=new r.OlP("angularfire2.auth.tenant-id"),o_=new r.OlP("angularfire2.auth.langugage-code"),a_=new r.OlP("angularfire2.auth.use-device-language"),u_=new r.OlP("angularfire.auth.persistence"),c_=(t,e,n,r,i,s,o,a)=>(0,Cn.cc)(`${t.name}.auth`,"AngularFireAuth",t.name,()=>{const u=e.runOutsideAngular(()=>t.auth());if(n&&u.useEmulator(...n),r&&(u.tenantId=r),u.languageCode=i,s&&u.useDeviceLanguage(),o)for(const[t,e]of Object.entries(o))u.settings[t]=e;return a&&u.setPersistence(a),u},[n,r,i,s,o,a]);let l_=(()=>{class t{constructor(t,e,r,i,s,o,a,u,c,l,h,d){const f=new Gy.xQ,p=(0,un.of)(void 0).pipe((0,Wy.QV)(s.outsideAngular),Yy(()=>i.runOutsideAngular(()=>Promise.resolve().then(n.bind(n,4671)))),(0,Pt.U)(()=>(0,Cn.on)(t,i,e)),(0,Pt.U)(t=>c_(t,i,o,u,c,l,a,h)),ov({bufferSize:1,refCount:!1}));if(W(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,un.of)(null);else{p.pipe(wv()).subscribe();const t=p.pipe(Yy(t=>t.getRedirectResult().then(t=>t,()=>null)),cn.iC,ov({bufferSize:1,refCount:!1})),e=p.pipe(Yy(t=>new Dt.y(e=>({unsubscribe:i.runOutsideAngular(()=>t.onAuthStateChanged(t=>e.next(t),t=>e.error(t),()=>e.complete()))})))),n=p.pipe(Yy(t=>new Dt.y(e=>({unsubscribe:i.runOutsideAngular(()=>t.onIdTokenChanged(t=>e.next(t),t=>e.error(t),()=>e.complete()))}))));this.authState=t.pipe(Tv(e),(0,Ev.R)(s.outsideAngular),(0,Wy.QV)(s.insideAngular)),this.user=t.pipe(Tv(n),(0,Ev.R)(s.outsideAngular),(0,Wy.QV)(s.insideAngular)),this.idToken=this.user.pipe(Yy(t=>t?(0,Nt.D)(t.getIdToken()):(0,un.of)(null))),this.idTokenResult=this.user.pipe(Yy(t=>t?(0,Nt.D)(t.getIdTokenResult()):(0,un.of)(null))),this.credential=(0,Ky.T)(t,f,this.authState.pipe(En(t=>!t))).pipe((0,Pt.U)(t=>(null==t?void 0:t.user)?t:null),(0,Ev.R)(s.outsideAngular),(0,Wy.QV)(s.insideAngular))}return(0,Cn.pX)(this,p,i,{spy:{apply:(t,e,n)=>{(t.startsWith("signIn")||t.startsWith("createUser"))&&n.then(t=>f.next(t))}}})}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Cn.Dh),r.LFG(Cn.xv,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(cn.HU),r.LFG(r_,8),r.LFG(i_,8),r.LFG(s_,8),r.LFG(o_,8),r.LFG(a_,8),r.LFG(u_,8),r.LFG(e_,8))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"any"}),t})(),h_=(()=>{class t{constructor(){n_.Z.registerVersion("angularfire",cn.q4.full,"auth-compat")}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:[l_]}),t})();function d_(t,e){return function(t,e=an.z){return new Dt.y(n=>{let r;return null!=e?e.schedule(()=>{r=t.onSnapshot({includeMetadataChanges:!0},n)}):r=t.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(t,e)}function f_(t,e){return d_(t,e).pipe((0,Pt.U)(t=>({payload:t,type:"query"})))}function p_(t,e){return f_(t,e).pipe(fn(void 0),gn(),(0,Pt.U)(([t,e])=>{const n=e.payload.docChanges(),r=n.map(t=>({type:t.type,payload:t}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(e.payload.metadata)&&e.payload.docs.forEach((e,i)=>{const s=n.find(t=>t.doc.ref.isEqual(e.ref)),o=null==t?void 0:t.payload.docs.find(t=>t.ref.isEqual(e.ref));s&&JSON.stringify(s.doc.metadata)===JSON.stringify(e.metadata)||!s&&o&&JSON.stringify(o.metadata)===JSON.stringify(e.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:e}})}),r}))}function g_(t,e,n){return p_(t,n).pipe(vn((t,n)=>function(t,e,n){return e.forEach(e=>{n.indexOf(e.type)>-1&&(t=function(t,e){switch(e.type){case"added":if(!t[e.newIndex]||!t[e.newIndex].doc.ref.isEqual(e.doc.ref))return m_(t,e.newIndex,0,e);break;case"modified":if(null==t[e.oldIndex]||t[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const n=t.slice();return n.splice(e.oldIndex,1),n.splice(e.newIndex,0,e),n}return m_(t,e.newIndex,1,e)}break;case"removed":if(t[e.oldIndex]&&t[e.oldIndex].doc.ref.isEqual(e.doc.ref))return m_(t,e.oldIndex,1)}return t}(t,e))}),t}(t,n.map(t=>t.payload),e),[]),t=>t.lift(new wn(void 0,void 0)),(0,Pt.U)(t=>t.map(t=>({type:t.type,payload:t}))))}function m_(t,e,n,...r){const i=t.slice();return i.splice(e,n,...r),i}function y_(t){return(!t||0===t.length)&&(t=["added","removed","modified"]),t}class v_{constructor(t,e,n){this.ref=t,this.query=e,this.afs=n}stateChanges(t){let e=p_(this.query,this.afs.schedulers.outsideAngular);return t&&t.length>0&&(e=e.pipe((0,Pt.U)(e=>e.filter(e=>t.indexOf(e.type)>-1)))),e.pipe(fn(void 0),gn(),En(([t,e])=>e.length>0||!t),(0,Pt.U)(([t,e])=>e),cn.iC)}auditTrail(t){return this.stateChanges(t).pipe(vn((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=y_(t);return g_(this.query,e,this.afs.schedulers.outsideAngular).pipe(cn.iC)}valueChanges(t={}){return f_(this.query,this.afs.schedulers.outsideAngular).pipe((0,Pt.U)(e=>e.payload.docs.map(e=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data())),cn.iC)}get(t){return(0,Nt.D)(this.query.get(t)).pipe(cn.iC)}add(t){return this.ref.add(t)}doc(t){return new __(this.ref.doc(t),this.afs)}}class __{constructor(t,e){this.ref=t,this.afs=e}set(t,e){return this.ref.set(t,e)}update(t){return this.ref.update(t)}delete(){return this.ref.delete()}collection(t,e){const n=this.ref.collection(t),{ref:r,query:i}=I_(n,e);return new v_(r,i,this.afs)}snapshotChanges(){return function(t,e){return d_(t,e).pipe(fn(void 0),gn(),(0,Pt.U)(([t,e])=>e.exists?(null==t?void 0:t.exists)?{payload:e,type:"modified"}:{payload:e,type:"added"}:{payload:e,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(cn.iC)}valueChanges(t={}){return this.snapshotChanges().pipe((0,Pt.U)(({payload:e})=>t.idField?Object.assign(Object.assign({},e.data()),{[t.idField]:e.id}):e.data()))}get(t){return(0,Nt.D)(this.ref.get(t)).pipe(cn.iC)}}class b_{constructor(t,e){this.query=t,this.afs=e}stateChanges(t){return t&&0!==t.length?p_(this.query,this.afs.schedulers.outsideAngular).pipe((0,Pt.U)(e=>e.filter(e=>t.indexOf(e.type)>-1)),En(t=>t.length>0),cn.iC):p_(this.query,this.afs.schedulers.outsideAngular).pipe(cn.iC)}auditTrail(t){return this.stateChanges(t).pipe(vn((t,e)=>[...t,...e],[]))}snapshotChanges(t){const e=y_(t);return g_(this.query,e,this.afs.schedulers.outsideAngular).pipe(cn.iC)}valueChanges(t={}){return f_(this.query,this.afs.schedulers.outsideAngular).pipe((0,Pt.U)(e=>e.payload.docs.map(e=>t.idField?Object.assign({[t.idField]:e.id},e.data()):e.data())),cn.iC)}get(t){return(0,Nt.D)(this.query.get(t)).pipe(cn.iC)}}const w_=new r.OlP("angularfire2.enableFirestorePersistence"),T_=new r.OlP("angularfire2.firestore.persistenceSettings"),E_=new r.OlP("angularfire2.firestore.settings"),S_=new r.OlP("angularfire2.firestore.use-emulator");function I_(t,e=(t=>t)){return{query:e(t),ref:t}}let A_=(()=>{class t{constructor(t,e,n,r,i,s,o,a,u,c,l,h,d,f,p,g,m){this.schedulers=o;const y=(0,Cn.on)(t,s,e),v=u;c&&c_(y,s,l,d,f,p,h,g),[this.firestore,this.persistenceEnabled$]=(0,Cn.cc)(`${y.name}.firestore`,"AngularFirestore",y.name,()=>{const t=s.runOutsideAngular(()=>y.firestore());if(r&&t.settings(r),v&&t.useEmulator(...v),n&&!W(i)){const e=()=>{try{return(0,Nt.D)(t.enablePersistence(a||void 0).then(()=>!0,()=>!1))}catch(e){return"undefined"!=typeof console&&console.warn(e),(0,un.of)(!1)}};return[t,s.runOutsideAngular(e)]}return[t,(0,un.of)(!1)]},[r,v,n])}collection(t,e){let n;n="string"==typeof t?this.firestore.collection(t):t;const{ref:r,query:i}=I_(n,e),s=this.schedulers.ngZone.run(()=>r);return new v_(s,i,this)}collectionGroup(t,e){const n=e||(t=>t),r=this.firestore.collectionGroup(t);return new b_(n(r),this)}doc(t){let e;e="string"==typeof t?this.firestore.doc(t):t;const n=this.schedulers.ngZone.run(()=>e);return new __(n,this)}createId(){return this.firestore.collection("_").doc().id}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(Cn.Dh),r.LFG(Cn.xv,8),r.LFG(w_,8),r.LFG(E_,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(cn.HU),r.LFG(T_,8),r.LFG(S_,8),r.LFG(l_,8),r.LFG(r_,8),r.LFG(i_,8),r.LFG(s_,8),r.LFG(o_,8),r.LFG(a_,8),r.LFG(u_,8),r.LFG(e_,8))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"any"}),t})(),C_=(()=>{class t{constructor(t){this.firestore=t}getLaboratorios(){return this.firestore.collection("laboratorios",t=>t.orderBy("nombre")).valueChanges({idField:"id"})}getCategorias(){return this.firestore.collection("categoria",t=>t.orderBy("descripcion")).valueChanges({idField:"id"})}getProductos(){return this.firestore.collection("productos",t=>t.orderBy("generico")).valueChanges({idField:"id"})}getComprasCabecera(){return this.firestore.collection("compras-cabecera").valueChanges()}getCompras(){return this.firestore.collection("compras",t=>t.orderBy("orden","desc")).valueChanges({idField:"id"})}getVentasCabecera(){return this.firestore.collection("ventas-cabecera").valueChanges()}getVentas(){return this.firestore.collection("ventas",t=>t.orderBy("orden","desc")).valueChanges({idField:"id"})}getComprasProducto(t){return this.firestore.collection("compras",e=>e.where("id","==",t).orderBy("fecha","desc")).snapshotChanges()}getVentasProducto(t){return this.firestore.collection("ventas",e=>e.where("id","==",t).orderBy("fecha","desc")).snapshotChanges()}getProducto(t){return this.firestore.collection("productos").doc(t).valueChanges({idField:"id"})}saveProducto(t){this.firestore.collection("productos").add(t)}saveCompraCabecera(t){this.firestore.collection("compras-cabecera").add(t)}saveCompra(t){this.firestore.collection("compras").add(t)}saveVentaCabecera(t){this.firestore.collection("ventas-cabecera").add(t)}saveVenta(t){this.firestore.collection("ventas").add(t)}saveCategoria(t){this.firestore.collection("categoria").add(t)}saveLaboratorio(t){this.firestore.collection("laboratorios").add(t)}updateProducto(t,e){this.firestore.collection("productos").doc(t).update(e)}deleteProducto(t){this.firestore.collection("productos").doc(t).delete()}deleteCompra(t){this.firestore.collection("compras").doc(t).delete()}deleteVenta(t){this.firestore.collection("ventas").doc(t).delete()}deleteCategoria(t){this.firestore.collection("categoria").doc(t).delete()}deleteLaboratorio(t){this.firestore.collection("laboratorios").doc(t).delete()}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(A_))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class k_{}const x_="*";function O_(t,e){return{type:7,name:t,definitions:e,options:{}}}function N_(t,e=null){return{type:4,styles:e,timings:t}}function D_(t,e=null){return{type:2,steps:t,options:e}}function R_(t){return{type:6,styles:t,offset:null}}function P_(t,e,n){return{type:0,name:t,styles:e,options:n}}function L_(t,e,n=null){return{type:1,expr:t,animation:e,options:n}}function F_(t){Promise.resolve(null).then(t)}class Z_{constructor(t=0,e=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){F_(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class M_{constructor(t){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;let e=0,n=0,r=0;const i=this.players.length;0==i?F_(()=>this._onFinish()):this.players.forEach(t=>{t.onDone(()=>{++e==i&&this._onFinish()}),t.onDestroy(()=>{++n==i&&this._onDestroy()}),t.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((t,e)=>Math.max(t,e.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){const e=t*this.totalTime;this.players.forEach(t=>{const n=t.totalTime?Math.min(1,e/t.totalTime):1;t.setPosition(n)})}getPosition(){const t=this.players.reduce((t,e)=>null===t||e.totalTime>t.totalTime?e:t,null);return null!=t?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}const U_=["toast-component",""];function q_(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"button",5),r.NdJ("click",function(){return r.CHM(t),r.oxw().remove()}),r.TgZ(1,"span",6),r._uU(2,"\xd7"),r.qZA(),r.qZA()}}function V_(t,e){if(1&t&&(r.ynx(0),r._uU(1),r.BQk()),2&t){const t=r.oxw(2);r.xp6(1),r.hij("[",t.duplicatesCount+1,"]")}}function j_(t,e){if(1&t&&(r.TgZ(0,"div"),r._uU(1),r.YNc(2,V_,2,1,"ng-container",4),r.qZA()),2&t){const t=r.oxw();r.Tol(t.options.titleClass),r.uIk("aria-label",t.title),r.xp6(1),r.hij(" ",t.title," "),r.xp6(1),r.Q6J("ngIf",t.duplicatesCount)}}function B_(t,e){if(1&t&&r._UZ(0,"div",7),2&t){const t=r.oxw();r.Tol(t.options.messageClass),r.Q6J("innerHTML",t.message,r.oJD)}}function $_(t,e){if(1&t&&(r.TgZ(0,"div",8),r._uU(1),r.qZA()),2&t){const t=r.oxw();r.Tol(t.options.messageClass),r.uIk("aria-label",t.message),r.xp6(1),r.hij(" ",t.message," ")}}function z_(t,e){if(1&t&&(r.TgZ(0,"div"),r._UZ(1,"div",9),r.qZA()),2&t){const t=r.oxw();r.xp6(1),r.Udp("width",t.width+"%")}}function H_(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"button",5),r.NdJ("click",function(){return r.CHM(t),r.oxw().remove()}),r.TgZ(1,"span",6),r._uU(2,"\xd7"),r.qZA(),r.qZA()}}function G_(t,e){if(1&t&&(r.ynx(0),r._uU(1),r.BQk()),2&t){const t=r.oxw(2);r.xp6(1),r.hij("[",t.duplicatesCount+1,"]")}}function K_(t,e){if(1&t&&(r.TgZ(0,"div"),r._uU(1),r.YNc(2,G_,2,1,"ng-container",4),r.qZA()),2&t){const t=r.oxw();r.Tol(t.options.titleClass),r.uIk("aria-label",t.title),r.xp6(1),r.hij(" ",t.title," "),r.xp6(1),r.Q6J("ngIf",t.duplicatesCount)}}function W_(t,e){if(1&t&&r._UZ(0,"div",7),2&t){const t=r.oxw();r.Tol(t.options.messageClass),r.Q6J("innerHTML",t.message,r.oJD)}}function Q_(t,e){if(1&t&&(r.TgZ(0,"div",8),r._uU(1),r.qZA()),2&t){const t=r.oxw();r.Tol(t.options.messageClass),r.uIk("aria-label",t.message),r.xp6(1),r.hij(" ",t.message," ")}}function Y_(t,e){if(1&t&&(r.TgZ(0,"div"),r._UZ(1,"div",9),r.qZA()),2&t){const t=r.oxw();r.xp6(1),r.Udp("width",t.width+"%")}}class J_{constructor(t,e,n,r,i,s){this.toastId=t,this.config=e,this.message=n,this.title=r,this.toastType=i,this.toastRef=s,this._onTap=new Gy.xQ,this._onAction=new Gy.xQ,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(t){this._onAction.next(t)}onAction(){return this._onAction.asObservable()}}const X_={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null},tb=new r.OlP("ToastConfig");class eb{constructor(t,e){this.component=t,this.injector=e}attach(t,e){return this._attachedHost=t,t.attach(this,e)}detach(){const t=this._attachedHost;if(t)return this._attachedHost=void 0,t.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(t){this._attachedHost=t}}class nb extends class{attach(t,e){return this._attachedPortal=t,this.attachComponentPortal(t,e)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(t){this._disposeFn=t}}{constructor(t,e,n){super(),this._hostDomElement=t,this._componentFactoryResolver=e,this._appRef=n}attachComponentPortal(t,e){const n=this._componentFactoryResolver.resolveComponentFactory(t.component);let r;return r=n.create(t.injector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()}),e?this._hostDomElement.insertBefore(this._getComponentRootNode(r),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(r)),r}_getComponentRootNode(t){return t.hostView.rootNodes[0]}}let rb=(()=>{class t{constructor(t){this._document=t}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),this._document.body.appendChild(t),this._containerElement=t}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(o))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(o))},token:t,providedIn:"root"}),t})();class ib{constructor(t){this._portalHost=t}attach(t,e=!0){return this._portalHost.attach(t,e)}detach(){return this._portalHost.detach()}}let sb=(()=>{class t{constructor(t,e,n,r){this._overlayContainer=t,this._componentFactoryResolver=e,this._appRef=n,this._document=r,this._paneElements=new Map}create(t,e){return this._createOverlayRef(this.getPaneElement(t,e))}getPaneElement(t="",e){return this._paneElements.get(e)||this._paneElements.set(e,{}),this._paneElements.get(e)[t]||(this._paneElements.get(e)[t]=this._createPaneElement(t,e)),this._paneElements.get(e)[t]}_createPaneElement(t,e){const n=this._document.createElement("div");return n.id="toast-container",n.classList.add(t),n.classList.add("toast-container"),e?e.getContainerElement().appendChild(n):this._overlayContainer.getContainerElement().appendChild(n),n}_createPortalHost(t){return new nb(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new ib(this._createPortalHost(t))}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(rb),r.LFG(r._Vd),r.LFG(r.z2F),r.LFG(o))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(rb),r.LFG(r._Vd),r.LFG(r.z2F),r.LFG(o))},token:t,providedIn:"root"}),t})();class ob{constructor(t){this._overlayRef=t,this.duplicatesCount=0,this._afterClosed=new Gy.xQ,this._activate=new Gy.xQ,this._manualClose=new Gy.xQ,this._resetTimeout=new Gy.xQ,this._countDuplicate=new Gy.xQ}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(t,e){t&&this._resetTimeout.next(),e&&this._countDuplicate.next(++this.duplicatesCount)}}class ab{constructor(t,e){this._toastPackage=t,this._parentInjector=e}get(t,e,n){return t===J_?this._toastPackage:this._parentInjector.get(t,e,n)}}let ub=(()=>{class t{constructor(t,e,n,r,i){this.overlay=e,this._injector=n,this.sanitizer=r,this.ngZone=i,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig=Object.assign(Object.assign({},t.default),t.config),t.config.iconClasses&&(this.toastrConfig.iconClasses=Object.assign(Object.assign({},t.default.iconClasses),t.config.iconClasses))}show(t,e,n={},r=""){return this._preBuildNotification(r,t,e,this.applyConfig(n))}success(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,e,this.applyConfig(n))}error(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,e,this.applyConfig(n))}info(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,e,this.applyConfig(n))}warning(t,e,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,e,this.applyConfig(n))}clear(t){for(const e of this.toasts)if(void 0!==t){if(e.toastId===t)return void e.toastRef.manualClose()}else e.toastRef.manualClose()}remove(t){const e=this._findToast(t);if(!e||(e.activeToast.toastRef.close(),this.toasts.splice(e.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const t=this.toasts[this.currentlyActive].toastRef;t.isInactive()||(this.currentlyActive=this.currentlyActive+1,t.activate())}return!0}findDuplicate(t="",e="",n,r){const{includeTitleDuplicates:i}=this.toastrConfig;for(const s of this.toasts){const o=i&&s.title===t;if((!i||o)&&s.message===e)return s.toastRef.onDuplicate(n,r),s}return null}applyConfig(t={}){return Object.assign(Object.assign({},this.toastrConfig),t)}_findToast(t){for(let e=0;e<this.toasts.length;e++)if(this.toasts[e].toastId===t)return{index:e,activeToast:this.toasts[e]};return null}_preBuildNotification(t,e,n,r){return r.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,e,n,r)):this._buildNotification(t,e,n,r)}_buildNotification(t,e,n,i){if(!i.toastComponent)throw new Error("toastComponent required");const s=this.findDuplicate(n,e,this.toastrConfig.resetTimeoutOnDuplicate&&i.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&n||e)&&this.toastrConfig.preventDuplicates&&null!==s)return s;this.previousToastMessage=e;let o=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(o=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const a=this.overlay.create(i.positionClass,this.overlayContainer);this.index=this.index+1;let u=e;e&&i.enableHtml&&(u=this.sanitizer.sanitize(r.q3G.HTML,e));const c=new ob(a),l=new J_(this.index,i,u,n,t,c),h=new ab(l,this._injector),d=new eb(i.toastComponent,h),f=a.attach(d,this.toastrConfig.newestOnTop);c.componentInstance=f.instance;const p={toastId:this.index,title:n||"",message:e||"",toastRef:c,onShown:c.afterActivate(),onHidden:c.afterClosed(),onTap:l.onTap(),onAction:l.onAction(),portal:f};return o||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{p.toastRef.activate()})),this.toasts.push(p),p}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(tb),r.LFG(sb),r.LFG(r.zs3),r.LFG(At),r.LFG(r.R0b))},t.\u0275prov=r.Yz7({factory:function(){return new t(r.LFG(tb),r.LFG(sb),r.LFG(r.gxx),r.LFG(At),r.LFG(r.R0b))},token:t,providedIn:"root"}),t})(),cb=(()=>{class t{constructor(t,e,n){this.toastrService=t,this.toastPackage=e,this.ngZone=n,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=e.message,this.title=e.title,this.options=e.config,this.originalTimeout=e.config.timeOut,this.toastClasses=`${e.toastType} ${e.config.toastClass}`,this.sub=e.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=e.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=e.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=e.toastRef.countDuplicate().subscribe(t=>{this.duplicatesCount=t})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state=Object.assign(Object.assign({},this.state),{value:"active"}),!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state=Object.assign(Object.assign({},this.state),{value:"active"}),this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state=Object.assign(Object.assign({},this.state),{value:"removed"}),this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,e){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),e)):this.timeout=setTimeout(()=>t(),e)}outsideInterval(t,e){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),e)):this.intervalId=setInterval(()=>t(),e)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(ub),r.Y36(J_),r.Y36(r.R0b))},t.\u0275cmp=r.Xpm({type:t,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(t,e){1&t&&r.NdJ("click",function(){return e.tapToast()})("mouseenter",function(){return e.stickAround()})("mouseleave",function(){return e.delayedHideToast()}),2&t&&(r.d8E("@flyInOut",e.state),r.Tol(e.toastClasses),r.Udp("display",e.displayStyle))},attrs:U_,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alertdialog","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alertdialog","aria-live","polite",3,"innerHTML"],["role","alertdialog","aria-live","polite"],[1,"toast-progress"]],template:function(t,e){1&t&&(r.YNc(0,q_,3,0,"button",0),r.YNc(1,j_,3,5,"div",1),r.YNc(2,B_,1,3,"div",2),r.YNc(3,$_,2,4,"div",3),r.YNc(4,z_,2,2,"div",4)),2&t&&(r.Q6J("ngIf",e.options.closeButton),r.xp6(1),r.Q6J("ngIf",e.title),r.xp6(1),r.Q6J("ngIf",e.message&&e.options.enableHtml),r.xp6(1),r.Q6J("ngIf",e.message&&!e.options.enableHtml),r.xp6(1),r.Q6J("ngIf",e.options.progressBar))},directives:[M],encapsulation:2,data:{animation:[O_("flyInOut",[P_("inactive",R_({opacity:0})),P_("active",R_({opacity:1})),P_("removed",R_({opacity:0})),L_("inactive => active",N_("{{ easeTime }}ms {{ easing }}")),L_("active => removed",N_("{{ easeTime }}ms {{ easing }}"))])]}}),t})();const lb=Object.assign(Object.assign({},X_),{toastComponent:cb});let hb=(()=>{class t{static forRoot(e={}){return{ngModule:t,providers:[{provide:tb,useValue:{default:lb,config:e}}]}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[K]]}),t})(),db=(()=>{class t{constructor(t,e,n){this.toastrService=t,this.toastPackage=e,this.appRef=n,this.width=-1,this.toastClasses="",this.state="inactive",this.message=e.message,this.title=e.title,this.options=e.config,this.originalTimeout=e.config.timeOut,this.toastClasses=`${e.toastType} ${e.config.toastClass}`,this.sub=e.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=e.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=e.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=e.toastRef.countDuplicate().subscribe(t=>{this.duplicatesCount=t})}get displayStyle(){if("inactive"===this.state)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state="active",!(!0===this.options.disableTimeOut||"timeOut"===this.options.disableTimeOut)&&this.options.timeOut&&(this.timeout=setTimeout(()=>{this.remove()},this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))),this.options.onActivateTick&&this.appRef.tick()}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state="active",this.options.timeOut=this.originalTimeout,this.timeout=setTimeout(()=>this.remove(),this.originalTimeout),this.hideTime=(new Date).getTime()+(this.originalTimeout||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10))}remove(){"removed"!==this.state&&(clearTimeout(this.timeout),this.state="removed",this.timeout=setTimeout(()=>this.toastrService.remove(this.toastPackage.toastId)))}tapToast(){"removed"!==this.state&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state||(this.timeout=setTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&(this.intervalId=setInterval(()=>this.updateProgress(),10)))}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(ub),r.Y36(J_),r.Y36(r.z2F))},t.\u0275cmp=r.Xpm({type:t,selectors:[["","toast-component",""]],hostVars:4,hostBindings:function(t,e){1&t&&r.NdJ("click",function(){return e.tapToast()})("mouseenter",function(){return e.stickAround()})("mouseleave",function(){return e.delayedHideToast()}),2&t&&(r.Tol(e.toastClasses),r.Udp("display",e.displayStyle))},attrs:U_,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert","aria-live","polite",3,"class","innerHTML",4,"ngIf"],["role","alert","aria-live","polite",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert","aria-live","polite",3,"innerHTML"],["role","alert","aria-live","polite"],[1,"toast-progress"]],template:function(t,e){1&t&&(r.YNc(0,H_,3,0,"button",0),r.YNc(1,K_,3,5,"div",1),r.YNc(2,W_,1,3,"div",2),r.YNc(3,Q_,2,4,"div",3),r.YNc(4,Y_,2,2,"div",4)),2&t&&(r.Q6J("ngIf",e.options.closeButton),r.xp6(1),r.Q6J("ngIf",e.title),r.xp6(1),r.Q6J("ngIf",e.message&&e.options.enableHtml),r.xp6(1),r.Q6J("ngIf",e.message&&!e.options.enableHtml),r.xp6(1),r.Q6J("ngIf",e.options.progressBar))},directives:[M],encapsulation:2}),t})();function fb(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"tr"),r.TgZ(1,"td"),r._uU(2),r.qZA(),r.TgZ(3,"td"),r._uU(4),r.qZA(),r.TgZ(5,"td"),r.TgZ(6,"button",19),r.NdJ("click",function(){const e=r.CHM(t).$implicit;return r.oxw().deleteCategoria(e.id)}),r._uU(7,"Eliminar"),r.qZA(),r.qZA(),r.qZA()}if(2&t){const t=e.index,n=e.$implicit;r.xp6(2),r.Oqu(t+1),r.xp6(2),r.Oqu(n.descripcion)}}function pb(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"tr"),r.TgZ(1,"td"),r._uU(2),r.qZA(),r.TgZ(3,"td"),r._uU(4),r.qZA(),r.TgZ(5,"td"),r.TgZ(6,"button",19),r.NdJ("click",function(){const e=r.CHM(t).$implicit;return r.oxw().deleteLaboratorio(e.id)}),r._uU(7,"Eliminar"),r.qZA(),r.qZA(),r.qZA()}if(2&t){const t=e.index,n=e.$implicit;r.xp6(2),r.Oqu(t+1),r.xp6(2),r.Oqu(n.nombre)}}Object.assign(Object.assign({},X_),{toastComponent:db});let gb=(()=>{class t{constructor(t,e,n){this._inventario=t,this.formBuilder=e,this.toastr=n,this.labelAccion="Agregar categor\xeda",this.labelLaboratorio="Agregar laboratorio",this.categoriaForm=this.formBuilder.group({descripcion:["",Qt.required]}),this.laboratorioForm=this.formBuilder.group({nombre:["",Qt.required]}),this.categorias=t.getCategorias(),this.laboratorios=t.getLaboratorios()}ngOnInit(){}saveCategoria(){this.categoriaForm.invalid?this.toastr.error("Todos los campos son requeridos","Ha ocurrido un error"):(this._inventario.saveCategoria(this.categoriaForm.value),this.toastr.success("Categor\xeda guardada correctamente","Operaci\xf3n exitosa"),this.categoriaForm.reset())}deleteCategoria(t){this._inventario.deleteCategoria(t),this.toastr.success("Categoria eliminada","Operaci\xf3n exitosa")}saveLaboratorio(){this.laboratorioForm.invalid?this.toastr.error("Todos los campos son requeridos","Ha ocurrido un error"):(this._inventario.saveLaboratorio(this.laboratorioForm.value),this.toastr.success("Laboratorio guardado correctamente","Operaci\xf3n exitosa"),this.laboratorioForm.reset())}deleteLaboratorio(t){this._inventario.deleteLaboratorio(t),this.toastr.success("Laboratorio eliminado","Operaci\xf3n exitosa")}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(C_),r.Y36(on),r.Y36(ub))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-parametricas"]],decls:57,vars:10,consts:[[1,"row"],[1,"card","col-md-6"],[1,"card-body"],[1,"card"],["autocomplete","off",3,"formGroup"],[1,"form-group","col-sm-12"],["for","descripcion"],["type","text","id","descripcion","oninput","this.value = this.value.toUpperCase()","formControlName","descripcion",1,"form-control"],[1,"col-sm-2"],["type","button",1,"btn","btn-success","btn-sm","saveButton",3,"click"],[1,"table-responsive","mt-2"],[1,"table"],[1,"thead"],["scope","col"],[1,"details-table"],[4,"ngFor","ngForOf"],[1,"card","col-sm-6"],["for","nombre"],["type","text","id","nombre","oninput","this.value = this.value.toUpperCase()","formControlName","nombre",1,"form-control"],["type","button",1,"btn","btn-sm","btn-danger","ml-1",3,"click"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"div",2),r.TgZ(3,"h1"),r._uU(4,"Categorias"),r.qZA(),r.TgZ(5,"div",3),r.TgZ(6,"div",2),r.TgZ(7,"form",4),r.TgZ(8,"div",0),r.TgZ(9,"div",5),r.TgZ(10,"label",6),r._uU(11),r.qZA(),r._UZ(12,"input",7),r.qZA(),r.TgZ(13,"div",8),r.TgZ(14,"button",9),r.NdJ("click",function(){return e.saveCategoria()}),r._uU(15,"Guardar"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(16,"div",10),r.TgZ(17,"table",11),r.TgZ(18,"thead",12),r.TgZ(19,"tr"),r.TgZ(20,"th",13),r._uU(21,"#"),r.qZA(),r.TgZ(22,"th",13),r._uU(23,"CATEGORIA"),r.qZA(),r.TgZ(24,"th",13),r._uU(25,"OPCIONES"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(26,"tbody",14),r.YNc(27,fb,8,2,"tr",15),r.ALo(28,"async"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(29,"div",16),r.TgZ(30,"div",2),r.TgZ(31,"h1"),r._uU(32,"Laboratorios"),r.qZA(),r.TgZ(33,"div",3),r.TgZ(34,"div",2),r.TgZ(35,"form",4),r.TgZ(36,"div",0),r.TgZ(37,"div",5),r.TgZ(38,"label",17),r._uU(39),r.qZA(),r._UZ(40,"input",18),r.qZA(),r.TgZ(41,"div",8),r.TgZ(42,"button",9),r.NdJ("click",function(){return e.saveLaboratorio()}),r._uU(43,"Guardar"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(44,"div",10),r.TgZ(45,"table",11),r.TgZ(46,"thead",12),r.TgZ(47,"tr"),r.TgZ(48,"th",13),r._uU(49,"#"),r.qZA(),r.TgZ(50,"th",13),r._uU(51,"LABORATORIO"),r.qZA(),r.TgZ(52,"th",13),r._uU(53,"OPCIONES"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(54,"tbody",14),r.YNc(55,pb,8,2,"tr",15),r.ALo(56,"async"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.xp6(7),r.Q6J("formGroup",e.categoriaForm),r.xp6(4),r.Oqu(e.labelAccion),r.xp6(16),r.Q6J("ngForOf",r.lcZ(28,6,e.categorias)),r.xp6(8),r.Q6J("formGroup",e.laboratorioForm),r.xp6(4),r.Oqu(e.labelLaboratorio),r.xp6(16),r.Q6J("ngForOf",r.lcZ(56,8,e.laboratorios)))},directives:[qe,_e,He,$t,ve,Ke,F],pipes:[H],styles:[""]}),t})(),mb=(()=>{class t{constructor(t){this.afa=t}signInWithEmail(t,e){return this.afa.signInWithEmailAndPassword(t,e)}saveLocalData(t,e){localStorage.setItem(t,e)}getLocalData(t){return localStorage.getItem(t)}clearLocalStorage(){localStorage.clear()}getStatus(){return localStorage.getItem("status")}saveStatus(t){localStorage.setItem("status",t)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(l_))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),yb=(()=>{class t{constructor(t){this.af=t}getUsuarioPorEmail(t){return this.af.collection("usuarios",e=>e.where("email","==",t)).valueChanges({idField:"id"})}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(A_))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();class vb extends Gy.xQ{constructor(t){super(),this._value=t}get value(){return this.getValue()}_subscribe(t){const e=super._subscribe(t);return e&&!e.closed&&t.next(this._value),e}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new nv.N;return this._value}next(t){super.next(this._value=t)}}class _b extends pn.L{notifyNext(t,e,n,r,i){this.destination.next(e)}notifyError(t,e){this.destination.error(t)}notifyComplete(t){this.destination.complete()}}class bb extends pn.L{constructor(t,e,n){super(),this.parent=t,this.outerValue=e,this.outerIndex=n,this.index=0}_next(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)}_error(t){this.parent.notifyError(t,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var wb=n(7444);function Tb(t,e,n,r,i=new bb(t,n,r)){if(!i.closed)return e instanceof Dt.y?e.subscribe(i):(0,wb.s)(e)(i)}var Eb=n(6693);const Sb={};class Ib{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Ab(t,this.resultSelector))}}class Ab extends _b{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(Sb),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let n=0;n<e;n++)this.add(Tb(this,t[n],void 0,n))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,n){const r=this.values,i=this.toRespond?r[n]===Sb?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)}}function Cb(t){return new Dt.y(e=>{let n;try{n=t()}catch(r){return void e.error(r)}return(n?(0,Nt.D)(n):(0,cv.c)()).subscribe(e)})}var kb=n(2441);function xb(t){return function(e){const n=new Ob(t),r=e.lift(n);return n.caught=r}}class Ob{constructor(t){this.selector=t}call(t,e){return e.subscribe(new Nb(t,this.selector,this.caught))}}class Nb extends Qy.Ds{constructor(t,e,n){super(t),this.selector=e,this.caught=n}error(t){if(!this.isStopped){let n;try{n=this.selector(t,this.caught)}catch(e){return void super.error(e)}this._unsubscribeAndRecycle();const r=new Qy.IY(this);this.add(r);const i=(0,Qy.ft)(n,r);i!==r&&this.add(i)}}}var Db=n(9773);function Rb(t,e){return(0,Db.zg)(t,e,1)}function Pb(t){return function(e){return 0===t?(0,cv.c)():e.lift(new Lb(t))}}class Lb{constructor(t){if(this.total=t,this.total<0)throw new uv}call(t,e){return e.subscribe(new Fb(t,this.total))}}class Fb extends pn.L{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=e++%n;t.next(r[i])}}t.complete()}}var Zb=n(3342),Mb=n(1307);class Ub{constructor(t){this.callback=t}call(t,e){return e.subscribe(new qb(t,this.callback))}}class qb extends pn.L{constructor(t,e){super(t),this.add(new ev.w(e))}}class Vb{constructor(t,e){this.id=t,this.url=e}}class jb extends Vb{constructor(t,e,n="imperative",r=null){super(t,e),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Bb extends Vb{constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class $b extends Vb{constructor(t,e,n){super(t,e),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class zb extends Vb{constructor(t,e,n){super(t,e),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Hb extends Vb{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Gb extends Vb{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Kb extends Vb{constructor(t,e,n,r,i){super(t,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Wb extends Vb{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Qb extends Vb{constructor(t,e,n,r){super(t,e),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Yb{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Jb{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Xb{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class tw{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ew{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nw{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rw{constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const iw="primary";class sw{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function ow(t){return new sw(t)}const aw="ngNavigationCancelingError";function uw(t){const e=Error("NavigationCancelingError: "+t);return e[aw]=!0,e}function cw(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const e=r[s],n=t[s];if(e.startsWith(":"))i[e.substring(1)]=n;else if(e!==n.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function lw(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!hw(t[i],e[i]))return!1;return!0}function hw(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((t,e)=>r[e]===t)}return t===e}function dw(t){return Array.prototype.concat.apply([],t)}function fw(t){return t.length>0?t[t.length-1]:null}function pw(t,e){for(const n in t)t.hasOwnProperty(n)&&e(t[n],n)}function gw(t){return(0,r.CqO)(t)?t:(0,r.QGY)(t)?(0,Nt.D)(Promise.resolve(t)):(0,un.of)(t)}const mw={exact:function t(e,n,r){if(!Iw(e.segments,n.segments)||!ww(e.segments,n.segments,r)||e.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children)if(!e.children[i]||!t(e.children[i],n.children[i],r))return!1;return!0},subset:_w},yw={exact:function(t,e){return lw(t,e)},subset:function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>hw(t[n],e[n]))},ignored:()=>!0};function vw(t,e,n){return mw[n.paths](t.root,e.root,n.matrixParams)&&yw[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function _w(t,e,n){return bw(t,e,e.segments,n)}function bw(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Iw(i,n)||e.hasChildren()||!ww(i,n,r))}if(t.segments.length===n.length){if(!Iw(t.segments,n)||!ww(t.segments,n,r))return!1;for(const n in e.children)if(!t.children[n]||!_w(t.children[n],e.children[n],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(Iw(t.segments,i)&&ww(t.segments,i,r)&&t.children[iw])&&bw(t.children[iw],e,s,r)}}function ww(t,e,n){return e.every((e,r)=>yw[n](t[r].parameters,e.parameters))}class Tw{constructor(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ow(this.queryParams)),this._queryParamMap}toString(){return kw.serialize(this)}}class Ew{constructor(t,e){this.segments=t,this.children=e,this.parent=null,pw(e,(t,e)=>t.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return xw(this)}}class Sw{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=ow(this.parameters)),this._parameterMap}toString(){return Fw(this)}}function Iw(t,e){return t.length===e.length&&t.every((t,n)=>t.path===e[n].path)}class Aw{}class Cw{parse(t){const e=new Vw(t);return new Tw(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){return`${`/${Ow(t.root,!0)}`}${function(t){const e=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(t=>`${Dw(e)}=${Dw(t)}`).join("&"):`${Dw(e)}=${Dw(n)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${function(t){return encodeURI(t)}(t.fragment)}`:""}`}}const kw=new Cw;function xw(t){return t.segments.map(t=>Fw(t)).join("/")}function Ow(t,e){if(!t.hasChildren())return xw(t);if(e){const e=t.children[iw]?Ow(t.children[iw],!1):"",n=[];return pw(t.children,(t,e)=>{e!==iw&&n.push(`${e}:${Ow(t,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function(t,e){let n=[];return pw(t.children,(t,r)=>{r===iw&&(n=n.concat(e(t,r)))}),pw(t.children,(t,r)=>{r!==iw&&(n=n.concat(e(t,r)))}),n}(t,(e,n)=>n===iw?[Ow(t.children[iw],!1)]:[`${n}:${Ow(e,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[iw]?`${xw(t)}/${e[0]}`:`${xw(t)}/(${e.join("//")})`}}function Nw(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Dw(t){return Nw(t).replace(/%3B/gi,";")}function Rw(t){return Nw(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Pw(t){return decodeURIComponent(t)}function Lw(t){return Pw(t.replace(/\+/g,"%20"))}function Fw(t){return`${Rw(t.path)}${function(t){return Object.keys(t).map(e=>`;${Rw(e)}=${Rw(t[e])}`).join("")}(t.parameters)}`}const Zw=/^[^\/()?;=#]+/;function Mw(t){const e=t.match(Zw);return e?e[0]:""}const Uw=/^[^=?&#]+/,qw=/^[^?&#]+/;class Vw{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ew([],{}):new Ew([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[iw]=new Ew(t,e)),n}parseSegment(){const t=Mw(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new Sw(Pw(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=Mw(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=Mw(this.remaining);t&&(n=t,this.capture(n))}t[Pw(e)]=Pw(n)}parseQueryParam(t){const e=function(t){const e=t.match(Uw);return e?e[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const t=function(t){const e=t.match(qw);return e?e[0]:""}(this.remaining);t&&(n=t,this.capture(n))}const r=Lw(e),i=Lw(n);if(t.hasOwnProperty(r)){let e=t[r];Array.isArray(e)||(e=[e],t[r]=e),e.push(i)}else t[r]=i}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Mw(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i=iw);const s=this.parseChildren();e[i]=1===Object.keys(s).length?s[iw]:new Ew([],s),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class jw{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=Bw(t,this._root);return e?e.children.map(t=>t.value):[]}firstChild(t){const e=Bw(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=$w(t,this._root);return e.length<2?[]:e[e.length-2].children.map(t=>t.value).filter(e=>e!==t)}pathFromRoot(t){return $w(t,this._root).map(t=>t.value)}}function Bw(t,e){if(t===e.value)return e;for(const n of e.children){const e=Bw(t,n);if(e)return e}return null}function $w(t,e){if(t===e.value)return[e];for(const n of e.children){const r=$w(t,n);if(r.length)return r.unshift(e),r}return[]}class zw{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function Hw(t){const e={};return t&&t.children.forEach(t=>e[t.value.outlet]=t),e}class Gw extends jw{constructor(t,e){super(t),this.snapshot=e,Xw(this,t)}toString(){return this.snapshot.toString()}}function Kw(t,e){const n=function(t,e){const n=new Yw([],{},{},"",{},iw,e,null,t.root,-1,{});return new Jw("",new zw(n,[]))}(t,e),r=new vb([new Sw("",{})]),i=new vb({}),s=new vb({}),o=new vb({}),a=new vb(""),u=new Ww(r,i,o,a,s,iw,e,n.root);return u.snapshot=n.root,new Gw(new zw(u,[]),n)}class Ww{constructor(t,e,n,r,i,s,o,a){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Pt.U)(t=>ow(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Pt.U)(t=>ow(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Qw(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const t=n[r],e=n[r-1];if(t.routeConfig&&""===t.routeConfig.path)r--;else{if(e.component)break;r--}}return function(t){return t.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class Yw{constructor(t,e,n,r,i,s,o,a,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=s,this.component=o,this.routeConfig=a,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=ow(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=ow(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(t=>t.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class Jw extends jw{constructor(t,e){super(e),this.url=t,Xw(this,e)}toString(){return tT(this._root)}}function Xw(t,e){e.value._routerState=t,e.children.forEach(e=>Xw(t,e))}function tT(t){const e=t.children.length>0?` { ${t.children.map(tT).join(", ")} } `:"";return`${t.value}${e}`}function eT(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,lw(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),lw(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!lw(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),lw(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function nT(t,e){return lw(t.params,e.params)&&function(t,e){return Iw(t,e)&&t.every((t,n)=>lw(t.parameters,e[n].parameters))}(t.url,e.url)&&!(!t.parent!=!e.parent)&&(!t.parent||nT(t.parent,e.parent))}function rT(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function(t,e,n){return e.children.map(e=>{for(const r of n.children)if(t.shouldReuseRoute(e.value,r.value.snapshot))return rT(t,e,r);return rT(t,e)})}(t,e,n);return new zw(r,i)}{if(t.shouldAttach(e.value)){const n=t.retrieve(e.value);if(null!==n){const t=n.route;return iT(e,t),t}}const n=function(t){return new Ww(new vb(t.url),new vb(t.params),new vb(t.queryParams),new vb(t.fragment),new vb(t.data),t.outlet,t.component,t)}(e.value),r=e.children.map(e=>rT(t,e));return new zw(n,r)}}function iT(t,e){if(t.value.routeConfig!==e.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==e.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");e.value._futureSnapshot=t.value;for(let n=0;n<t.children.length;++n)iT(t.children[n],e.children[n])}function sT(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function oT(t){return"object"==typeof t&&null!=t&&t.outlets}function aT(t,e,n,r,i){let s={};return r&&pw(r,(t,e)=>{s[e]=Array.isArray(t)?t.map(t=>`${t}`):`${t}`}),new Tw(n.root===t?e:uT(n.root,t,e),s,i)}function uT(t,e,n){const r={};return pw(t.children,(t,i)=>{r[i]=t===e?n:uT(t,e,n)}),new Ew(t.segments,r)}class cT{constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&sT(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(oT);if(r&&r!==fw(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class lT{constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}function hT(t,e,n){if(t||(t=new Ew([],{})),0===t.segments.length&&t.hasChildren())return dT(t,e,n);const r=function(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const e=t.segments[i],o=n[r];if(oT(o))break;const a=`${o}`,u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&u&&"object"==typeof u&&void 0===u.outlets){if(!mT(a,u,e))return s;r+=2}else{if(!mT(a,{},e))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const e=new Ew(t.segments.slice(0,r.pathIndex),{});return e.children[iw]=new Ew(t.segments.slice(r.pathIndex),t.children),dT(e,0,i)}return r.match&&0===i.length?new Ew(t.segments,{}):r.match&&!t.hasChildren()?fT(t,e,n):r.match?dT(t,0,i):fT(t,e,n)}function dT(t,e,n){if(0===n.length)return new Ew(t.segments,{});{const r=function(t){return oT(t[0])?t[0].outlets:{[iw]:t}}(n),i={};return pw(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=hT(t.children[r],e,n))}),pw(t.children,(t,e)=>{void 0===r[e]&&(i[e]=t)}),new Ew(t.segments,i)}}function fT(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(oT(s)){const t=pT(s.outlets);return new Ew(r,t)}if(0===i&&sT(n[0])){r.push(new Sw(t.segments[e].path,gT(n[0]))),i++;continue}const o=oT(s)?s.outlets[iw]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&sT(a)?(r.push(new Sw(o,gT(a))),i+=2):(r.push(new Sw(o,{})),i++)}return new Ew(r,{})}function pT(t){const e={};return pw(t,(t,n)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[n]=fT(new Ew([],{}),0,t))}),e}function gT(t){const e={};return pw(t,(t,n)=>e[n]=`${t}`),e}function mT(t,e,n){return t==n.path&&lw(e,n.parameters)}class yT{constructor(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}activate(t){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),eT(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){const r=Hw(e);t.children.forEach(t=>{const e=t.value.outlet;this.deactivateRoutes(t,r[e],n),delete r[e]}),pw(r,(t,e)=>{this.deactivateRouteAndItsChildren(t,n)})}deactivateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(t,e,i.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const n=e.getContext(t.value.outlet);if(n&&n.outlet){const e=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:e,route:t,contexts:r})}}deactivateRouteAndOutlet(t,e){const n=e.getContext(t.value.outlet),r=n&&t.value.component?n.children:e,i=Hw(t);for(const s of Object.keys(i))this.deactivateRouteAndItsChildren(i[s],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(t,e,n){const r=Hw(e);t.children.forEach(t=>{this.activateRoutes(t,r[t.value.outlet],n),this.forwardEvent(new nw(t.value.snapshot))}),t.children.length&&this.forwardEvent(new tw(t.value.snapshot))}activateRoutes(t,e,n){const r=t.value,i=e?e.value:null;if(eT(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,i.children)}else this.activateChildRoutes(t,e,n);else if(r.component){const e=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const t=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),e.children.onOutletReAttached(t.contexts),e.attachRef=t.componentRef,e.route=t.route.value,e.outlet&&e.outlet.attach(t.componentRef,t.route.value),vT(t.route)}else{const n=function(t){for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig;if(t&&t.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;e.attachRef=null,e.route=r,e.resolver=i,e.outlet&&e.outlet.activateWith(r,i),this.activateChildRoutes(t,null,e.children)}}else this.activateChildRoutes(t,null,n)}}function vT(t){eT(t.value),t.children.forEach(vT)}class _T{constructor(t,e){this.routes=t,this.module=e}}function bT(t){return"function"==typeof t}function wT(t){return t instanceof Tw}const TT=Symbol("INITIAL_VALUE");function ET(){return Yy(t=>function(...t){let e,n;return(0,dn.K)(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(e=t.pop()),1===t.length&&(0,Rt.k)(t[0])&&(t=t[0]),(0,Eb.n)(t,n).lift(new Ib(e))}(t.map(t=>t.pipe(lv(1),fn(TT)))).pipe(vn((t,e)=>{let n=!1;return e.reduce((t,r,i)=>t!==TT?t:(r===TT&&(n=!0),n||!1!==r&&i!==e.length-1&&!wT(r)?t:r),t)},TT),En(t=>t!==TT),(0,Pt.U)(t=>wT(t)?t:!0===t),lv(1)))}let ST=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&r._UZ(0,"router-outlet")},directives:function(){return[EE]},encapsulation:2}),t})();function IT(t,e=""){for(let n=0;n<t.length;n++){const r=t[n];AT(r,CT(e,r))}}function AT(t,e){t.children&&IT(t.children,e)}function CT(t,e){return e?t||e.path?t&&!e.path?`${t}/`:!t&&e.path?e.path:`${t}/${e.path}`:"":t}function kT(t){const e=t.children&&t.children.map(kT),n=e?Object.assign(Object.assign({},t),{children:e}):Object.assign({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&n.outlet!==iw&&(n.component=ST),n}function xT(t){return t.outlet||iw}function OT(t,e){const n=t.filter(t=>xT(t)===e);return n.push(...t.filter(t=>xT(t)!==e)),n}const NT={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function DT(t,e,n){var r;if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?Object.assign({},NT):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(e.matcher||cw)(n,t,e);if(!i)return Object.assign({},NT);const s={};pw(i.posParams,(t,e)=>{s[e]=t.path});const o=i.consumed.length>0?Object.assign(Object.assign({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:o,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function RT(t,e,n,r,i="corrected"){if(n.length>0&&function(t,e,n){return n.some(n=>PT(t,e,n)&&xT(n)!==iw)}(t,n,r)){const i=new Ew(e,function(t,e,n,r){const i={};i[iw]=r,r._sourceSegment=t,r._segmentIndexShift=e.length;for(const s of n)if(""===s.path&&xT(s)!==iw){const n=new Ew([],{});n._sourceSegment=t,n._segmentIndexShift=e.length,i[xT(s)]=n}return i}(t,e,r,new Ew(n,t.children)));return i._sourceSegment=t,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some(n=>PT(t,e,n))}(t,n,r)){const s=new Ew(t.segments,function(t,e,n,r,i,s){const o={};for(const a of r)if(PT(t,n,a)&&!i[xT(a)]){const n=new Ew([],{});n._sourceSegment=t,n._segmentIndexShift="legacy"===s?t.segments.length:e.length,o[xT(a)]=n}return Object.assign(Object.assign({},i),o)}(t,e,n,r,t.children,i));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}const s=new Ew(t.segments,t.children);return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:n}}function PT(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}function LT(t,e,n,r){return!!(xT(t)===r||r!==iw&&PT(e,n,t))&&("**"===t.path||DT(e,t,n).matched)}function FT(t,e,n){return 0===e.length&&!t.children[n]}class ZT{constructor(t){this.segmentGroup=t||null}}class MT{constructor(t){this.urlTree=t}}function UT(t){return new Dt.y(e=>e.error(new ZT(t)))}function qT(t){return new Dt.y(e=>e.error(new MT(t)))}function VT(t){return new Dt.y(e=>e.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${t}'`)))}class jT{constructor(t,e,n,i,s){this.configLoader=e,this.urlSerializer=n,this.urlTree=i,this.config=s,this.allowRedirects=!0,this.ngModule=t.get(r.h0i)}apply(){const t=RT(this.urlTree.root,[],[],this.config).segmentGroup,e=new Ew(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,iw).pipe((0,Pt.U)(t=>this.createUrlTree(BT(t),this.urlTree.queryParams,this.urlTree.fragment))).pipe(xb(t=>{if(t instanceof MT)return this.allowRedirects=!1,this.match(t.urlTree);throw t instanceof ZT?this.noMatchError(t):t}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,iw).pipe((0,Pt.U)(e=>this.createUrlTree(BT(e),t.queryParams,t.fragment))).pipe(xb(t=>{throw t instanceof ZT?this.noMatchError(t):t}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,n){const r=t.segments.length>0?new Ew([],{[iw]:t}):t;return new Tw(r,e,n)}expandSegmentGroup(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe((0,Pt.U)(t=>new Ew([],t))):this.expandSegment(t,n,e,n.segments,r,!0)}expandChildren(t,e,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return(0,Nt.D)(r).pipe(Rb(r=>{const i=n.children[r],s=OT(e,r);return this.expandSegmentGroup(t,s,i,r).pipe((0,Pt.U)(t=>({segment:t,outlet:r})))}),vn((t,e)=>(t[e.outlet]=e.segment,t),{}),function(t,e){const n=arguments.length>=2;return r=>r.pipe(t?En((e,n)=>t(e,n,r)):bv.y,Pb(1),n?fv(e):mv(()=>new av))}())}expandSegment(t,e,n,r,i,s){return(0,Nt.D)(n).pipe(Rb(o=>this.expandSegmentAgainstRoute(t,e,n,o,r,i,s).pipe(xb(t=>{if(t instanceof ZT)return(0,un.of)(null);throw t}))),wv(t=>!!t),xb((t,n)=>{if(t instanceof av||"EmptyError"===t.name){if(FT(e,r,i))return(0,un.of)(new Ew([],{}));throw new ZT(e)}throw t}))}expandSegmentAgainstRoute(t,e,n,r,i,s,o){return LT(r,e,i,s)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i,s):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s):UT(e):UT(e)}expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,s):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?qT(i):this.lineralizeSegments(n,i).pipe((0,Db.zg)(n=>{const i=new Ew(n,{});return this.expandSegment(t,i,e,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,s){const{matched:o,consumedSegments:a,lastChild:u,positionalParamSegments:c}=DT(e,r,i);if(!o)return UT(e);const l=this.applyRedirectCommands(a,r.redirectTo,c);return r.redirectTo.startsWith("/")?qT(l):this.lineralizeSegments(r,l).pipe((0,Db.zg)(r=>this.expandSegment(t,e,n,r.concat(i.slice(u)),s,!1)))}matchSegmentAgainstRoute(t,e,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?(0,un.of)(n._loadedConfig):this.configLoader.load(t.injector,n)).pipe((0,Pt.U)(t=>(n._loadedConfig=t,new Ew(r,{})))):(0,un.of)(new Ew(r,{}));const{matched:s,consumedSegments:o,lastChild:a}=DT(e,n,r);if(!s)return UT(e);const u=r.slice(a);return this.getChildConfig(t,n,r).pipe((0,Db.zg)(t=>{const r=t.module,s=t.routes,{segmentGroup:a,slicedSegments:c}=RT(e,o,u,s),l=new Ew(a.segments,a.children);if(0===c.length&&l.hasChildren())return this.expandChildren(r,s,l).pipe((0,Pt.U)(t=>new Ew(o,t)));if(0===s.length&&0===c.length)return(0,un.of)(new Ew(o,{}));const h=xT(n)===i;return this.expandSegment(r,l,s,c,h?iw:i,!0).pipe((0,Pt.U)(t=>new Ew(o.concat(t.segments),t.children)))}))}getChildConfig(t,e,n){return e.children?(0,un.of)(new _T(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?(0,un.of)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,n).pipe((0,Db.zg)(n=>n?this.configLoader.load(t.injector,e).pipe((0,Pt.U)(t=>(e._loadedConfig=t,t))):function(t){return new Dt.y(e=>e.error(uw(`Cannot load children because the guard of the route "path: '${t.path}'" returned false`)))}(e))):(0,un.of)(new _T([],t))}runCanLoadGuards(t,e,n){const r=e.canLoad;if(!r||0===r.length)return(0,un.of)(!0);const i=r.map(r=>{const i=t.get(r);let s;if(function(t){return t&&bT(t.canLoad)}(i))s=i.canLoad(e,n);else{if(!bT(i))throw new Error("Invalid CanLoad guard");s=i(e,n)}return gw(s)});return(0,un.of)(i).pipe(ET(),(0,Zb.b)(t=>{if(!wT(t))return;const e=uw(`Redirecting to "${this.urlSerializer.serialize(t)}"`);throw e.url=t,e}),(0,Pt.U)(t=>!0===t))}lineralizeSegments(t,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return(0,un.of)(n);if(r.numberOfChildren>1||!r.children[iw])return VT(t.redirectTo);r=r.children[iw]}}applyRedirectCommands(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)}applyRedirectCreatreUrlTree(t,e,n,r){const i=this.createSegmentGroup(t,e.root,n,r);return new Tw(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const n={};return pw(t,(t,r)=>{if("string"==typeof t&&t.startsWith(":")){const i=t.substring(1);n[r]=e[i]}else n[r]=t}),n}createSegmentGroup(t,e,n,r){const i=this.createSegments(t,e.segments,n,r);let s={};return pw(e.children,(e,i)=>{s[i]=this.createSegmentGroup(t,e,n,r)}),new Ew(i,s)}createSegments(t,e,n,r){return e.map(e=>e.path.startsWith(":")?this.findPosParam(t,e,r):this.findOrReturn(e,n))}findPosParam(t,e,n){const r=n[e.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return r}findOrReturn(t,e){let n=0;for(const r of e){if(r.path===t.path)return e.splice(n),r;n++}return t}}function BT(t){const e={};for(const n of Object.keys(t.children)){const r=BT(t.children[n]);(r.segments.length>0||r.hasChildren())&&(e[n]=r)}return function(t){if(1===t.numberOfChildren&&t.children[iw]){const e=t.children[iw];return new Ew(t.segments.concat(e.segments),e.children)}return t}(new Ew(t.segments,e))}class $T{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class zT{constructor(t,e){this.component=t,this.route=e}}function HT(t,e,n){const r=t._root;return KT(r,e?e._root:null,n,[r.value])}function GT(t,e,n){const r=function(t){if(!t)return null;for(let e=t.parent;e;e=e.parent){const t=e.routeConfig;if(t&&t._loadedConfig)return t._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function KT(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=Hw(e);return t.children.forEach(t=>{(function(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Iw(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Iw(t.url,e.url)||!lw(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!nT(t,e)||!lw(t.queryParams,e.queryParams);case"paramsChange":default:return!nT(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new $T(r)):(s.data=o.data,s._resolvedData=o._resolvedData),KT(t,e,s.component?a?a.children:null:n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new zT(a.outlet.component,o))}else o&&WT(e,a,i),i.canActivateChecks.push(new $T(r)),KT(t,null,s.component?a?a.children:null:n,r,i)})(t,s[t.value.outlet],n,r.concat([t.value]),i),delete s[t.value.outlet]}),pw(s,(t,e)=>WT(t,n.getContext(e),i)),i}function WT(t,e,n){const r=Hw(t),i=t.value;pw(r,(t,r)=>{WT(t,i.component?e?e.children.getContext(r):null:e,n)}),n.canDeactivateChecks.push(new zT(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}class QT{}function YT(t){return new Dt.y(e=>e.error(t))}class JT{constructor(t,e,n,r,i,s){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=s}recognize(){const t=RT(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,iw);if(null===e)return null;const n=new Yw([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},iw,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new zw(n,e),i=new Jw(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(t){const e=t.value,n=Qw(e,this.paramsInheritanceStrategy);e.params=Object.freeze(n.params),e.data=Object.freeze(n.data),t.children.forEach(t=>this.inheritParamsAndData(t))}processSegmentGroup(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)}processChildren(t,e){const n=[];for(const i of Object.keys(e.children)){const r=e.children[i],s=OT(t,i),o=this.processSegmentGroup(s,r,i);if(null===o)return null;n.push(...o)}const r=tE(n);return function(t){t.sort((t,e)=>t.value.outlet===iw?-1:e.value.outlet===iw?1:t.value.outlet.localeCompare(e.value.outlet))}(r),r}processSegment(t,e,n,r){for(const i of t){const t=this.processSegmentAgainstRoute(i,e,n,r);if(null!==t)return t}return FT(e,n,r)?[]:null}processSegmentAgainstRoute(t,e,n,r){if(t.redirectTo||!LT(t,e,n,r))return null;let i,s=[],o=[];if("**"===t.path){const r=n.length>0?fw(n).parameters:{};i=new Yw(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,rE(t),xT(t),t.component,t,eE(e),nE(e)+n.length,iE(t))}else{const r=DT(e,t,n);if(!r.matched)return null;s=r.consumedSegments,o=n.slice(r.lastChild),i=new Yw(s,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,rE(t),xT(t),t.component,t,eE(e),nE(e)+s.length,iE(t))}const a=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),{segmentGroup:u,slicedSegments:c}=RT(e,s,o,a.filter(t=>void 0===t.redirectTo),this.relativeLinkResolution);if(0===c.length&&u.hasChildren()){const t=this.processChildren(a,u);return null===t?null:[new zw(i,t)]}if(0===a.length&&0===c.length)return[new zw(i,[])];const l=xT(t)===r,h=this.processSegment(a,u,c,l?iw:r);return null===h?null:[new zw(i,h)]}}function XT(t){const e=t.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function tE(t){const e=[],n=new Set;for(const r of t){if(!XT(r)){e.push(r);continue}const t=e.find(t=>r.value.routeConfig===t.value.routeConfig);void 0!==t?(t.children.push(...r.children),n.add(t)):e.push(r)}for(const r of n){const t=tE(r.children);e.push(new zw(r.value,t))}return e.filter(t=>!n.has(t))}function eE(t){let e=t;for(;e._sourceSegment;)e=e._sourceSegment;return e}function nE(t){let e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;for(;e._sourceSegment;)e=e._sourceSegment,n+=e._segmentIndexShift?e._segmentIndexShift:0;return n-1}function rE(t){return t.data||{}}function iE(t){return t.resolve||{}}function sE(t){return Yy(e=>{const n=t(e);return n?(0,Nt.D)(n).pipe((0,Pt.U)(()=>e)):(0,un.of)(e)})}class oE extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const aE=new r.OlP("ROUTES");class uE{constructor(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const n=this.loadModuleFactory(e.loadChildren).pipe((0,Pt.U)(n=>{this.onLoadEndListener&&this.onLoadEndListener(e);const i=n.create(t);return new _T(dw(i.injector.get(aE,void 0,r.XFs.Self|r.XFs.Optional)).map(kT),i)}),xb(t=>{throw e._loader$=void 0,t}));return e._loader$=new kb.c(n,()=>new Gy.xQ).pipe((0,Mb.x)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?(0,Nt.D)(this.loader.load(t)):gw(t()).pipe((0,Db.zg)(t=>t instanceof r.YKP?(0,un.of)(t):(0,Nt.D)(this.compiler.compileModuleAsync(t))))}}class cE{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new lE,this.attachRef=null}}class lE{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null,e.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new cE,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class hE{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function dE(t){throw t}function fE(t,e,n){return e.parse("/")}function pE(t,e){return(0,un.of)(null)}const gE={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},mE={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let yE=(()=>{class t{constructor(t,e,n,i,s,o,a,u){this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=i,this.config=u,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Gy.xQ,this.errorHandler=dE,this.malformedUriErrorHandler=fE,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:pE,afterPreactivation:pE},this.urlHandlingStrategy=new hE,this.routeReuseStrategy=new oE,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=s.get(r.h0i),this.console=s.get(r.c2e);const c=s.get(r.R0b);this.isNgZoneEnabled=c instanceof r.R0b&&r.R0b.isInAngularZone(),this.resetConfig(u),this.currentUrlTree=new Tw(new Ew([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new uE(o,a,t=>this.triggerEvent(new Yb(t)),t=>this.triggerEvent(new Jb(t))),this.routerState=Kw(this.currentUrlTree,this.rootComponentType),this.transitions=new vb({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var t;return null===(t=this.location.getState())||void 0===t?void 0:t.\u0275routerPageId}setupNavigations(t){const e=this.events;return t.pipe(En(t=>0!==t.id),(0,Pt.U)(t=>Object.assign(Object.assign({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl)})),Yy(t=>{let n=!1,r=!1;return(0,un.of)(t).pipe((0,Zb.b)(t=>{this.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Yy(t=>{const n=this.browserUrlTree.toString(),i=!this.navigated||t.extractedUrl.toString()!==n||n!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||i)&&this.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return vE(t.source)&&(this.browserUrlTree=t.extractedUrl),(0,un.of)(t).pipe(Yy(t=>{const n=this.transitions.getValue();return e.next(new jb(t.id,this.serializeUrl(t.extractedUrl),t.source,t.restoredState)),n!==this.transitions.getValue()?cv.E:Promise.resolve(t)}),function(t,e,n,r){return Yy(i=>function(t,e,n,r,i){return new jT(t,e,n,r,i).apply()}(t,e,n,i.extractedUrl,r).pipe((0,Pt.U)(t=>Object.assign(Object.assign({},i),{urlAfterRedirects:t}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,Zb.b)(t=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:t.urlAfterRedirects})}),function(t,e,n,i,s){return(0,Db.zg)(o=>function(t,e,n,i,s="emptyOnly",o="legacy"){try{const r=new JT(t,e,n,i,s,o).recognize();return null===r?YT(new QT):(0,un.of)(r)}catch(r){return YT(r)}}(t,e,o.urlAfterRedirects,n(o.urlAfterRedirects),i,s).pipe((0,Pt.U)(t=>Object.assign(Object.assign({},o),{targetSnapshot:t}))))}(this.rootComponentType,this.config,t=>this.serializeUrl(t),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Zb.b)(t=>{"eager"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(t.urlAfterRedirects,t),this.browserUrlTree=t.urlAfterRedirects);const n=new Hb(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.next(n)}));if(i&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:s,extras:o}=t,a=new jb(n,this.serializeUrl(r),i,s);e.next(a);const u=Kw(r,this.rootComponentType).snapshot;return(0,un.of)(Object.assign(Object.assign({},t),{targetSnapshot:u,urlAfterRedirects:r,extras:Object.assign(Object.assign({},o),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=t.rawUrl,this.browserUrlTree=t.urlAfterRedirects,t.resolve(null),cv.E}),sE(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.beforePreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),(0,Zb.b)(t=>{const e=new Gb(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),(0,Pt.U)(t=>Object.assign(Object.assign({},t),{guards:HT(t.targetSnapshot,t.currentSnapshot,this.rootContexts)})),function(t,e){return(0,Db.zg)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?(0,un.of)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(t,e,n,r){return(0,Nt.D)(t).pipe((0,Db.zg)(t=>function(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||0===s.length)return(0,un.of)(!0);const o=s.map(s=>{const o=GT(s,e,i);let a;if(function(t){return t&&bT(t.canDeactivate)}(o))a=gw(o.canDeactivate(t,e,n,r));else{if(!bT(o))throw new Error("Invalid CanDeactivate guard");a=gw(o(t,e,n,r))}return a.pipe(wv())});return(0,un.of)(o).pipe(ET())}(t.component,t.route,n,e,r)),wv(t=>!0!==t,!0))}(o,r,i,t).pipe((0,Db.zg)(n=>n&&function(t){return"boolean"==typeof t}(n)?function(t,e,n,r){return(0,Nt.D)(e).pipe(Rb(e=>hn(function(t,e){return null!==t&&e&&e(new Xb(t)),(0,un.of)(!0)}(e.route.parent,r),function(t,e){return null!==t&&e&&e(new ew(t)),(0,un.of)(!0)}(e.route,r),function(t,e,n){const r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map(t=>function(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)).filter(t=>null!==t).map(e=>Cb(()=>{const i=e.guards.map(i=>{const s=GT(i,e.node,n);let o;if(function(t){return t&&bT(t.canActivateChild)}(s))o=gw(s.canActivateChild(r,t));else{if(!bT(s))throw new Error("Invalid CanActivateChild guard");o=gw(s(r,t))}return o.pipe(wv())});return(0,un.of)(i).pipe(ET())}));return(0,un.of)(i).pipe(ET())}(t,e.path,n),function(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,un.of)(!0);const i=r.map(r=>Cb(()=>{const i=GT(r,e,n);let s;if(function(t){return t&&bT(t.canActivate)}(i))s=gw(i.canActivate(e,t));else{if(!bT(i))throw new Error("Invalid CanActivate guard");s=gw(i(e,t))}return s.pipe(wv())}));return(0,un.of)(i).pipe(ET())}(t,e.route,n))),wv(t=>!0!==t,!0))}(r,s,t,e):(0,un.of)(n)),(0,Pt.U)(t=>Object.assign(Object.assign({},n),{guardsResult:t})))})}(this.ngModule.injector,t=>this.triggerEvent(t)),(0,Zb.b)(t=>{if(wT(t.guardsResult)){const e=uw(`Redirecting to "${this.serializeUrl(t.guardsResult)}"`);throw e.url=t.guardsResult,e}const e=new Kb(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);this.triggerEvent(e)}),En(t=>!!t.guardsResult||(this.restoreHistory(t),this.cancelNavigationTransition(t,""),!1)),sE(t=>{if(t.guards.canActivateChecks.length)return(0,un.of)(t).pipe((0,Zb.b)(t=>{const e=new Wb(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}),Yy(t=>{let e=!1;return(0,un.of)(t).pipe(function(t,e){return(0,Db.zg)(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return(0,un.of)(n);let s=0;return(0,Nt.D)(i).pipe(Rb(n=>function(t,e,n,r){return function(t,e,n,r){const i=Object.keys(t);if(0===i.length)return(0,un.of)({});const s={};return(0,Nt.D)(i).pipe((0,Db.zg)(i=>function(t,e,n,r){const i=GT(t,e,r);return gw(i.resolve?i.resolve(e,n):i(e,n))}(t[i],e,n,r).pipe((0,Zb.b)(t=>{s[i]=t}))),Pb(1),(0,Db.zg)(()=>Object.keys(s).length===i.length?(0,un.of)(s):cv.E))}(t._resolve,t,e,r).pipe((0,Pt.U)(e=>(t._resolvedData=e,t.data=Object.assign(Object.assign({},t.data),Qw(t,n).resolve),null)))}(n.route,r,t,e)),(0,Zb.b)(()=>s++),Pb(1),(0,Db.zg)(t=>s===i.length?(0,un.of)(n):cv.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,Zb.b)({next:()=>e=!0,complete:()=>{e||(this.restoreHistory(t),this.cancelNavigationTransition(t,"At least one route resolver didn't emit any value."))}}))}),(0,Zb.b)(t=>{const e=new Qb(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);this.triggerEvent(e)}))}),sE(t=>{const{targetSnapshot:e,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:s,replaceUrl:o}}=t;return this.hooks.afterPreactivation(e,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!s,replaceUrl:!!o})}),(0,Pt.U)(t=>{const e=function(t,e,n){const r=rT(t,e._root,n?n._root:void 0);return new Gw(r,e)}(this.routeReuseStrategy,t.targetSnapshot,t.currentRouterState);return Object.assign(Object.assign({},t),{targetRouterState:e})}),(0,Zb.b)(t=>{this.currentUrlTree=t.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(t.urlAfterRedirects,t.rawUrl),this.routerState=t.targetRouterState,"deferred"===this.urlUpdateStrategy&&(t.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,t),this.browserUrlTree=t.urlAfterRedirects)}),((t,e,n)=>(0,Pt.U)(r=>(new yT(e,r.targetRouterState,r.currentRouterState,n).activate(t),r)))(this.rootContexts,this.routeReuseStrategy,t=>this.triggerEvent(t)),(0,Zb.b)({next(){n=!0},complete(){n=!0}}),function(t){return e=>e.lift(new Ub(t))}(()=>{var e;if(!n&&!r){const e=`Navigation ID ${t.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(t),this.cancelNavigationTransition(t,e)):this.cancelNavigationTransition(t,e)}(null===(e=this.currentNavigation)||void 0===e?void 0:e.id)===t.id&&(this.currentNavigation=null)}),xb(n=>{if(r=!0,function(t){return t&&t[aw]}(n)){const r=wT(n.url);r||(this.navigated=!0,this.restoreHistory(t,!0));const i=new $b(t.id,this.serializeUrl(t.extractedUrl),n.message);e.next(i),r?setTimeout(()=>{const e=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree),r={skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||vE(t.source)};this.scheduleNavigation(e,"imperative",null,r,{resolve:t.resolve,reject:t.reject,promise:t.promise})},0):t.resolve(!1)}else{this.restoreHistory(t,!0);const r=new zb(t.id,this.serializeUrl(t.extractedUrl),n);e.next(r);try{t.resolve(this.errorHandler(n))}catch(i){t.reject(i)}}return cv.E}))}))}resetRootComponentType(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType}getTransition(){const t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t}setTransition(t){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),t))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const e=this.extractLocationChangeInfoFromEvent(t);this.shouldScheduleNavigation(this.lastLocationChangeInfo,e)&&setTimeout(()=>{const{source:t,state:n,urlTree:r}=e,i={replaceUrl:!0};if(n){const t=Object.assign({},n);delete t.navigationId,delete t.\u0275routerPageId,0!==Object.keys(t).length&&(i.state=t)}this.scheduleNavigation(r,t,n,i)},0),this.lastLocationChangeInfo=e}))}extractLocationChangeInfoFromEvent(t){var e;return{source:"popstate"===t.type?"popstate":"hashchange",urlTree:this.parseUrl(t.url),state:(null===(e=t.state)||void 0===e?void 0:e.navigationId)?t.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(t,e){if(!t)return!0;const n=e.urlTree.toString()===t.urlTree.toString();return e.transitionId!==t.transitionId||!n||!("hashchange"===e.source&&"popstate"===t.source||"popstate"===e.source&&"hashchange"===t.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(t){this.events.next(t)}resetConfig(t){IT(t),this.config=t.map(kT),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,e={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:s,preserveFragment:o}=e,a=n||this.routerState.root,u=o?this.currentUrlTree.fragment:i;let c=null;switch(s){case"merge":c=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=r||null}return null!==c&&(c=this.removeEmptyProps(c)),function(t,e,n,r,i){if(0===n.length)return aT(e.root,e.root,e,r,i);const s=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new cT(!0,0,t);let e=0,n=!1;const r=t.reduce((t,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const e={};return pw(r.outlets,(t,n)=>{e[n]="string"==typeof t?t.split("/"):t}),[...t,{outlets:e}]}if(r.segmentPath)return[...t,r.segmentPath]}return"string"!=typeof r?[...t,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))}),t):[...t,r]},[]);return new cT(n,e,r)}(n);if(s.toRoot())return aT(e.root,new Ew([],{}),e,r,i);const o=function(t,e,n){if(t.isAbsolute)return new lT(e.root,!0,0);if(-1===n.snapshot._lastPathIndex){const t=n.snapshot._urlSegment;return new lT(t,t===e.root,0)}const r=sT(t.commands[0])?0:1;return function(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new lT(r,!1,i-s)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(s,e,t),a=o.processChildren?dT(o.segmentGroup,o.index,s.commands):hT(o.segmentGroup,o.index,s.commands);return aT(o.segmentGroup,a,e,r,i)}(a,this.currentUrlTree,t,c,null!=u?u:null)}navigateByUrl(t,e={skipLocationChange:!1}){const n=wT(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)}navigate(t,e={skipLocationChange:!1}){return function(t){for(let e=0;e<t.length;e++){const n=t[e];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${e}`)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e}isActive(t,e){let n;if(n=!0===e?Object.assign({},gE):!1===e?Object.assign({},mE):e,wT(t))return vw(this.currentUrlTree,t,n);const r=this.parseUrl(t);return vw(this.currentUrlTree,r,n)}removeEmptyProps(t){return Object.keys(t).reduce((e,n)=>{const r=t[n];return null!=r&&(e[n]=r),e},{})}processNavigations(){this.navigations.subscribe(t=>{this.navigated=!0,this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId,this.events.next(new Bb(t.id,this.serializeUrl(t.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,t.resolve(!0)},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}scheduleNavigation(t,e,n,r,i){var s,o;if(this.disposed)return Promise.resolve(!1);const a=this.getTransition(),u=vE(e)&&a&&!vE(a.source),c=(this.lastSuccessfulId===a.id||this.currentNavigation?a.rawUrl:a.urlAfterRedirects).toString()===t.toString();if(u&&c)return Promise.resolve(!0);let l,h,d;i?(l=i.resolve,h=i.reject,d=i.promise):d=new Promise((t,e)=>{l=t,h=e});const f=++this.navigationId;let p;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(n=this.location.getState()),p=n&&n.\u0275routerPageId?n.\u0275routerPageId:r.replaceUrl||r.skipLocationChange?null!==(s=this.browserPageId)&&void 0!==s?s:0:(null!==(o=this.browserPageId)&&void 0!==o?o:0)+1):p=0,this.setTransition({id:f,targetPageId:p,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:l,reject:h,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(t=>Promise.reject(t))}setBrowserUrl(t,e){const n=this.urlSerializer.serialize(t),r=Object.assign(Object.assign({},e.extras.state),this.generateNgRouterState(e.id,e.targetPageId));this.location.isCurrentPathEqualTo(n)||e.extras.replaceUrl?this.location.replaceState(n,"",r):this.location.go(n,"",r)}restoreHistory(t,e=!1){var n,r;if("computed"===this.canceledNavigationResolution){const e=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(n=this.currentNavigation)||void 0===n?void 0:n.finalUrl)||0===e?this.currentUrlTree===(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)&&0===e&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(e)}else"replace"===this.canceledNavigationResolution&&(e&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(t,e){const n=new $b(t.id,this.serializeUrl(t.extractedUrl),e);this.triggerEvent(n),t.resolve(!1)}generateNgRouterState(t,e){return"computed"===this.canceledNavigationResolution?{navigationId:t,"\u0275routerPageId":e}:{navigationId:t}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.DyG),r.LFG(Aw),r.LFG(lE),r.LFG(w),r.LFG(r.zs3),r.LFG(r.v3s),r.LFG(r.Sil),r.LFG(void 0))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();function vE(t){return"imperative"!==t}let _E=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],this.onChanges=new Gy.xQ,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(t){this.onChanges.next(this)}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}onClick(){const t={skipLocationChange:wE(this.skipLocationChange),replaceUrl:wE(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:wE(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(yE),r.Y36(Ww),r.$8M("tabindex"),r.Y36(r.Qsj),r.Y36(r.SBq))},t.\u0275dir=r.lG2({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&r.NdJ("click",function(){return e.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[r.TTD]}),t})(),bE=(()=>{class t{constructor(t,e,n){this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.onChanges=new Gy.xQ,this.subscription=t.events.subscribe(t=>{t instanceof Bb&&this.updateTargetUrlAndHref()})}set routerLink(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]}ngOnChanges(t){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(t,e,n,r,i){if(0!==t||e||n||r||i||"string"==typeof this.target&&"_self"!=this.target)return!0;const s={skipLocationChange:wE(this.skipLocationChange),replaceUrl:wE(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,s),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:wE(this.preserveFragment)})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(yE),r.Y36(Ww),r.Y36(m))},t.\u0275dir=r.lG2({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.NdJ("click",function(t){return e.onClick(t.button,t.ctrlKey,t.shiftKey,t.altKey,t.metaKey)}),2&t&&(r.Ikx("href",e.href,r.LSH),r.uIk("target",e.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[r.TTD]}),t})();function wE(t){return""===t||!!t}let TE=(()=>{class t{constructor(t,e,n,r,i,s){this.router=t,this.element=e,this.renderer=n,this.cdr=r,this.link=i,this.linkWithHref=s,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=t.events.subscribe(t=>{t instanceof Bb&&this.update()})}ngAfterContentInit(){(0,un.of)(this.links.changes,this.linksWithHrefs.changes,(0,un.of)(null)).pipe((0,ln.J)()).subscribe(t=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var t;null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe();const e=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(t=>!!t).map(t=>t.onChanges);this.linkInputChangesSubscription=(0,Nt.D)(e).pipe((0,ln.J)()).subscribe(t=>{this.isActive!==this.isLinkActive(this.router)(t)&&this.update()})}set routerLinkActive(t){const e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter(t=>!!t)}ngOnChanges(t){this.update()}ngOnDestroy(){var t;this.routerEventsSubscription.unsubscribe(),null===(t=this.linkInputChangesSubscription)||void 0===t||t.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const t=this.hasActiveLinks();this.isActive!==t&&(this.isActive=t,this.cdr.markForCheck(),this.classes.forEach(e=>{t?this.renderer.addClass(this.element.nativeElement,e):this.renderer.removeClass(this.element.nativeElement,e)}))})}isLinkActive(t){const e=function(t){return!!t.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return n=>t.isActive(n.urlTree,e)}hasActiveLinks(){const t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(yE),r.Y36(r.SBq),r.Y36(r.Qsj),r.Y36(r.sBO),r.Y36(_E,8),r.Y36(bE,8))},t.\u0275dir=r.lG2({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(t,e,n){if(1&t&&(r.Suo(n,_E,5),r.Suo(n,bE,5)),2&t){let t;r.iGM(t=r.CRH())&&(e.links=t),r.iGM(t=r.CRH())&&(e.linksWithHrefs=t)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[r.TTD]}),t})(),EE=(()=>{class t{constructor(t,e,n,i,s){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=s,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.vpe,this.deactivateEvents=new r.vpe,this.name=i||iw,t.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,t}attach(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;const n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new SE(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(lE),r.Y36(r.s_b),r.Y36(r._Vd),r.$8M("name"),r.Y36(r.sBO))},t.\u0275dir=r.lG2({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t})();class SE{constructor(t,e,n){this.route=t,this.childContexts=e,this.parent=n}get(t,e){return t===Ww?this.route:t===lE?this.childContexts:this.parent.get(t,e)}}class IE{}class AE{preload(t,e){return(0,un.of)(null)}}let CE=(()=>{class t{constructor(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new uE(e,n,e=>t.triggerEvent(new Yb(e)),e=>t.triggerEvent(new Jb(e)))}setUpPreloading(){this.subscription=this.router.events.pipe(En(t=>t instanceof Bb),Rb(()=>this.preload())).subscribe(()=>{})}preload(){const t=this.injector.get(r.h0i);return this.processRoutes(t,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,e){const n=[];for(const r of e)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const t=r._loadedConfig;n.push(this.processRoutes(t.module,t.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(t,r)):r.children&&n.push(this.processRoutes(t,r.children));return(0,Nt.D)(n).pipe((0,ln.J)(),(0,Pt.U)(t=>{}))}preloadConfig(t,e){return this.preloadingStrategy.preload(e,()=>(e._loadedConfig?(0,un.of)(e._loadedConfig):this.loader.load(t.injector,e)).pipe((0,Db.zg)(t=>(e._loadedConfig=t,this.processRoutes(t.module,t.routes)))))}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(yE),r.LFG(r.v3s),r.LFG(r.Sil),r.LFG(r.zs3),r.LFG(IE))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),kE=(()=>{class t{constructor(t,e,n={}){this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(t=>{t instanceof jb?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Bb&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.router.parseUrl(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(t=>{t instanceof rw&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,e){this.router.triggerEvent(new rw(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(yE),r.LFG(Q),r.LFG(void 0))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const xE=new r.OlP("ROUTER_CONFIGURATION"),OE=new r.OlP("ROUTER_FORROOT_GUARD"),NE=[w,{provide:Aw,useClass:Cw},{provide:yE,useFactory:function(t,e,n,r,i,s,o,a={},u,c){const l=new yE(null,t,e,n,r,i,s,dw(o));return u&&(l.urlHandlingStrategy=u),c&&(l.routeReuseStrategy=c),function(t,e){t.errorHandler&&(e.errorHandler=t.errorHandler),t.malformedUriErrorHandler&&(e.malformedUriErrorHandler=t.malformedUriErrorHandler),t.onSameUrlNavigation&&(e.onSameUrlNavigation=t.onSameUrlNavigation),t.paramsInheritanceStrategy&&(e.paramsInheritanceStrategy=t.paramsInheritanceStrategy),t.relativeLinkResolution&&(e.relativeLinkResolution=t.relativeLinkResolution),t.urlUpdateStrategy&&(e.urlUpdateStrategy=t.urlUpdateStrategy)}(a,l),a.enableTracing&&l.events.subscribe(t=>{var e,n;null===(e=console.group)||void 0===e||e.call(console,`Router Event: ${t.constructor.name}`),console.log(t.toString()),console.log(t),null===(n=console.groupEnd)||void 0===n||n.call(console)}),l},deps:[Aw,lE,w,r.zs3,r.v3s,r.Sil,aE,xE,[class{},new r.FiY],[class{},new r.FiY]]},lE,{provide:Ww,useFactory:function(t){return t.routerState.root},deps:[yE]},{provide:r.v3s,useClass:r.EAV},CE,AE,class{preload(t,e){return e().pipe(xb(()=>(0,un.of)(null)))}},{provide:xE,useValue:{enableTracing:!1}}];function DE(){return new r.PXZ("Router",yE)}let RE=(()=>{class t{constructor(t,e){}static forRoot(e,n){return{ngModule:t,providers:[NE,ZE(e),{provide:OE,useFactory:FE,deps:[[yE,new r.FiY,new r.tp0]]},{provide:xE,useValue:n||{}},{provide:m,useFactory:LE,deps:[a,[new r.tBr(v),new r.FiY],xE]},{provide:kE,useFactory:PE,deps:[yE,Q,xE]},{provide:IE,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:AE},{provide:r.PXZ,multi:!0,useFactory:DE},[ME,{provide:r.ip1,multi:!0,useFactory:UE,deps:[ME]},{provide:VE,useFactory:qE,deps:[ME]},{provide:r.tb,multi:!0,useExisting:VE}]]}}static forChild(e){return{ngModule:t,providers:[ZE(e)]}}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(OE,8),r.LFG(yE,8))},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({}),t})();function PE(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new kE(t,e,n)}function LE(t,e,n={}){return n.useHash?new b(t,e):new _(t,e)}function FE(t){return"guarded"}function ZE(t){return[{provide:r.deG,multi:!0,useValue:t},{provide:aE,multi:!0,useValue:t}]}let ME=(()=>{class t{constructor(t){this.injector=t,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Gy.xQ}appInitializer(){return this.injector.get(c,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let t=null;const e=new Promise(e=>t=e),n=this.injector.get(yE),r=this.injector.get(xE);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),t(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?(0,un.of)(null):(this.initNavigation=!0,t(!0),this.resultOfPreactivationDone),n.initialNavigation()):t(!0),e})}bootstrapListener(t){const e=this.injector.get(xE),n=this.injector.get(CE),i=this.injector.get(kE),s=this.injector.get(yE),o=this.injector.get(r.z2F);t===o.components[0]&&(("enabledNonBlocking"===e.initialNavigation||void 0===e.initialNavigation)&&s.initialNavigation(),n.setUpPreloading(),i.init(),s.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.zs3))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();function UE(t){return t.appInitializer.bind(t)}function qE(t){return t.bootstrapListener.bind(t)}const VE=new r.OlP("Router Initializer");function jE(t,e){1&t&&r._UZ(0,"span",14)}let BE=(()=>{class t{constructor(t,e,n,r,i){this.fb=t,this._auth=e,this._usuario=n,this.toastr=r,this.router=i,this.entrando=!1,this.loginForm=this.fb.group({email:["",Qt.required],pass:["",Qt.required]})}ngOnInit(){}login(){if(this.entrando=!0,this.loginForm.invalid)return this.toastr.error("Ingrese sus credenciales","Ha ocurrido un error"),void(this.entrando=!1);this._auth.signInWithEmail(this.loginForm.value.email,this.loginForm.value.pass).then(t=>{t.user.getIdTokenResult().then(t=>{this._usuario.getUsuarioPorEmail(this.loginForm.value.email).subscribe(t=>{t.length>0?(this._auth.saveLocalData("email",this.loginForm.value.email),this._auth.saveLocalData("names",t[0].nombres),this._auth.saveLocalData("lastnames",t[0].apellidos),this._auth.saveLocalData("administrador",t[0].admin),this.router.navigateByUrl("/inicio")):(this.toastr.error("Verifique las credenciales ingresadas","Acceso denegado"),this.entrando=!1)})}),this.entrando=!1}).catch(t=>{this.toastr.error("Verifique las credenciales ingresadas","Acceso denegado"),this.entrando=!1})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(on),r.Y36(mb),r.Y36(yb),r.Y36(ub),r.Y36(yE))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-login"]],decls:23,vars:2,consts:[[1,"login-row"],[1,"card","col-sm-6","login-card"],[1,"card-header"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"form-group","row"],["for","email",1,"col-sm-4","col-form-label"],[1,"col-sm-8"],["type","text","id","email","formControlName","email",1,"form-control"],["for","pass",1,"col-sm-4","col-form-label"],["type","password","id","pass","formControlName","pass",1,"form-control"],[1,"col-sm-4"],["type","submit",1,"btn","btn-light"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"div",2),r.TgZ(3,"b"),r._uU(4,"FARMACIA MIHZELLA"),r.qZA(),r.qZA(),r.TgZ(5,"div",3),r.TgZ(6,"form",4),r.NdJ("ngSubmit",function(){return e.login()}),r.TgZ(7,"div",5),r.TgZ(8,"label",6),r._uU(9,"Correo electr\xf3nico"),r.qZA(),r.TgZ(10,"div",7),r._UZ(11,"input",8),r.qZA(),r.qZA(),r.TgZ(12,"div",5),r.TgZ(13,"label",9),r._uU(14,"Contrase\xf1a"),r.qZA(),r.TgZ(15,"div",7),r._UZ(16,"input",10),r.qZA(),r.qZA(),r.TgZ(17,"div",5),r._UZ(18,"div",11),r.TgZ(19,"div",7),r.TgZ(20,"button",12),r.YNc(21,jE,1,0,"span",13),r._uU(22," ENTRAR "),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.xp6(6),r.Q6J("formGroup",e.loginForm),r.xp6(15),r.Q6J("ngIf",e.entrando))},directives:[qe,_e,He,$t,ve,Ke,M],styles:[""]}),t})(),$E=(()=>{class t{constructor(){}getTodayString(){var t=new Date;return String(t.getDate()).padStart(2,"0")+"/"+String(t.getMonth()+1).padStart(2,"0")+"/"+t.getFullYear()}getTodayTimestamp(){return ga.fromDate(new Date)}getDateFromTimestamp(t){var e=t.toDate();let n=e.getDate(),r=e.getMonth()+1,i=e.getFullYear(),s=e.getHours(),o=e.getMinutes(),a=e.getSeconds();return o<10&&(o=`0${o}`),a<10&&(a=`0${a}`),r<10?`${n}/0${r}/${i} ${s}:${o}:${a}`:`${n}/${r}/${i} ${s}:${o}:${a}`}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function zE(t,e){if(1&t&&(r.TgZ(0,"option",30),r._uU(1),r.qZA()),2&t){const t=e.$implicit;r.s9C("value",t.id),r.xp6(1),r.lnq("",t.codigo," - ",t.comercial," | ",t.generico,"")}}function HE(t,e){1&t&&r._UZ(0,"span",31)}function GE(t,e){if(1&t&&(r.TgZ(0,"tr"),r.TgZ(1,"td"),r._uU(2),r.qZA(),r.TgZ(3,"td"),r._uU(4),r.qZA(),r.TgZ(5,"td"),r._uU(6),r.qZA(),r.TgZ(7,"td"),r._uU(8),r.qZA(),r.TgZ(9,"td"),r._uU(10),r.qZA(),r.qZA()),2&t){const t=e.$implicit;r.xp6(2),r.Oqu(t.fecha),r.xp6(2),r.Oqu(t.descripcion),r.xp6(2),r.Oqu(t.entrada),r.xp6(2),r.Oqu(t.salida),r.xp6(2),r.Oqu(t.saldo)}}let KE=(()=>{class t{constructor(t,e,n,r){this._inventario=t,this._utils=e,this.fb=n,this.toastr=r,this.kardex=[],this.producto={},this.buscando=!1,this.kardexForm=this.fb.group({producto:["",Qt.required]}),this.productos=t.getProductos()}ngOnInit(){}generarKardex(){if(this.kardex=[],this.buscando=!0,this.kardexForm.invalid)return this.toastr.error("Para generar el kardex debe seleccionar un producto","Error"),void(this.buscando=!1);this.getProducto(),this.getCompras(),this.getVentas(),setTimeout(()=>{this.kardex.sort((t,e)=>t.timest-e.timest),setTimeout(()=>{var t=0;for(let e=0;e<this.kardex.length;e++)this.kardex[e].saldo=t+this.kardex[e].entrada-this.kardex[e].salida,t=this.kardex[e].saldo;this.buscando=!1},300)},400)}getProducto(){this._inventario.getProducto(this.kardexForm.value.producto).subscribe(t=>{this.producto={codigo:t.codigo,categoria:t.categoria,comercial:t.comercial,generico:t.generico,laboratorio:t.laboratorio,presentacion:t.presentacion,contenido:t.contenido}})}getCompras(){this._inventario.getComprasProducto(this.kardexForm.value.producto).subscribe(t=>{t.map(t=>{if("added"==t.type){const e=t.payload.doc.data();this.kardex.push({timest:e.fecha,fecha:this._utils.getDateFromTimestamp(e.fecha),descripcion:e.saldo?"Saldo":"Compra",entrada:e.cantidad,salida:0,saldo:0})}})})}getVentas(){this._inventario.getVentasProducto(this.kardexForm.value.producto).subscribe(t=>{t.map(t=>{if("added"==t.type){const e=t.payload.doc.data();this.kardex.push({timest:e.fecha,fecha:this._utils.getDateFromTimestamp(e.fecha),descripcion:"Venta",entrada:0,salida:e.cantidad,saldo:0})}})})}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(C_),r.Y36($E),r.Y36(on),r.Y36(ub))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-kardex"]],decls:70,vars:13,consts:[[1,"row","col-sm-12"],[1,"card","col-sm-6","kardex","mt-2"],[1,"card-body"],[3,"formGroup"],[1,"form-group","col-sm-12"],["for","producto"],["id","producto","formControlName","producto",1,"form-control"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"col-sm-12","text-center"],["type","button","id","generar","data-toggle","modal","data-target","#kardexModal",1,"btn","btn-success","mt-4",3,"click"],["class","spinner-border spinner-border-sm","role","status","aria-hidden","true",4,"ngIf"],["id","kardexModal","tabindex","-1","aria-labelledby","kardexModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],["id","kardexModalLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["closeButtonForm",""],["aria-hidden","true"],[1,"card"],[1,"row"],[1,"col-sm-3"],[1,"col-sm-5"],[1,"col-sm-4"],[1,"badge","badge-dark"],[1,"col-sm-6"],[1,"badge","badge-info"],[1,"table","table-bordered"],[4,"ngFor","ngForOf"],[3,"value"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"div",2),r.TgZ(3,"form",3),r.TgZ(4,"div",4),r.TgZ(5,"label",5),r._uU(6,"Producto"),r.qZA(),r.TgZ(7,"select",6),r.TgZ(8,"option",7),r._uU(9,"Seleccione..."),r.qZA(),r.YNc(10,zE,2,4,"option",8),r.ALo(11,"async"),r.qZA(),r.qZA(),r.TgZ(12,"div",9),r.TgZ(13,"button",10),r.NdJ("click",function(){return e.generarKardex()}),r.YNc(14,HE,1,0,"span",11),r._uU(15," Generar Kardex "),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(16,"div",12),r.TgZ(17,"div",13),r.TgZ(18,"div",14),r.TgZ(19,"div",15),r.TgZ(20,"h5",16),r._uU(21,"KARDEX DEL PRODUCTO"),r.qZA(),r.TgZ(22,"button",17,18),r.TgZ(24,"span",19),r._uU(25,"\xd7"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(26,"div",20),r.TgZ(27,"div",2),r.TgZ(28,"div",21),r.TgZ(29,"div",22),r._uU(30," Codigo: "),r.qZA(),r.TgZ(31,"div",23),r._uU(32),r.qZA(),r.TgZ(33,"div",24),r.TgZ(34,"span",25),r._uU(35),r.qZA(),r.qZA(),r.qZA(),r.TgZ(36,"div",21),r.TgZ(37,"div",22),r._uU(38," Nombre gen\xe9rico: "),r.qZA(),r.TgZ(39,"div",26),r._uU(40),r.qZA(),r.qZA(),r.TgZ(41,"div",21),r.TgZ(42,"div",22),r._uU(43," Nombre comercial: "),r.qZA(),r.TgZ(44,"div",26),r._uU(45),r.qZA(),r.qZA(),r.TgZ(46,"div",21),r.TgZ(47,"div",22),r._uU(48," Presentaci\xf3n: "),r.qZA(),r.TgZ(49,"div",23),r._uU(50),r.qZA(),r.TgZ(51,"div",24),r.TgZ(52,"span",27),r._uU(53),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(54,"div",20),r.TgZ(55,"div",2),r.TgZ(56,"table",28),r.TgZ(57,"thead"),r.TgZ(58,"tr"),r.TgZ(59,"th"),r._uU(60,"Fecha"),r.qZA(),r.TgZ(61,"th"),r._uU(62,"Descripci\xf3n"),r.qZA(),r.TgZ(63,"th"),r._uU(64,"Entrada"),r.qZA(),r.TgZ(65,"th"),r._uU(66,"Salida"),r.qZA(),r.TgZ(67,"th"),r._uU(68,"Saldo"),r.qZA(),r.qZA(),r.qZA(),r.YNc(69,GE,11,5,"tr",29),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.xp6(3),r.Q6J("formGroup",e.kardexForm),r.xp6(7),r.Q6J("ngForOf",r.lcZ(11,11,e.productos)),r.xp6(4),r.Q6J("ngIf",e.buscando),r.xp6(18),r.hij(" ",e.producto.codigo," "),r.xp6(3),r.Oqu(e.producto.categoria),r.xp6(5),r.hij(" ",e.producto.generico," "),r.xp6(5),r.hij(" ",e.producto.comercial," "),r.xp6(5),r.AsE(" ",e.producto.presentacion," (",e.producto.contenido,") "),r.xp6(3),r.hij("Laboratorio ",e.producto.laboratorio,""),r.xp6(16),r.Q6J("ngForOf",e.kardex))},directives:[qe,_e,He,Ye,ve,Ke,Je,nn,F,M],pipes:[H],styles:[""]}),t})();const WE=["closeButtonForm"];function QE(t,e){if(1&t&&(r.TgZ(0,"span"),r._uU(1),r.qZA()),2&t){const t=r.oxw().$implicit;r.xp6(1),r.hij("",t.precio," Bs.")}}function YE(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"tr"),r.TgZ(1,"td"),r._uU(2),r.qZA(),r.TgZ(3,"td"),r._uU(4),r.qZA(),r.TgZ(5,"td"),r._uU(6),r.qZA(),r.TgZ(7,"td"),r._uU(8),r.qZA(),r.TgZ(9,"td"),r.TgZ(10,"span",44),r._uU(11),r.qZA(),r.qZA(),r.TgZ(12,"td"),r.YNc(13,QE,2,1,"span",45),r.qZA(),r.TgZ(14,"td"),r.TgZ(15,"button",46),r.NdJ("click",function(){const e=r.CHM(t).$implicit;return r.oxw().openModal(e.id)}),r._uU(16,"Detalles"),r.qZA(),r.TgZ(17,"button",47),r.NdJ("click",function(){const e=r.CHM(t).$implicit;return r.oxw().deleteProducto(e.id)}),r._uU(18,"Eliminar"),r.qZA(),r.qZA(),r.qZA()}if(2&t){const t=e.$implicit;r.xp6(2),r.Oqu(t.codigo),r.xp6(2),r.Oqu(t.generico),r.xp6(2),r.Oqu(t.comercial),r.xp6(2),r.Oqu(t.laboratorio),r.xp6(3),r.Oqu(t.categoria),r.xp6(2),r.Q6J("ngIf",t.precio)}}function JE(t,e){if(1&t&&(r.TgZ(0,"option",48),r._uU(1),r.qZA()),2&t){const t=e.$implicit;r.s9C("value",t.nombre),r.xp6(1),r.Oqu(t.nombre)}}function XE(t,e){if(1&t&&(r.TgZ(0,"option",48),r._uU(1),r.qZA()),2&t){const t=e.$implicit;r.s9C("value",t.descripcion),r.xp6(1),r.Oqu(t.descripcion)}}const tS=["closeButtonForm"];function eS(t,e){1&t&&(r.TgZ(0,"td"),r.TgZ(1,"span",43),r._uU(2,"SALDO"),r.qZA(),r.qZA())}function nS(t,e){1&t&&(r.TgZ(0,"td"),r.TgZ(1,"span",44),r._uU(2,"COMPRA"),r.qZA(),r.qZA())}function rS(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"tr"),r.TgZ(1,"td"),r._uU(2),r.qZA(),r.TgZ(3,"td"),r._uU(4),r.qZA(),r.YNc(5,eS,3,0,"td",40),r.YNc(6,nS,3,0,"td",40),r.TgZ(7,"td"),r._uU(8),r.qZA(),r.TgZ(9,"td"),r._uU(10),r.qZA(),r.TgZ(11,"td"),r._uU(12),r.qZA(),r.TgZ(13,"td"),r.TgZ(14,"span",41),r._uU(15),r.qZA(),r.qZA(),r.TgZ(16,"td"),r._uU(17),r.qZA(),r.TgZ(18,"td"),r._uU(19),r.qZA(),r.TgZ(20,"td"),r._uU(21),r.qZA(),r.TgZ(22,"td"),r._uU(23),r.qZA(),r.TgZ(24,"td"),r.TgZ(25,"button",42),r.NdJ("click",function(){const e=r.CHM(t).$implicit;return r.oxw().deleteCompra(e.id)}),r._uU(26,"Eliminar"),r.qZA(),r.qZA(),r.qZA()}if(2&t){const t=e.$implicit,n=r.oxw();r.xp6(2),r.Oqu(t.orden),r.xp6(2),r.Oqu(n.getFecha(t.fecha)),r.xp6(1),r.Q6J("ngIf",1==t.saldo),r.xp6(1),r.Q6J("ngIf",0==t.saldo),r.xp6(2),r.Oqu(t.codigo),r.xp6(2),r.Oqu(t.generico),r.xp6(2),r.Oqu(t.laboratorio),r.xp6(3),r.Oqu(t.categoria),r.xp6(2),r.hij("",t.costo," Bs."),r.xp6(2),r.hij("",t.precio," Bs."),r.xp6(2),r.Oqu(t.cantidad),r.xp6(2),r.hij("",t.total," Bs.")}}function iS(t,e){if(1&t&&(r.TgZ(0,"option",45),r._uU(1),r.qZA()),2&t){const t=e.$implicit;r.s9C("value",t.id),r.xp6(1),r.HOy("",t.codigo," - ",t.comercial," | ",t.generico," (",t.laboratorio,")")}}function sS(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"tr"),r.TgZ(1,"td"),r._uU(2),r.qZA(),r.TgZ(3,"td"),r._uU(4),r.qZA(),r.TgZ(5,"td"),r._uU(6),r.qZA(),r.TgZ(7,"td"),r._uU(8),r.qZA(),r.TgZ(9,"td"),r._uU(10),r.ALo(11,"currency"),r.qZA(),r.TgZ(12,"td"),r._uU(13),r.ALo(14,"currency"),r.qZA(),r.TgZ(15,"td"),r._uU(16),r.qZA(),r.TgZ(17,"td"),r._uU(18),r.ALo(19,"currency"),r.qZA(),r.TgZ(20,"td"),r.TgZ(21,"button",42),r.NdJ("click",function(){const e=r.CHM(t).index;return r.oxw().quitarProducto(e)}),r._UZ(22,"i",46),r.qZA(),r.qZA(),r.qZA()}if(2&t){const t=e.$implicit;r.xp6(2),r.Oqu(t.codigo),r.xp6(2),r.Oqu(t.comercial),r.xp6(2),r.Oqu(t.generico),r.xp6(2),r.Oqu(t.laboratorio),r.xp6(2),r.Oqu(r.lcZ(11,8,t.costo)),r.xp6(3),r.Oqu(r.lcZ(14,10,t.precio)),r.xp6(3),r.Oqu(t.cantidad),r.xp6(2),r.Oqu(r.lcZ(19,12,t.total))}}function oS(t,e){1&t&&(r.TgZ(0,"div",47),r.TgZ(1,"span",48),r._uU(2,"Loading..."),r.qZA(),r.qZA())}function aS(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"div"),r.TgZ(1,"button",49),r._uU(2,"Cancelar"),r.qZA(),r.TgZ(3,"button",50),r.NdJ("click",function(){return r.CHM(t),r.oxw().guardarCompras()}),r._uU(4,"Guardar"),r.qZA(),r.qZA()}}const uS=["closeButtonForm"];function cS(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"tr"),r.TgZ(1,"td"),r._uU(2),r.qZA(),r.TgZ(3,"td"),r._uU(4),r.qZA(),r.TgZ(5,"td"),r._uU(6),r.qZA(),r.TgZ(7,"td"),r._uU(8),r.qZA(),r.TgZ(9,"td"),r._uU(10),r.qZA(),r.TgZ(11,"td"),r.TgZ(12,"span",36),r._uU(13),r.qZA(),r.qZA(),r.TgZ(14,"td"),r._uU(15),r.qZA(),r.TgZ(16,"td"),r._uU(17),r.qZA(),r.TgZ(18,"td"),r._uU(19),r.qZA(),r.TgZ(20,"td"),r.TgZ(21,"button",37),r.NdJ("click",function(){const e=r.CHM(t).$implicit;return r.oxw().deleteVenta(e.id)}),r._uU(22,"Eliminar"),r.qZA(),r.qZA(),r.qZA()}if(2&t){const t=e.$implicit,n=r.oxw();r.xp6(2),r.Oqu(t.orden),r.xp6(2),r.Oqu(n.getFecha(t.fecha)),r.xp6(2),r.Oqu(t.codigo),r.xp6(2),r.Oqu(t.generico),r.xp6(2),r.Oqu(t.laboratorio),r.xp6(3),r.Oqu(t.categoria),r.xp6(2),r.Oqu(t.precio),r.xp6(2),r.Oqu(t.cantidad),r.xp6(2),r.hij("",t.total," Bs.")}}function lS(t,e){if(1&t&&(r.TgZ(0,"option",38),r._uU(1),r.qZA()),2&t){const t=e.$implicit;r.s9C("value",t.id),r.xp6(1),r.HOy("",t.codigo," - ",t.comercial," | ",t.generico," (",t.laboratorio,")")}}function hS(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"tr"),r.TgZ(1,"td"),r._uU(2),r.qZA(),r.TgZ(3,"td"),r._uU(4),r.qZA(),r.TgZ(5,"td"),r._uU(6),r.qZA(),r.TgZ(7,"td"),r._uU(8),r.qZA(),r.TgZ(9,"td"),r._uU(10),r.ALo(11,"currency"),r.qZA(),r.TgZ(12,"td"),r._uU(13),r.qZA(),r.TgZ(14,"td"),r._uU(15),r.ALo(16,"currency"),r.qZA(),r.TgZ(17,"td"),r.TgZ(18,"button",37),r.NdJ("click",function(){const e=r.CHM(t).index;return r.oxw().quitarProducto(e)}),r._UZ(19,"i",39),r.qZA(),r.qZA(),r.qZA()}if(2&t){const t=e.$implicit;r.xp6(2),r.Oqu(t.codigo),r.xp6(2),r.Oqu(t.comercial),r.xp6(2),r.Oqu(t.generico),r.xp6(2),r.Oqu(t.laboratorio),r.xp6(2),r.Oqu(r.lcZ(11,7,t.precio)),r.xp6(3),r.Oqu(t.cantidad),r.xp6(2),r.Oqu(r.lcZ(16,9,t.total))}}function dS(t,e){1&t&&(r.TgZ(0,"div",40),r.TgZ(1,"span",41),r._uU(2,"Loading..."),r.qZA(),r.qZA())}function fS(t,e){if(1&t){const t=r.EpF();r.TgZ(0,"div"),r.TgZ(1,"button",42),r._uU(2,"Cancelar"),r.qZA(),r.TgZ(3,"button",43),r.NdJ("click",function(){return r.CHM(t),r.oxw().guardarCompras()}),r._uU(4,"Guardar"),r.qZA(),r.qZA()}}function pS(t,e){if(1&t&&(r.TgZ(0,"tr"),r.TgZ(1,"td"),r._uU(2),r.qZA(),r.TgZ(3,"td"),r._uU(4),r.qZA(),r.TgZ(5,"td"),r._uU(6),r.qZA(),r.TgZ(7,"td"),r._uU(8),r.qZA(),r.TgZ(9,"td"),r.TgZ(10,"span",5),r._uU(11),r.qZA(),r.qZA(),r.TgZ(12,"td"),r._uU(13),r.qZA(),r.qZA()),2&t){const t=e.$implicit;r.xp6(2),r.Oqu(t.codigo),r.xp6(2),r.Oqu(t.generico),r.xp6(2),r.Oqu(t.comercial),r.xp6(2),r.Oqu(t.laboratorio),r.xp6(3),r.Oqu(t.categoria),r.xp6(2),r.Oqu(t.stock)}}const gS=[{path:"login",component:BE},{path:"inicio",component:(()=>{class t{constructor(t){this._auth=t}ngOnInit(){this.saveStatus()}saveStatus(){this._auth.saveStatus("refresh")}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(mb))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-inicio"]],decls:6,vars:0,consts:[[1,"container"],[1,"row"],[1,"text-center","col-sm-12"],[1,"col-sm-12","text-center"],["src","assets/images/logo_farmacia.png","alt","Farmacia Mihzella Salud"]],template:function(t,e){1&t&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"h4",2),r._uU(3,"Bienvenido al Sistema Web de Inventario"),r.qZA(),r.TgZ(4,"div",3),r._UZ(5,"img",4),r.qZA(),r.qZA(),r.qZA())},styles:[""]}),t})()},{path:"productos",component:(()=>{class t{constructor(t,e,n){this._inventario=t,this.formBuilder=e,this.toastr=n,this.edicion=!1,this.idEdicion="",this.productoForm=this.formBuilder.group({codigo:["",Qt.required],generico:["",Qt.required],comercial:["",Qt.required],laboratorio:["",Qt.required],categoria:["",Qt.required],composicion:["",Qt.required],contenido:["",Qt.required],presentacion:["",Qt.required],cliente:["",Qt.required]}),this.productos=t.getProductos(),this.laboratorios=t.getLaboratorios(),this.categorias=t.getCategorias()}ngOnInit(){}newModal(){this.productoForm.reset(),document.getElementById("codigo").removeAttribute("readonly")}openModal(t){this.edicion=!0,this.idEdicion=t;const e=this._inventario.getProducto(t);setTimeout(()=>{e.forEach(t=>{this.producto=t,document.getElementById("codigo").setAttribute("readonly","true"),null!=this.producto&&(this.productoForm=this.formBuilder.group({codigo:[this.producto.codigo,Qt.required],generico:[this.producto.generico,Qt.required],comercial:[this.producto.comercial,Qt.required],laboratorio:[this.producto.laboratorio,Qt.required],categoria:[this.producto.categoria,Qt.required],composicion:[this.producto.composicion,Qt.required],contenido:[this.producto.contenido,Qt.required],presentacion:[this.producto.contenido,Qt.required],cliente:[this.producto.cliente,Qt.required]}))})},500)}saveProducto(){this.productoForm.invalid?this.toastr.error("Todos los campos son requeridos","Ha ocurrido un error"):this.edicion?(this._inventario.updateProducto(this.idEdicion,this.productoForm.value),this.toastr.success("Producto modificado correctamente","Operaci\xf3n exitosa"),this.productoForm.reset(),this.edicion=!1,this.idEdicion="",this.producto=null,document.getElementById("codigo").removeAttribute("readonly"),this.closeButtonForm.nativeElement.click()):(this._inventario.saveProducto(this.productoForm.value),this.toastr.success("Producto guardado correctamente","Operaci\xf3n exitosa"),this.productoForm.reset(),this.edicion=!1,this.idEdicion="",this.producto=null,document.getElementById("codigo").removeAttribute("readonly"),this.closeButtonForm.nativeElement.click())}deleteProducto(t){this._inventario.deleteProducto(t),this.toastr.success("Producto eliminado correctamente","Operaci\xf3n exitosa")}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(C_),r.Y36(on),r.Y36(ub))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-productos"]],viewQuery:function(t,e){if(1&t&&r.Gf(WE,5),2&t){let t;r.iGM(t=r.CRH())&&(e.closeButtonForm=t.first)}},decls:91,vars:10,consts:[["type","button","data-toggle","modal","data-target","#productoModal",1,"btn","btn-sm","btn-success","mb-1",3,"click"],[1,"table"],[1,"thead-dark"],["scope","col"],[1,"details-table"],[4,"ngFor","ngForOf"],["id","productoModal","tabindex","-1","aria-labelledby","productoModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],["id","productoModalLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["closeButtonForm",""],["aria-hidden","true"],["autocomplete","off",3,"formGroup","ngSubmit"],[1,"modal-body","details-table"],[1,"card"],[1,"card-body"],[1,"row"],[1,"form-group","col-sm-6"],["for","codigo"],["type","text","id","codigo","oninput","this.value = this.value.toUpperCase()","formControlName","codigo",1,"form-control"],[1,"form-group"],["for","generico"],["type","text","id","nombre","oninput","this.value = this.value.toUpperCase()","formControlName","generico",1,"form-control"],["for","comercial"],["type","text","id","descripcion","oninput","this.value = this.value.toUpperCase()","formControlName","comercial",1,"form-control"],[1,"card","mt-1"],["for","laboratorio"],["id","laboratorio","formControlName","laboratorio",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],["for","categoria"],["id","codigo","formControlName","categoria",1,"form-control"],["for","composicion"],["type","text","id","codigo","oninput","this.value = this.value.toUpperCase()","formControlName","composicion",1,"form-control"],["for","contenido"],["type","text","id","codigo","oninput","this.value = this.value.toUpperCase()","formControlName","contenido",1,"form-control"],["for","presentacion"],["type","text","id","codigo","oninput","this.value = this.value.toUpperCase()","formControlName","presentacion",1,"form-control"],["for","cliente"],["type","text","id","codigo","oninput","this.value = this.value.toUpperCase()","formControlName","cliente",1,"form-control"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],["type","submit",1,"btn","btn-primary"],[1,"badge","badge-dark"],[4,"ngIf"],["type","button","data-toggle","modal","data-target","#productoModal",1,"btn","btn-sm","btn-warning",3,"click"],["type","button",1,"btn","btn-sm","btn-danger","ml-1",3,"click"],[3,"value"]],template:function(t,e){1&t&&(r.TgZ(0,"h1"),r._uU(1,"Listado de Productos"),r.qZA(),r.TgZ(2,"button",0),r.NdJ("click",function(){return e.newModal()}),r._uU(3,"Nuevo"),r.qZA(),r.TgZ(4,"table",1),r.TgZ(5,"thead",2),r.TgZ(6,"tr"),r.TgZ(7,"th",3),r._uU(8,"CODIGO"),r.qZA(),r.TgZ(9,"th",3),r._uU(10,"NOMBRE GEN\xc9RICO"),r.qZA(),r.TgZ(11,"th",3),r._uU(12,"NOMBRE COMERCIAL"),r.qZA(),r.TgZ(13,"th",3),r._uU(14,"LABORATORIO"),r.qZA(),r.TgZ(15,"th",3),r._uU(16,"CATEGORIA"),r.qZA(),r.TgZ(17,"th",3),r._uU(18,"COSTO"),r.qZA(),r.TgZ(19,"th",3),r._uU(20,"OPCIONES"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(21,"tbody",4),r.YNc(22,YE,19,6,"tr",5),r.ALo(23,"async"),r.qZA(),r.qZA(),r.TgZ(24,"div",6),r.TgZ(25,"div",7),r.TgZ(26,"div",8),r.TgZ(27,"div",9),r.TgZ(28,"h5",10),r._uU(29,"Registrar producto"),r.qZA(),r.TgZ(30,"button",11,12),r.TgZ(32,"span",13),r._uU(33,"\xd7"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(34,"form",14),r.NdJ("ngSubmit",function(){return e.saveProducto()}),r.TgZ(35,"div",15),r.TgZ(36,"div",16),r.TgZ(37,"div",17),r.TgZ(38,"div",18),r.TgZ(39,"div",19),r.TgZ(40,"label",20),r._uU(41,"Codigo"),r.qZA(),r._UZ(42,"input",21),r.qZA(),r.qZA(),r.TgZ(43,"div",22),r.TgZ(44,"label",23),r._uU(45,"Nombre gen\xe9rico"),r.qZA(),r._UZ(46,"input",24),r.qZA(),r.TgZ(47,"div",22),r.TgZ(48,"label",25),r._uU(49,"Nombre comercial"),r.qZA(),r._UZ(50,"input",26),r.qZA(),r.qZA(),r.qZA(),r.TgZ(51,"div",27),r.TgZ(52,"div",17),r.TgZ(53,"div",18),r.TgZ(54,"div",19),r.TgZ(55,"label",28),r._uU(56,"Laboratorio"),r.qZA(),r.TgZ(57,"select",29),r.YNc(58,JE,2,2,"option",30),r.ALo(59,"async"),r.qZA(),r.qZA(),r.TgZ(60,"div",19),r.TgZ(61,"label",31),r._uU(62,"Categor\xeda"),r.qZA(),r.TgZ(63,"select",32),r.YNc(64,XE,2,2,"option",30),r.ALo(65,"async"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(66,"div",27),r.TgZ(67,"div",17),r.TgZ(68,"div",18),r.TgZ(69,"div",19),r.TgZ(70,"label",33),r._uU(71,"Composici\xf3n"),r.qZA(),r._UZ(72,"input",34),r.qZA(),r.TgZ(73,"div",19),r.TgZ(74,"label",35),r._uU(75,"Contenido"),r.qZA(),r._UZ(76,"input",36),r.qZA(),r.qZA(),r.TgZ(77,"div",18),r.TgZ(78,"div",19),r.TgZ(79,"label",37),r._uU(80,"Presentaci\xf3n"),r.qZA(),r._UZ(81,"input",38),r.qZA(),r.TgZ(82,"div",19),r.TgZ(83,"label",39),r._uU(84,"Presentaci\xf3n al cliente"),r.qZA(),r._UZ(85,"input",40),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(86,"div",41),r.TgZ(87,"button",42),r._uU(88,"Cancelar"),r.qZA(),r.TgZ(89,"button",43),r._uU(90,"Guardar"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.xp6(22),r.Q6J("ngForOf",r.lcZ(23,4,e.productos)),r.xp6(12),r.Q6J("formGroup",e.productoForm),r.xp6(24),r.Q6J("ngForOf",r.lcZ(59,6,e.laboratorios)),r.xp6(6),r.Q6J("ngForOf",r.lcZ(65,8,e.categorias)))},directives:[F,qe,_e,He,$t,ve,Ke,Ye,M,Je,nn],pipes:[H],styles:[""]}),t})()},{path:"usuarios",component:(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-usuario"]],decls:0,vars:0,template:function(t,e){},styles:[""]}),t})()},{path:"compras",component:(()=>{class t{constructor(t,e,n,r){this._inventario=t,this._utils=e,this.fb=n,this.toastr=r,this.nuevasCompras=[],this.productoSeleccionado="",this.correlativo="OC-1",this.saving=!1,this.productoForm=this.fb.group({}),this.compraForm=this.fb.group({id:["",Qt.required],costo:["",Qt.required],cantidad:["",Qt.required],precio:["",Qt.required],saldo:!1}),this.compras=t.getCompras(),this.productos=t.getProductos(),this.comprasCabecera=t.getComprasCabecera()}ngOnInit(){}seleccionarProducto(t){this.productoSeleccionado=null==t?void 0:t.target.value}agregar(){if(this.compraForm.invalid)return void this.toastr.error("Debe completar todos los campos","Ocurri\xf3 un error");const t=this._inventario.getProducto(this.compraForm.value.id);var e=!0;t.forEach(t=>{if(e){let n={};n.id=t.id,n.codigo=t.codigo,n.comercial=t.comercial,n.generico=t.generico,n.laboratorio=t.laboratorio,n.categoria=t.categoria,n.costo=this.compraForm.value.costo,n.cantidad=this.compraForm.value.cantidad,n.precio=this.compraForm.value.precio,n.total=Math.round(this.compraForm.value.costo*this.compraForm.value.cantidad*100)/100,n.fecha=this._utils.getTodayTimestamp(),n.saldo=!0===this.compraForm.value.saldo,this.nuevasCompras.push(n),this.compraForm.reset(),e=!1}})}guardarCompras(){this.saving=!0,this._inventario.saveCompraCabecera({orden:this.correlativo}),this.generateOrdenCompra(),setTimeout(()=>{this.nuevasCompras.forEach(t=>{t.orden=this.correlativo,this._inventario.saveCompra(t),this.productoForm.value.precio=t.precio,this._inventario.updateProducto(t.id,this.productoForm.value)}),setTimeout(()=>{this.nuevasCompras=[],this.toastr.success("Registros almacenados correctamente","Operaci\xf3n exitosa"),this.closeButtonForm.nativeElement.click(),this.saving=!1},800)},500)}generateOrdenCompra(){this.comprasCabecera.forEach(t=>{this.correlativo="OC-"+t.length})}quitarProducto(t){this.nuevasCompras.splice(t,1)}getFecha(t){return this._utils.getDateFromTimestamp(t)}deleteCompra(t){this._inventario.deleteCompra(t),this.toastr.success("Compra eliminada correctamente","Operaci\xf3n exitosa")}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(C_),r.Y36($E),r.Y36(on),r.Y36(ub))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-compras"]],viewQuery:function(t,e){if(1&t&&r.Gf(tS,5),2&t){let t;r.iGM(t=r.CRH())&&(e.closeButtonForm=t.first)}},decls:107,vars:10,consts:[["type","button","data-toggle","modal","data-target","#compraModal",1,"btn","btn-sm","btn-success","mb-1"],[1,"table"],[1,"thead-dark"],["scope","col"],[1,"details-table"],[4,"ngFor","ngForOf"],["id","compraModal","tabindex","-1","aria-labelledby","compraModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],["id","productoModalLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["closeButtonForm",""],["aria-hidden","true"],["autocomplete","off"],[1,"modal-body","details-table"],[1,"card"],[1,"card-body"],["autocomplete","off",3,"formGroup"],[1,"row"],[1,"form-group","col-sm-12"],["for","producto"],["id","producto","formControlName","id",1,"form-control"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"form-row"],[1,"form-group","col-md-3"],["for","costo"],["type","number","id","costo","formControlName","costo",1,"form-control"],["for","cantidad"],["type","number","id","cantidad","formControlName","cantidad",1,"form-control"],["for","precio"],["type","number","id","precio","formControlName","precio",1,"form-control"],["type","button","id","agregar",1,"btn","btn-success","mt-4",3,"click"],[1,"form-group"],[1,"form-check"],["type","checkbox","id","saldo","formControlName","saldo",1,"form-check-input"],["for","saldo",1,"form-check-label"],[1,"modal-footer"],["class","spinner-border text-primary","role","status",4,"ngIf"],[4,"ngIf"],[1,"badge","badge-dark"],["type","button",1,"btn","btn-sm","btn-danger","ml-1",3,"click"],[1,"badge","badge-primary"],[1,"badge","badge-success"],[3,"value"],[1,"fas","fa-trash"],["role","status",1,"spinner-border","text-primary"],[1,"sr-only"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn","btn-primary","ml-2",3,"click"]],template:function(t,e){1&t&&(r.TgZ(0,"h1"),r._uU(1,"Listado de Compras"),r.qZA(),r.TgZ(2,"button",0),r._uU(3,"Nueva compra"),r.qZA(),r.TgZ(4,"table",1),r.TgZ(5,"thead",2),r.TgZ(6,"tr"),r.TgZ(7,"th",3),r._uU(8,"COMPRA"),r.qZA(),r.TgZ(9,"th",3),r._uU(10,"FECHA"),r.qZA(),r.TgZ(11,"th",3),r._uU(12,"TIPO"),r.qZA(),r.TgZ(13,"th",3),r._uU(14,"CODIGO"),r.qZA(),r.TgZ(15,"th",3),r._uU(16,"NOMBRE GEN\xc9RICO"),r.qZA(),r.TgZ(17,"th",3),r._uU(18,"LABORATORIO"),r.qZA(),r.TgZ(19,"th",3),r._uU(20,"CATEGORIA"),r.qZA(),r.TgZ(21,"th",3),r._uU(22,"COSTO"),r.qZA(),r.TgZ(23,"th",3),r._uU(24,"PRECIO"),r.qZA(),r.TgZ(25,"th",3),r._uU(26,"CANTIDAD"),r.qZA(),r.TgZ(27,"th",3),r._uU(28,"TOTAL"),r.qZA(),r.TgZ(29,"th",3),r._uU(30,"OPCIONES"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(31,"tbody",4),r.YNc(32,rS,27,12,"tr",5),r.ALo(33,"async"),r.qZA(),r.qZA(),r.TgZ(34,"div",6),r.TgZ(35,"div",7),r.TgZ(36,"div",8),r.TgZ(37,"div",9),r.TgZ(38,"h5",10),r._uU(39,"Registrar nueva compra"),r.qZA(),r.TgZ(40,"button",11,12),r.TgZ(42,"span",13),r._uU(43,"\xd7"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(44,"form",14),r.TgZ(45,"div",15),r.TgZ(46,"div",16),r.TgZ(47,"div",17),r.TgZ(48,"form",18),r.TgZ(49,"div",19),r.TgZ(50,"div",20),r.TgZ(51,"label",21),r._uU(52,"Producto"),r.qZA(),r.TgZ(53,"select",22),r.TgZ(54,"option",23),r._uU(55,"Seleccione..."),r.qZA(),r.YNc(56,iS,2,5,"option",24),r.ALo(57,"async"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(58,"div",25),r.TgZ(59,"div",26),r.TgZ(60,"label",27),r._uU(61,"Costo compra"),r.qZA(),r._UZ(62,"input",28),r.qZA(),r.TgZ(63,"div",26),r.TgZ(64,"label",29),r._uU(65,"Cantidad"),r.qZA(),r._UZ(66,"input",30),r.qZA(),r.TgZ(67,"div",26),r.TgZ(68,"label",31),r._uU(69,"Precio venta"),r.qZA(),r._UZ(70,"input",32),r.qZA(),r.TgZ(71,"div",26),r.TgZ(72,"button",33),r.NdJ("click",function(){return e.agregar()}),r._uU(73,"Agregar"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(74,"div",34),r.TgZ(75,"div",35),r._UZ(76,"input",36),r.TgZ(77,"label",37),r._uU(78," Es saldo "),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(79,"div",16),r.TgZ(80,"div",17),r.TgZ(81,"table",1),r.TgZ(82,"thead",2),r.TgZ(83,"tr"),r.TgZ(84,"th",3),r._uU(85,"CODIGO DE PRODUCTO"),r.qZA(),r.TgZ(86,"th",3),r._uU(87,"NOMBRE COMERCIAL"),r.qZA(),r.TgZ(88,"th",3),r._uU(89,"NOMBRE GEN\xc9RICO"),r.qZA(),r.TgZ(90,"th",3),r._uU(91,"LABORATORIO"),r.qZA(),r.TgZ(92,"th",3),r._uU(93,"COSTO"),r.qZA(),r.TgZ(94,"th",3),r._uU(95,"PRECIO"),r.qZA(),r.TgZ(96,"th",3),r._uU(97,"CANTIDAD"),r.qZA(),r.TgZ(98,"th",3),r._uU(99,"TOTAL"),r.qZA(),r.TgZ(100,"th",3),r._uU(101,"QUITAR"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(102,"tbody"),r.YNc(103,sS,23,14,"tr",5),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(104,"div",38),r.YNc(105,oS,3,0,"div",39),r.YNc(106,aS,5,0,"div",40),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.xp6(32),r.Q6J("ngForOf",r.lcZ(33,6,e.compras)),r.xp6(16),r.Q6J("formGroup",e.compraForm),r.xp6(8),r.Q6J("ngForOf",r.lcZ(57,8,e.productos)),r.xp6(47),r.Q6J("ngForOf",e.nuevasCompras),r.xp6(2),r.Q6J("ngIf",1==e.saving),r.xp6(1),r.Q6J("ngIf",0==e.saving))},directives:[F,qe,_e,He,Ye,ve,Ke,Je,nn,je,$t,Vt,M],pipes:[H,G],styles:[""]}),t})()},{path:"ventas",component:(()=>{class t{constructor(t,e,n,r){this._inventario=t,this._utils=e,this.fb=n,this.toastr=r,this.nuevasVentas=[],this.correlativo="OV-1",this.saving=!1,this.precioVenta=0,this.ventaForm=this.fb.group({id:["",Qt.required],cantidad:["",Qt.required]}),this.ventas=t.getVentas(),this.productos=t.getProductos(),this.ventasCabecera=t.getVentasCabecera()}ngOnInit(){}seleccionarProducto(t){const e=null==t?void 0:t.target.value;console.log(e);const n=this._inventario.getProducto(e);var r=!0;n.forEach(t=>{r&&(this.precioVenta=t.precio,r=!1)})}agregar(){if(this.ventaForm.invalid)return void this.toastr.error("Debe completar todos los campos","Ocurri\xf3 un error");const t=this._inventario.getProducto(this.ventaForm.value.id);var e=!0;t.forEach(t=>{if(e){let n={};n.codigo=t.codigo,n.id=t.id,n.comercial=t.comercial,n.generico=t.generico,n.laboratorio=t.laboratorio,n.categoria=t.categoria,n.precio=this.precioVenta,n.cantidad=this.ventaForm.value.cantidad,n.total=Math.round(this.precioVenta*this.ventaForm.value.cantidad*100)/100,n.fecha=this._utils.getTodayTimestamp(),this.nuevasVentas.push(n),this.ventaForm.reset(),this.precioVenta=0,e=!1}})}guardarCompras(){this.saving=!0,this._inventario.saveVentaCabecera({orden:this.correlativo}),this.generateOrdenCompra(),setTimeout(()=>{this.nuevasVentas.forEach(t=>{t.orden=this.correlativo,this._inventario.saveVenta(t)}),setTimeout(()=>{this.nuevasVentas=[],this.toastr.success("Registros almacenados correctamente","Venta exitosa"),this.closeButtonForm.nativeElement.click(),this.saving=!1},800)},500)}generateOrdenCompra(){this.ventasCabecera.forEach(t=>{this.correlativo="OV-"+t.length})}quitarProducto(t){console.log(t),this.nuevasVentas.splice(t,1)}getFecha(t){return this._utils.getDateFromTimestamp(t)}deleteVenta(t){this._inventario.deleteVenta(t),this.toastr.success("Venta eliminada correctamente","Operaci\xf3n exitosa")}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(C_),r.Y36($E),r.Y36(on),r.Y36(ub))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-ventas"]],viewQuery:function(t,e){if(1&t&&r.Gf(uS,5),2&t){let t;r.iGM(t=r.CRH())&&(e.closeButtonForm=t.first)}},decls:92,vars:11,consts:[["type","button","data-toggle","modal","data-target","#ventaModal",1,"btn","btn-sm","btn-success","mb-1"],[1,"table"],[1,"thead-dark"],["scope","col"],[1,"details-table"],[4,"ngFor","ngForOf"],["id","ventaModal","tabindex","-1","aria-labelledby","ventaModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-xl"],[1,"modal-content"],[1,"modal-header"],["id","productoModalLabel",1,"modal-title"],["type","button","data-dismiss","modal","aria-label","Close",1,"close"],["closeButtonForm",""],["aria-hidden","true"],["autocomplete","off"],[1,"modal-body","details-table"],[1,"card"],[1,"card-body"],["autocomplete","off",3,"formGroup"],[1,"row"],[1,"form-group","col-sm-12"],["for","producto"],["id","producto","formControlName","id",1,"form-control",3,"change"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"form-row"],[1,"form-group","col-md-5"],["for","precio"],["type","number","id","precio","readonly","",1,"form-control",3,"value"],["for","cantidad"],["type","number","id","cantidad","formControlName","cantidad",1,"form-control"],[1,"form-group","col-md-2"],["type","button","id","agregar",1,"btn","btn-success","mt-4",3,"click"],[1,"modal-footer"],["class","spinner-border text-primary","role","status",4,"ngIf"],[4,"ngIf"],[1,"badge","badge-dark"],["type","button",1,"btn","btn-sm","btn-danger","ml-1",3,"click"],[3,"value"],[1,"fas","fa-trash"],["role","status",1,"spinner-border","text-primary"],[1,"sr-only"],["type","button","data-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn","btn-primary","ml-2",3,"click"]],template:function(t,e){1&t&&(r.TgZ(0,"h1"),r._uU(1,"Listado de Ventas"),r.qZA(),r.TgZ(2,"button",0),r._uU(3,"Nueva venta"),r.qZA(),r.TgZ(4,"table",1),r.TgZ(5,"thead",2),r.TgZ(6,"tr"),r.TgZ(7,"th",3),r._uU(8,"VENTA"),r.qZA(),r.TgZ(9,"th",3),r._uU(10,"FECHA"),r.qZA(),r.TgZ(11,"th",3),r._uU(12,"CODIGO"),r.qZA(),r.TgZ(13,"th",3),r._uU(14,"NOMBRE GEN\xc9RICO"),r.qZA(),r.TgZ(15,"th",3),r._uU(16,"LABORATORIO"),r.qZA(),r.TgZ(17,"th",3),r._uU(18,"CATEGORIA"),r.qZA(),r.TgZ(19,"th",3),r._uU(20,"PRECIO (Bs)"),r.qZA(),r.TgZ(21,"th",3),r._uU(22,"CANTIDAD"),r.qZA(),r.TgZ(23,"th",3),r._uU(24,"TOTAL"),r.qZA(),r.TgZ(25,"th",3),r._uU(26,"OPCIONES"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(27,"tbody",4),r.YNc(28,cS,23,9,"tr",5),r.ALo(29,"async"),r.qZA(),r.qZA(),r.TgZ(30,"div",6),r.TgZ(31,"div",7),r.TgZ(32,"div",8),r.TgZ(33,"div",9),r.TgZ(34,"h5",10),r._uU(35,"Registrar nueva venta"),r.qZA(),r.TgZ(36,"button",11,12),r.TgZ(38,"span",13),r._uU(39,"\xd7"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(40,"form",14),r.TgZ(41,"div",15),r.TgZ(42,"div",16),r.TgZ(43,"div",17),r.TgZ(44,"form",18),r.TgZ(45,"div",19),r.TgZ(46,"div",20),r.TgZ(47,"label",21),r._uU(48,"Producto"),r.qZA(),r.TgZ(49,"select",22),r.NdJ("change",function(t){return e.seleccionarProducto(t)}),r.TgZ(50,"option",23),r._uU(51,"Seleccione..."),r.qZA(),r.YNc(52,lS,2,5,"option",24),r.ALo(53,"async"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(54,"div",25),r.TgZ(55,"div",26),r.TgZ(56,"label",27),r._uU(57,"Precio"),r.qZA(),r._UZ(58,"input",28),r.qZA(),r.TgZ(59,"div",26),r.TgZ(60,"label",29),r._uU(61,"Cantidad"),r.qZA(),r._UZ(62,"input",30),r.qZA(),r.TgZ(63,"div",31),r.TgZ(64,"button",32),r.NdJ("click",function(){return e.agregar()}),r._uU(65,"Agregar"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(66,"div",16),r.TgZ(67,"div",17),r.TgZ(68,"table",1),r.TgZ(69,"thead",2),r.TgZ(70,"tr"),r.TgZ(71,"th",3),r._uU(72,"CODIGO DE PRODUCTO"),r.qZA(),r.TgZ(73,"th",3),r._uU(74,"NOMBRE COMERCIAL"),r.qZA(),r.TgZ(75,"th",3),r._uU(76,"NOMBRE GEN\xc9RICO"),r.qZA(),r.TgZ(77,"th",3),r._uU(78,"LABORATORIO"),r.qZA(),r.TgZ(79,"th",3),r._uU(80,"COSTO"),r.qZA(),r.TgZ(81,"th",3),r._uU(82,"CANTIDAD"),r.qZA(),r.TgZ(83,"th",3),r._uU(84,"TOTAL"),r.qZA(),r.TgZ(85,"th",3),r._uU(86,"QUITAR"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(87,"tbody"),r.YNc(88,hS,20,11,"tr",5),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(89,"div",33),r.YNc(90,dS,3,0,"div",34),r.YNc(91,fS,5,0,"div",35),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.xp6(28),r.Q6J("ngForOf",r.lcZ(29,7,e.ventas)),r.xp6(16),r.Q6J("formGroup",e.ventaForm),r.xp6(8),r.Q6J("ngForOf",r.lcZ(53,9,e.productos)),r.xp6(6),r.s9C("value",e.precioVenta),r.xp6(30),r.Q6J("ngForOf",e.nuevasVentas),r.xp6(2),r.Q6J("ngIf",1==e.saving),r.xp6(1),r.Q6J("ngIf",0==e.saving))},directives:[F,qe,_e,He,Ye,ve,Ke,Je,nn,je,$t,M],pipes:[H,G],styles:[""]}),t})()},{path:"inventario",component:(()=>{class t{constructor(t,e){this._inventario=t,this._auth=e,this.inventario=[],this.sumatoriaCompras=0,this.sumatoriaVentas=0,this.productos=t.getProductos(),this.compras=t.getCompras(),this.ventas=t.getVentas(),this.calcularInventario()}ngOnInit(){"refresh"===this._auth.getStatus()&&(window.location.reload(),this._auth.saveStatus("inv-ready"))}ngOnDestroy(){this._auth.saveStatus("refresh")}calcularInventario(){this.productos.forEach(t=>{for(var e=0;e<t.length;e++)this.sumatorias(t[e])})}sumatorias(t){this.sumatoriaCompras=0,this.sumatoriaVentas=0;var e=0,n=0;this.compras.forEach(n=>{for(var r=0;r<n.length;r++)n[r].codigo===t.codigo&&(e+=n[r].cantidad)}),this.ventas.forEach(e=>{for(var r=0;r<e.length;r++)e[r].codigo===t.codigo&&(n+=e[r].cantidad)}),setTimeout(()=>{let r={};r.codigo=t.codigo,r.generico=t.generico,r.comercial=t.comercial,r.laboratorio=t.laboratorio,r.categoria=t.categoria,r.stock=e-n,this.inventario.push(r)},1e3)}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(C_),r.Y36(mb))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-inventario"]],decls:19,vars:1,consts:[[1,"table"],[1,"thead-dark"],["scope","col"],[1,"details-table"],[4,"ngFor","ngForOf"],[1,"badge","badge-dark"]],template:function(t,e){1&t&&(r.TgZ(0,"h1"),r._uU(1,"Inventario de Productos"),r.qZA(),r.TgZ(2,"table",0),r.TgZ(3,"thead",1),r.TgZ(4,"tr"),r.TgZ(5,"th",2),r._uU(6,"CODIGO"),r.qZA(),r.TgZ(7,"th",2),r._uU(8,"NOMBRE GEN\xc9RICO"),r.qZA(),r.TgZ(9,"th",2),r._uU(10,"NOMBRE COMERCIAL"),r.qZA(),r.TgZ(11,"th",2),r._uU(12,"LABORATORIO"),r.qZA(),r.TgZ(13,"th",2),r._uU(14,"CATEGORIA"),r.qZA(),r.TgZ(15,"th",2),r._uU(16,"STOCK"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(17,"tbody",3),r.YNc(18,pS,14,6,"tr",4),r.qZA(),r.qZA()),2&t&&(r.xp6(18),r.Q6J("ngForOf",e.inventario))},directives:[F],styles:[""]}),t})()},{path:"kardex",component:KE},{path:"parametricas",component:gb},{path:"**",pathMatch:"full",redirectTo:"login"}];let mS=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({imports:[[RE.forRoot(gS)],RE]}),t})(),yS=(()=>{class t{constructor(t,e){this._auth=t,this.router=e,this.usuario="",this.email="",this.usuario=t.getLocalData("names")+" "+t.getLocalData("lastnames"),this.email=t.getLocalData("email")}ngOnInit(){}logout(){this._auth.clearLocalStorage(),this.router.navigateByUrl("/login")}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(mb),r.Y36(yE))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-header"]],decls:45,vars:1,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bar-color"],["href","#",1,"navbar-brand"],["src","assets/images/salud_icono.png",1,"icono-logo"],["type","button","data-toggle","collapse","data-target","#navbarNav","aria-controls","navbarNav","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarText",1,"collapse","navbar-collapse"],[1,"navbar-nav","mr-auto"],["routerLinkActive","active",1,"nav-item"],["routerLink","/inicio",1,"nav-link"],[1,"fas","fa-home"],[1,"sr-only"],["routerLinkActive","active",1,"nav-item","ml-3"],["routerLink","/productos",1,"nav-link"],[1,"fas","fa-first-aid"],["routerLink","/compras",1,"nav-link"],[1,"fas","fa-shopping-bag"],["routerLink","/ventas",1,"nav-link"],[1,"fas","fa-money-check-alt"],["routerLink","/inventario",1,"nav-link"],[1,"fas","fa-book-medical"],["routerLink","/kardex",1,"nav-link"],[1,"fas","fa-book"],["routerLink","/parametricas",1,"nav-link"],[1,"fas","fa-box"],[1,"navbar-text"],[1,"nav-item","dropdown"],["href","#","id","navbarDropdownMenuLink","role","button","data-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],[1,"fas","fa-user"],["aria-labelledby","navbarDropdownMenuLink",1,"dropdown-menu"],[1,"dropdown-item",3,"click"]],template:function(t,e){1&t&&(r.TgZ(0,"nav",0),r.TgZ(1,"a",1),r._UZ(2,"img",2),r.qZA(),r.TgZ(3,"button",3),r._UZ(4,"span",4),r.qZA(),r.TgZ(5,"div",5),r.TgZ(6,"ul",6),r.TgZ(7,"li",7),r.TgZ(8,"a",8),r._UZ(9,"i",9),r._uU(10," Inicio "),r.TgZ(11,"span",10),r._uU(12,"(current)"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(13,"li",11),r.TgZ(14,"a",12),r._UZ(15,"i",13),r._uU(16," Productos"),r.qZA(),r.qZA(),r.TgZ(17,"li",11),r.TgZ(18,"a",14),r._UZ(19,"i",15),r._uU(20," Compras"),r.qZA(),r.qZA(),r.TgZ(21,"li",11),r.TgZ(22,"a",16),r._UZ(23,"i",17),r._uU(24," Ventas"),r.qZA(),r.qZA(),r.TgZ(25,"li",11),r.TgZ(26,"a",18),r._UZ(27,"i",19),r._uU(28," Inventario"),r.qZA(),r.qZA(),r.TgZ(29,"li",11),r.TgZ(30,"a",20),r._UZ(31,"i",21),r._uU(32," Kardex"),r.qZA(),r.qZA(),r.TgZ(33,"li",11),r.TgZ(34,"a",22),r._UZ(35,"i",23),r._uU(36," Parametricas"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(37,"span",24),r.TgZ(38,"li",25),r.TgZ(39,"a",26),r._UZ(40,"i",27),r._uU(41),r.qZA(),r.TgZ(42,"div",28),r.TgZ(43,"button",29),r.NdJ("click",function(){return e.logout()}),r._uU(44,"Cerrar sesi\xf3n"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&t&&(r.xp6(41),r.hij(" ",e.email," "))},directives:[TE,bE],styles:[""]}),t})(),vS=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-footer"]],decls:5,vars:0,consts:[[1,"bg-dark","text-center","text-lg-start","ftr"],[1,"text-center","p-3","text-muted"],["href","https://www.muvlin.com","target","blank",1,"text-light"]],template:function(t,e){1&t&&(r.TgZ(0,"footer",0),r.TgZ(1,"div",1),r._uU(2," \xa9 2021 Derechos reservados "),r.TgZ(3,"a",2),r._uU(4,"MUVLIN"),r.qZA(),r.qZA(),r.qZA())},styles:[""]}),t})();function _S(t,e){1&t&&(r.ynx(0),r._UZ(1,"router-outlet"),r.BQk())}function bS(t,e){1&t&&(r.ynx(0),r._UZ(1,"app-header"),r.TgZ(2,"div",1),r._UZ(3,"router-outlet"),r.qZA(),r._UZ(4,"app-footer"),r.BQk())}let wS=(()=>{class t{constructor(t){this.router=t,this.title="appinventario-frontend"}}return t.\u0275fac=function(e){return new(e||t)(r.Y36(yE))},t.\u0275cmp=r.Xpm({type:t,selectors:[["app-root"]],decls:2,vars:2,consts:[[4,"ngIf"],[1,"container-fluid"]],template:function(t,e){1&t&&(r.YNc(0,_S,2,0,"ng-container",0),r.YNc(1,bS,5,0,"ng-container",0)),2&t&&(r.Q6J("ngIf","/login"==e.router.url),r.xp6(1),r.Q6J("ngIf","/login"!=e.router.url))},directives:[M,EE,yS,vS],styles:[""]}),t})();function TS(){return"undefined"!=typeof window&&void 0!==window.document}function ES(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function SS(t){switch(t.length){case 0:return new Z_;case 1:return t[0];default:return new M_(t)}}function IS(t,e,n,r,i={},s={}){const o=[],a=[];let u=-1,c=null;if(r.forEach(t=>{const n=t.offset,r=n==u,l=r&&c||{};Object.keys(t).forEach(n=>{let r=n,a=t[n];if("offset"!==n)switch(r=e.normalizePropertyName(r,o),a){case"!":a=i[n];break;case x_:a=s[n];break;default:a=e.normalizeStyleValue(n,r,a,o)}l[r]=a}),r||a.push(l),c=l,u=n}),o.length){const t="\n - ";throw new Error(`Unable to animate due to the following errors:${t}${o.join(t)}`)}return a}function AS(t,e,n,r){switch(e){case"start":t.onStart(()=>r(n&&CS(n,"start",t)));break;case"done":t.onDone(()=>r(n&&CS(n,"done",t)));break;case"destroy":t.onDestroy(()=>r(n&&CS(n,"destroy",t)))}}function CS(t,e,n){const r=n.totalTime,i=kS(t.element,t.triggerName,t.fromState,t.toState,e||t.phaseName,null==r?t.totalTime:r,!!n.disabled),s=t._data;return null!=s&&(i._data=s),i}function kS(t,e,n,r,i="",s=0,o){return{element:t,triggerName:e,fromState:n,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function xS(t,e,n){let r;return t instanceof Map?(r=t.get(e),r||t.set(e,r=n)):(r=t[e],r||(r=t[e]=n)),r}function OS(t){const e=t.indexOf(":");return[t.substring(1,e),t.substr(e+1)]}let NS=(t,e)=>!1,DS=(t,e)=>!1,RS=(t,e,n)=>[];const PS=ES();(PS||"undefined"!=typeof Element)&&(NS=TS()?(t,e)=>{for(;e&&e!==document.documentElement;){if(e===t)return!0;e=e.parentNode||e.host}return!1}:(t,e)=>t.contains(e),DS=(()=>{if(PS||Element.prototype.matches)return(t,e)=>t.matches(e);{const t=Element.prototype,e=t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector;return e?(t,n)=>e.apply(t,[n]):DS}})(),RS=(t,e,n)=>{let r=[];if(n){const n=t.querySelectorAll(e);for(let t=0;t<n.length;t++)r.push(n[t])}else{const n=t.querySelector(e);n&&r.push(n)}return r});let LS=null,FS=!1;function ZS(t){LS||(LS=("undefined"!=typeof document?document.body:null)||{},FS=!!LS.style&&"WebkitAppearance"in LS.style);let e=!0;return LS.style&&!function(t){return"ebkit"==t.substring(1,6)}(t)&&(e=t in LS.style,!e&&FS&&(e="Webkit"+t.charAt(0).toUpperCase()+t.substr(1)in LS.style)),e}const MS=DS,US=NS,qS=RS;function VS(t){const e={};return Object.keys(t).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");e[r]=t[n]}),e}let jS=(()=>{class t{validateStyleProperty(t){return ZS(t)}matchesElement(t,e){return MS(t,e)}containsElement(t,e){return US(t,e)}query(t,e,n){return qS(t,e,n)}computeStyle(t,e,n){return n||""}animate(t,e,n,r,i,s=[],o){return new Z_(n,r)}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})(),BS=(()=>{class t{}return t.NOOP=new jS,t})();const $S="ng-enter",zS="ng-leave",HS="ng-trigger",GS=".ng-trigger",KS="ng-animating",WS=".ng-animating";function QS(t){if("number"==typeof t)return t;const e=t.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:YS(parseFloat(e[1]),e[2])}function YS(t,e){switch(e){case"s":return 1e3*t;default:return t}}function JS(t,e,n){return t.hasOwnProperty("duration")?t:function(t,e,n){let r,i=0,s="";if("string"==typeof t){const n=t.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return e.push(`The provided timing value "${t}" is invalid.`),{duration:0,delay:0,easing:""};r=YS(parseFloat(n[1]),n[2]);const o=n[3];null!=o&&(i=YS(parseFloat(o),n[4]));const a=n[5];a&&(s=a)}else r=t;if(!n){let n=!1,s=e.length;r<0&&(e.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(e.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&e.splice(s,0,`The provided timing value "${t}" is invalid.`)}return{duration:r,delay:i,easing:s}}(t,e,n)}function XS(t,e={}){return Object.keys(t).forEach(n=>{e[n]=t[n]}),e}function tI(t,e,n={}){if(e)for(let r in t)n[r]=t[r];else XS(t,n);return n}function eI(t,e,n){return n?e+":"+n+";":""}function nI(t){let e="";for(let n=0;n<t.style.length;n++){const r=t.style.item(n);e+=eI(0,r,t.style.getPropertyValue(r))}for(const n in t.style)t.style.hasOwnProperty(n)&&!n.startsWith("_")&&(e+=eI(0,dI(n),t.style[n]));t.setAttribute("style",e)}function rI(t,e,n){t.style&&(Object.keys(e).forEach(r=>{const i=hI(r);n&&!n.hasOwnProperty(r)&&(n[r]=t.style[i]),t.style[i]=e[r]}),ES()&&nI(t))}function iI(t,e){t.style&&(Object.keys(e).forEach(e=>{const n=hI(e);t.style[n]=""}),ES()&&nI(t))}function sI(t){return Array.isArray(t)?1==t.length?t[0]:D_(t):t}const oI=new RegExp("{{\\s*(.+?)\\s*}}","g");function aI(t){let e=[];if("string"==typeof t){let n;for(;n=oI.exec(t);)e.push(n[1]);oI.lastIndex=0}return e}function uI(t,e,n){const r=t.toString(),i=r.replace(oI,(t,r)=>{let i=e[r];return e.hasOwnProperty(r)||(n.push(`Please provide a value for the animation param ${r}`),i=""),i.toString()});return i==r?t:i}function cI(t){const e=[];let n=t.next();for(;!n.done;)e.push(n.value),n=t.next();return e}const lI=/-+([a-z0-9])/g;function hI(t){return t.replace(lI,(...t)=>t[1].toUpperCase())}function dI(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function fI(t,e){return 0===t||0===e}function pI(t,e,n){const r=Object.keys(n);if(r.length&&e.length){let s=e[0],o=[];if(r.forEach(t=>{s.hasOwnProperty(t)||o.push(t),s[t]=n[t]}),o.length)for(var i=1;i<e.length;i++){let n=e[i];o.forEach(function(e){n[e]=mI(t,e)})}}return e}function gI(t,e,n){switch(e.type){case 7:return t.visitTrigger(e,n);case 0:return t.visitState(e,n);case 1:return t.visitTransition(e,n);case 2:return t.visitSequence(e,n);case 3:return t.visitGroup(e,n);case 4:return t.visitAnimate(e,n);case 5:return t.visitKeyframes(e,n);case 6:return t.visitStyle(e,n);case 8:return t.visitReference(e,n);case 9:return t.visitAnimateChild(e,n);case 10:return t.visitAnimateRef(e,n);case 11:return t.visitQuery(e,n);case 12:return t.visitStagger(e,n);default:throw new Error(`Unable to resolve animation metadata node #${e.type}`)}}function mI(t,e){return window.getComputedStyle(t)[e]}function yI(t,e){const n=[];return"string"==typeof t?t.split(/\s*,\s*/).forEach(t=>function(t,e,n){if(":"==t[0]){const r=function(t,e){switch(t){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,e)=>parseFloat(e)>parseFloat(t);case":decrement":return(t,e)=>parseFloat(e)<parseFloat(t);default:return e.push(`The transition alias value "${t}" is not supported`),"* => *"}}(t,n);if("function"==typeof r)return void e.push(r);t=r}const r=t.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${t}" is not supported`),e;const i=r[1],s=r[2],o=r[3];e.push(bI(i,o));"<"==s[0]&&!("*"==i&&"*"==o)&&e.push(bI(o,i))}(t,n,e)):n.push(t),n}const vI=new Set(["true","1"]),_I=new Set(["false","0"]);function bI(t,e){const n=vI.has(t)||_I.has(t),r=vI.has(e)||_I.has(e);return(i,s)=>{let o="*"==t||t==i,a="*"==e||e==s;return!o&&n&&"boolean"==typeof i&&(o=i?vI.has(t):_I.has(t)),!a&&r&&"boolean"==typeof s&&(a=s?vI.has(e):_I.has(e)),o&&a}}const wI=new RegExp("s*:selfs*,?","g");function TI(t,e,n){return new EI(t).build(e,n)}class EI{constructor(t){this._driver=t}build(t,e){const n=new SI(e);return this._resetContextStyleTimingState(n),gI(this,sI(t),n)}_resetContextStyleTimingState(t){t.currentQuerySelector="",t.collectedStyles={},t.collectedStyles[""]={},t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,r=e.depCount=0;const i=[],s=[];return"@"==t.name.charAt(0)&&e.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),t.definitions.forEach(t=>{if(this._resetContextStyleTimingState(e),0==t.type){const n=t,r=n.name;r.toString().split(/\s*,\s*/).forEach(t=>{n.name=t,i.push(this.visitState(n,e))}),n.name=r}else if(1==t.type){const i=this.visitTransition(t,e);n+=i.queryCount,r+=i.depCount,s.push(i)}else e.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:t.name,states:i,transitions:s,queryCount:n,depCount:r,options:null}}visitState(t,e){const n=this.visitStyle(t.styles,e),r=t.options&&t.options.params||null;if(n.containsDynamicStyles){const i=new Set,s=r||{};if(n.styles.forEach(t=>{if(II(t)){const e=t;Object.keys(e).forEach(t=>{aI(e[t]).forEach(t=>{s.hasOwnProperty(t)||i.add(t)})})}}),i.size){const n=cI(i.values());e.errors.push(`state("${t.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:t.name,style:n,options:r?{params:r}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;const n=gI(this,sI(t.animation),e);return{type:1,matchers:yI(t.expr,e.errors),animation:n,queryCount:e.queryCount,depCount:e.depCount,options:AI(t.options)}}visitSequence(t,e){return{type:2,steps:t.steps.map(t=>gI(this,t,e)),options:AI(t.options)}}visitGroup(t,e){const n=e.currentTime;let r=0;const i=t.steps.map(t=>{e.currentTime=n;const i=gI(this,t,e);return r=Math.max(r,e.currentTime),i});return e.currentTime=r,{type:3,steps:i,options:AI(t.options)}}visitAnimate(t,e){const n=function(t,e){let n=null;if(t.hasOwnProperty("duration"))n=t;else if("number"==typeof t)return CI(JS(t,e).duration,0,"");const r=t;if(r.split(/\s+/).some(t=>"{"==t.charAt(0)&&"{"==t.charAt(1))){const t=CI(0,0,"");return t.dynamic=!0,t.strValue=r,t}return n=n||JS(r,e),CI(n.duration,n.delay,n.easing)}(t.timings,e.errors);e.currentAnimateTimings=n;let r,i=t.styles?t.styles:R_({});if(5==i.type)r=this.visitKeyframes(i,e);else{let i=t.styles,s=!1;if(!i){s=!0;const t={};n.easing&&(t.easing=n.easing),i=R_(t)}e.currentTime+=n.duration+n.delay;const o=this.visitStyle(i,e);o.isEmptyStep=s,r=o}return e.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(t,e){const n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){const n=[];Array.isArray(t.styles)?t.styles.forEach(t=>{"string"==typeof t?t==x_?n.push(t):e.errors.push(`The provided style string value ${t} is not allowed.`):n.push(t)}):n.push(t.styles);let r=!1,i=null;return n.forEach(t=>{if(II(t)){const e=t,n=e.easing;if(n&&(i=n,delete e.easing),!r)for(let t in e)if(e[t].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:t.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(t,e){const n=e.currentAnimateTimings;let r=e.currentTime,i=e.currentTime;n&&i>0&&(i-=n.duration+n.delay),t.styles.forEach(t=>{"string"!=typeof t&&Object.keys(t).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void e.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const s=e.collectedStyles[e.currentQuerySelector],o=s[n];let a=!0;o&&(i!=r&&i>=o.startTime&&r<=o.endTime&&(e.errors.push(`The CSS property "${n}" that exists between the times of "${o.startTime}ms" and "${o.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=o.startTime),a&&(s[n]={startTime:i,endTime:r}),e.options&&function(t,e,n){const r=e.params||{},i=aI(t);i.length&&i.forEach(t=>{r.hasOwnProperty(t)||n.push(`Unable to resolve the local animation param ${t} in the given list of values`)})}(t[n],e.options,e.errors)})})}visitKeyframes(t,e){const n={type:5,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let s=!1,o=!1,a=0;const u=t.steps.map(t=>{const n=this._makeStyleAst(t,e);let u=null!=n.offset?n.offset:function(t){if("string"==typeof t)return null;let e=null;if(Array.isArray(t))t.forEach(t=>{if(II(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}});else if(II(t)&&t.hasOwnProperty("offset")){const n=t;e=parseFloat(n.offset),delete n.offset}return e}(n.styles),c=0;return null!=u&&(r++,c=n.offset=u),o=o||c<0||c>1,s=s||c<a,a=c,i.push(c),n});o&&e.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),s&&e.errors.push("Please ensure that all keyframe offsets are in order");const c=t.steps.length;let l=0;r>0&&r<c?e.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(l=1/(c-1));const h=c-1,d=e.currentTime,f=e.currentAnimateTimings,p=f.duration;return u.forEach((t,r)=>{const s=l>0?r==h?1:l*r:i[r],o=s*p;e.currentTime=d+f.delay+o,f.duration=o,this._validateStyleAst(t,e),t.offset=s,n.styles.push(t)}),n}visitReference(t,e){return{type:8,animation:gI(this,sI(t.animation),e),options:AI(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:9,options:AI(t.options)}}visitAnimateRef(t,e){return{type:10,animation:this.visitReference(t.animation,e),options:AI(t.options)}}visitQuery(t,e){const n=e.currentQuerySelector,r=t.options||{};e.queryCount++,e.currentQuery=t;const[i,s]=function(t){const e=!!t.split(/\s*,\s*/).find(t=>":self"==t);return e&&(t=t.replace(wI,"")),[t=t.replace(/@\*/g,GS).replace(/@\w+/g,t=>GS+"-"+t.substr(1)).replace(/:animating/g,WS),e]}(t.selector);e.currentQuerySelector=n.length?n+" "+i:i,xS(e.collectedStyles,e.currentQuerySelector,{});const o=gI(this,sI(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:s,animation:o,originalSelector:t.selector,options:AI(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push("stagger() can only be used inside of query()");const n="full"===t.timings?{duration:0,delay:0,easing:"full"}:JS(t.timings,e.errors,!0);return{type:12,animation:gI(this,sI(t.animation),e),timings:n,options:null}}}class SI{constructor(t){this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function II(t){return!Array.isArray(t)&&"object"==typeof t}function AI(t){return t?(t=XS(t)).params&&(t.params=function(t){return t?XS(t):null}(t.params)):t={},t}function CI(t,e,n){return{duration:t,delay:e,easing:n}}function kI(t,e,n,r,i,s,o=null,a=!1){return{type:1,element:t,keyframes:e,preStyleProps:n,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class xI{constructor(){this._map=new Map}consume(t){let e=this._map.get(t);return e?this._map.delete(t):e=[],e}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}}const OI=new RegExp(":enter","g"),NI=new RegExp(":leave","g");function DI(t,e,n,r,i,s={},o={},a,u,c=[]){return(new RI).buildKeyframes(t,e,n,r,i,s,o,a,u,c)}class RI{buildKeyframes(t,e,n,r,i,s,o,a,u,c=[]){u=u||new xI;const l=new LI(t,e,u,r,i,c,[]);l.options=a,l.currentTimeline.setStyles([s],null,l.errors,a),gI(this,n,l);const h=l.timelines.filter(t=>t.containsAnimation());if(h.length&&Object.keys(o).length){const t=h[h.length-1];t.allowOnlyTimelineStyles()||t.setStyles([o],null,l.errors,a)}return h.length?h.map(t=>t.buildKeyframes()):[kI(e,[],[],[],0,0,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){const n=e.subInstructions.consume(e.element);if(n){const r=e.createSubContext(t.options),i=e.currentTimeline.currentTime,s=this._visitSubInstructions(n,r,r.options);i!=s&&e.transformIntoNewTimeline(s)}e.previousNode=t}visitAnimateRef(t,e){const n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_visitSubInstructions(t,e,n){let r=e.currentTimeline.currentTime;const i=null!=n.duration?QS(n.duration):null,s=null!=n.delay?QS(n.delay):null;return 0!==i&&t.forEach(t=>{const n=e.appendInstructionToTimeline(t,i,s);r=Math.max(r,n.duration+n.delay)}),r}visitReference(t,e){e.updateOptions(t.options,!0),gI(this,t.animation,e),e.previousNode=t}visitSequence(t,e){const n=e.subContextCount;let r=e;const i=t.options;if(i&&(i.params||i.delay)&&(r=e.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=PI);const t=QS(i.delay);r.delayNextStep(t)}t.steps.length&&(t.steps.forEach(t=>gI(this,t,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){const n=[];let r=e.currentTimeline.currentTime;const i=t.options&&t.options.delay?QS(t.options.delay):0;t.steps.forEach(s=>{const o=e.createSubContext(t.options);i&&o.delayNextStep(i),gI(this,s,o),r=Math.max(r,o.currentTimeline.currentTime),n.push(o.currentTimeline)}),n.forEach(t=>e.currentTimeline.mergeTimelineCollectedStyles(t)),e.transformIntoNewTimeline(r),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){const n=t.strValue;return JS(e.params?uI(n,e.params,e.errors):n,e.errors)}return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){const n=e.currentAnimateTimings=this._visitTiming(t.timings,e),r=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),r.snapshotCurrentStyles());const i=t.style;5==i.type?this.visitKeyframes(i,e):(e.incrementTime(n.duration),this.visitStyle(i,e),r.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){const n=e.currentTimeline,r=e.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(i):n.setStyles(t.styles,i,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){const n=e.currentAnimateTimings,r=e.currentTimeline.duration,i=n.duration,s=e.createSubContext().currentTimeline;s.easing=n.easing,t.styles.forEach(t=>{s.forwardTime((t.offset||0)*i),s.setStyles(t.styles,t.easing,e.errors,e.options),s.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(s),e.transformIntoNewTimeline(r+i),e.previousNode=t}visitQuery(t,e){const n=e.currentTimeline.currentTime,r=t.options||{},i=r.delay?QS(r.delay):0;i&&(6===e.previousNode.type||0==n&&e.currentTimeline.getCurrentStyleProperties().length)&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=PI);let s=n;const o=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!r.optional,e.errors);e.currentQueryTotal=o.length;let a=null;o.forEach((n,r)=>{e.currentQueryIndex=r;const o=e.createSubContext(t.options,n);i&&o.delayNextStep(i),n===e.element&&(a=o.currentTimeline),gI(this,t.animation,o),o.currentTimeline.applyStylesToKeyframe(),s=Math.max(s,o.currentTimeline.currentTime)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(s),a&&(e.currentTimeline.mergeTimelineCollectedStyles(a),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){const n=e.parentContext,r=e.currentTimeline,i=t.timings,s=Math.abs(i.duration),o=s*(e.currentQueryTotal-1);let a=s*e.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=o-a;break;case"full":a=n.currentStaggerTime}const u=e.currentTimeline;a&&u.delayNextStep(a);const c=u.currentTime;gI(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}const PI={};class LI{constructor(t,e,n,r,i,s,o,a){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=s,this.timelines=o,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=PI,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new FI(this._driver,e,0),o.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;const n=t;let r=this.options;null!=n.duration&&(r.duration=QS(n.duration)),null!=n.delay&&(r.delay=QS(n.delay));const i=n.params;if(i){let t=r.params;t||(t=this.options.params={}),Object.keys(i).forEach(n=>{(!e||!t.hasOwnProperty(n))&&(t[n]=uI(i[n],t,this.errors))})}}_copyOptions(){const t={};if(this.options){const e=this.options.params;if(e){const n=t.params={};Object.keys(e).forEach(t=>{n[t]=e[t]})}}return t}createSubContext(t=null,e,n){const r=e||this.element,i=new LI(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(t),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(t){return this.previousNode=PI,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){const r={duration:null!=e?e:t.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+t.delay,easing:""},i=new ZI(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,r,t.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,r,i,s){let o=[];if(r&&o.push(this.element),t.length>0){t=(t=t.replace(OI,"."+this._enterClassName)).replace(NI,"."+this._leaveClassName);let e=this._driver.query(this.element,t,1!=n);0!==n&&(e=n<0?e.slice(e.length+n,e.length):e.slice(0,n)),o.push(...e)}return!i&&0==o.length&&s.push(`\`query("${e}")\` returned zero elements. (Use \`query("${e}", { optional: true })\` if you wish to allow this.)`),o}}class FI{constructor(t,e,n,r){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(t){const e=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new FI(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles[t]=e,this._globalTimelineStyles[t]=e,this._styleSummary[t]={time:this.currentTime,value:e}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&(this._previousKeyframe.easing=t),Object.keys(this._globalTimelineStyles).forEach(t=>{this._backFill[t]=this._globalTimelineStyles[t]||x_,this._currentKeyframe[t]=x_}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,r){e&&(this._previousKeyframe.easing=e);const i=r&&r.params||{},s=function(t,e){const n={};let r;return t.forEach(t=>{"*"===t?(r=r||Object.keys(e),r.forEach(t=>{n[t]=x_})):tI(t,!1,n)}),n}(t,this._globalTimelineStyles);Object.keys(s).forEach(t=>{const e=uI(s[t],i,n);this._pendingStyles[t]=e,this._localTimelineStyles.hasOwnProperty(t)||(this._backFill[t]=this._globalTimelineStyles.hasOwnProperty(t)?this._globalTimelineStyles[t]:x_),this._updateStyle(t,e)})}applyStylesToKeyframe(){const t=this._pendingStyles,e=Object.keys(t);0!=e.length&&(this._pendingStyles={},e.forEach(e=>{this._currentKeyframe[e]=t[e]}),Object.keys(this._localTimelineStyles).forEach(t=>{this._currentKeyframe.hasOwnProperty(t)||(this._currentKeyframe[t]=this._localTimelineStyles[t])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(t=>{const e=this._localTimelineStyles[t];this._pendingStyles[t]=e,this._updateStyle(t,e)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){Object.keys(t._styleSummary).forEach(e=>{const n=this._styleSummary[e],r=t._styleSummary[e];(!n||r.time>n.time)&&this._updateStyle(e,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const t=new Set,e=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,s)=>{const o=tI(i,!0);Object.keys(o).forEach(n=>{const r=o[n];"!"==r?t.add(n):r==x_&&e.add(n)}),n||(o.offset=s/this.duration),r.push(o)});const i=t.size?cI(t.values()):[],s=e.size?cI(e.values()):[];if(n){const t=r[0],e=XS(t);t.offset=0,e.offset=1,r=[t,e]}return kI(this.element,r,i,s,this.duration,this.startTime,this.easing,!1)}}class ZI extends FI{constructor(t,e,n,r,i,s,o=!1){super(t,e,s.delay),this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=o,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&e){const i=[],s=n+e,o=e/s,a=tI(t[0],!1);a.offset=0,i.push(a);const u=tI(t[0],!1);u.offset=MI(o),i.push(u);const c=t.length-1;for(let r=1;r<=c;r++){let o=tI(t[r],!1);o.offset=MI((e+o.offset*n)/s),i.push(o)}n=s,e=0,r="",t=i}return kI(this.element,t,this.preStyleProps,this.postStyleProps,n,e,r,!0)}}function MI(t,e=3){const n=Math.pow(10,e-1);return Math.round(t*n)/n}class UI{}class qI extends UI{normalizePropertyName(t,e){return hI(t)}normalizeStyleValue(t,e,n,r){let i="";const s=n.toString().trim();if(VI[e]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const e=n.match(/^[+-]?[\d\.]+([a-z]*)$/);e&&0==e[1].length&&r.push(`Please provide a CSS unit value for ${t}:${n}`)}return s+i}}const VI=(()=>function(t){const e={};return t.forEach(t=>e[t]=!0),e}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function jI(t,e,n,r,i,s,o,a,u,c,l,h,d){return{type:0,element:t,triggerName:e,isRemovalTransition:i,fromState:n,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:u,preStyleProps:c,postStyleProps:l,totalTime:h,errors:d}}const BI={};class $I{constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,r){return function(t,e,n,r,i){return t.some(t=>t(e,n,r,i))}(this.ast.matchers,t,e,n,r)}buildStyles(t,e,n){const r=this._stateStyles["*"],i=this._stateStyles[t],s=r?r.buildStyles(e,n):{};return i?i.buildStyles(e,n):s}build(t,e,n,r,i,s,o,a,u,c){const l=[],h=this.ast.options&&this.ast.options.params||BI,d=this.buildStyles(n,o&&o.params||BI,l),f=a&&a.params||BI,p=this.buildStyles(r,f,l),g=new Set,m=new Map,y=new Map,v="void"===r,_={params:Object.assign(Object.assign({},h),f)},b=c?[]:DI(t,e,this.ast.animation,i,s,d,p,_,u,l);let w=0;if(b.forEach(t=>{w=Math.max(t.duration+t.delay,w)}),l.length)return jI(e,this._triggerName,n,r,v,d,p,[],[],m,y,w,l);b.forEach(t=>{const n=t.element,r=xS(m,n,{});t.preStyleProps.forEach(t=>r[t]=!0);const i=xS(y,n,{});t.postStyleProps.forEach(t=>i[t]=!0),n!==e&&g.add(n)});const T=cI(g.values());return jI(e,this._triggerName,n,r,v,d,p,b,T,m,y,w)}}class zI{constructor(t,e,n){this.styles=t,this.defaultParams=e,this.normalizer=n}buildStyles(t,e){const n={},r=XS(this.defaultParams);return Object.keys(t).forEach(e=>{const n=t[e];null!=n&&(r[e]=n)}),this.styles.styles.forEach(t=>{if("string"!=typeof t){const i=t;Object.keys(i).forEach(t=>{let s=i[t];s.length>1&&(s=uI(s,r,e));const o=this.normalizer.normalizePropertyName(t,e);s=this.normalizer.normalizeStyleValue(t,o,s,e),n[o]=s})}}),n}}class HI{constructor(t,e,n){this.name=t,this.ast=e,this._normalizer=n,this.transitionFactories=[],this.states={},e.states.forEach(t=>{this.states[t.name]=new zI(t.style,t.options&&t.options.params||{},n)}),GI(this.states,"true","1"),GI(this.states,"false","0"),e.transitions.forEach(e=>{this.transitionFactories.push(new $I(t,e,this.states))}),this.fallbackTransition=function(t,e,n){return new $I(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[(t,e)=>!0],options:null,queryCount:0,depCount:0},e)}(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,r){return this.transitionFactories.find(i=>i.match(t,e,n,r))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}}function GI(t,e,n){t.hasOwnProperty(e)?t.hasOwnProperty(n)||(t[n]=t[e]):t.hasOwnProperty(n)&&(t[e]=t[n])}const KI=new xI;class WI{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(t,e){const n=[],r=TI(this._driver,e,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[t]=r}_buildPlayer(t,e,n){const r=t.element,i=IS(0,this._normalizer,0,t.keyframes,e,n);return this._driver.animate(r,i,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){const r=[],i=this._animations[t];let s;const o=new Map;if(i?(s=DI(this._driver,e,i,$S,zS,{},{},n,KI,r),s.forEach(t=>{const e=xS(o,t.element,{});t.postStyleProps.forEach(t=>e[t]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),s=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);o.forEach((t,e)=>{Object.keys(t).forEach(n=>{t[n]=this._driver.computeStyle(e,n,x_)})});const a=SS(s.map(t=>{const e=o.get(t.element);return this._buildPlayer(t,{},e)}));return this._playersById[t]=a,a.onDestroy(()=>this.destroy(t)),this.players.push(a),a}destroy(t){const e=this._getPlayer(t);e.destroy(),delete this._playersById[t];const n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){const e=this._playersById[t];if(!e)throw new Error(`Unable to find the timeline player referenced by ${t}`);return e}listen(t,e,n,r){const i=kS(e,"","","");return AS(this._getPlayer(t),n,i,r),()=>{}}command(t,e,n,r){if("register"==n)return void this.register(t,r[0]);if("create"==n)return void this.create(t,e,r[0]||{});const i=this._getPlayer(t);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(t)}}}const QI="ng-animate-queued",YI="ng-animate-disabled",JI=".ng-animate-disabled",XI=[],tA={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},eA={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},nA="__ng_removed";class rA{constructor(t,e=""){this.namespaceId=e;const n=t&&t.hasOwnProperty("value");if(this.value=function(t){return null!=t?t:null}(n?t.value:t),n){const e=XS(t);delete e.value,this.options=e}else this.options={};this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(t){const e=t.params;if(e){const t=this.options.params;Object.keys(e).forEach(n=>{null==t[n]&&(t[n]=e[n])})}}}const iA="void",sA=new rA(iA);class oA{constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,pA(e,this._hostClassName)}listen(t,e,n,r){if(!this._triggers.hasOwnProperty(e))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${e}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${e}" because the provided event is undefined!`);if(!function(t){return"start"==t||"done"==t}(n))throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${e}" is not supported!`);const i=xS(this._elementListeners,t,[]),s={name:e,phase:n,callback:r};i.push(s);const o=xS(this._engine.statesByElement,t,{});return o.hasOwnProperty(e)||(pA(t,HS),pA(t,HS+"-"+e),o[e]=sA),()=>{this._engine.afterFlush(()=>{const t=i.indexOf(s);t>=0&&i.splice(t,1),this._triggers[e]||delete o[e]})}}register(t,e){return!this._triggers[t]&&(this._triggers[t]=e,!0)}_getTrigger(t){const e=this._triggers[t];if(!e)throw new Error(`The provided animation trigger "${t}" has not been registered!`);return e}trigger(t,e,n,r=!0){const i=this._getTrigger(e),s=new uA(this.id,e,t);let o=this._engine.statesByElement.get(t);o||(pA(t,HS),pA(t,HS+"-"+e),this._engine.statesByElement.set(t,o={}));let a=o[e];const u=new rA(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&u.absorbOptions(a.options),o[e]=u,a||(a=sA),u.value!==iA&&a.value===u.value){if(!function(t,e){const n=Object.keys(t),r=Object.keys(e);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!e.hasOwnProperty(r)||t[r]!==e[r])return!1}return!0}(a.params,u.params)){const e=[],n=i.matchStyles(a.value,a.params,e),r=i.matchStyles(u.value,u.params,e);e.length?this._engine.reportError(e):this._engine.afterFlush(()=>{iI(t,n),rI(t,r)})}return}const c=xS(this._engine.playersByElement,t,[]);c.forEach(t=>{t.namespaceId==this.id&&t.triggerName==e&&t.queued&&t.destroy()});let l=i.matchTransition(a.value,u.value,t,u.params),h=!1;if(!l){if(!r)return;l=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:l,fromState:a,toState:u,player:s,isFallbackTransition:h}),h||(pA(t,QI),s.onStart(()=>{gA(t,QI)})),s.onDone(()=>{let e=this.players.indexOf(s);e>=0&&this.players.splice(e,1);const n=this._engine.playersByElement.get(t);if(n){let t=n.indexOf(s);t>=0&&n.splice(t,1)}}),this.players.push(s),c.push(s),s}deregister(t){delete this._triggers[t],this._engine.statesByElement.forEach((e,n)=>{delete e[t]}),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(e=>e.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);const e=this._engine.playersByElement.get(t);e&&(e.forEach(t=>t.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){const n=this._engine.driver.query(t,GS,!0);n.forEach(t=>{if(t[nA])return;const n=this._engine.fetchNamespacesByElement(t);n.size?n.forEach(n=>n.triggerLeaveAnimation(t,e,!1,!0)):this.clearElementCache(t)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(t=>this.clearElementCache(t)))}triggerLeaveAnimation(t,e,n,r){const i=this._engine.statesByElement.get(t);if(i){const s=[];if(Object.keys(i).forEach(e=>{if(this._triggers[e]){const n=this.trigger(t,e,iA,r);n&&s.push(n)}}),s.length)return this._engine.markElementAsRemoved(this.id,t,!0,e),n&&SS(s).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){const e=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(e&&n){const r=new Set;e.forEach(e=>{const i=e.name;if(r.has(i))return;r.add(i);const s=this._triggers[i].fallbackTransition,o=n[i]||sA,a=new rA(iA),u=new uA(this.id,i,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:i,transition:s,fromState:o,toState:a,player:u,isFallbackTransition:!0})})}}removeNode(t,e){const n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let r=!1;if(n.totalAnimations){const e=n.players.length?n.playersByQueriedElement.get(t):[];if(e&&e.length)r=!0;else{let e=t;for(;e=e.parentNode;)if(n.statesByElement.get(e)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(t),r)n.markElementAsRemoved(this.id,t,!1,e);else{const r=t[nA];(!r||r===tA)&&(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){pA(t,this._hostClassName)}drainQueuedTransitions(t){const e=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,s=this._elementListeners.get(i);s&&s.forEach(e=>{if(e.name==n.triggerName){const r=kS(i,n.triggerName,n.fromState.value,n.toState.value);r._data=t,AS(n.player,e.phase,r,e.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):e.push(n)}),this._queue=[],e.sort((t,e)=>{const n=t.transition.ast.depCount,r=e.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(t.element,e.element)?1:-1})}destroy(t){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}elementContainsData(t){let e=!1;return this._elementListeners.has(t)&&(e=!0),e=!!this._queue.find(e=>e.element===t)||e,e}}class aA{constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(t,e)=>{}}_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}get queuedPlayers(){const t=[];return this._namespaceList.forEach(e=>{e.players.forEach(e=>{e.queued&&t.push(e)})}),t}createNamespace(t,e){const n=new oA(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,e)){this._namespaceList.splice(i+1,0,t),r=!0;break}r||this._namespaceList.splice(0,0,t)}else this._namespaceList.push(t);return this.namespacesByHostElement.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let r=this._namespaceLookup[t];r&&r.register(e,n)&&this.totalAnimations++}destroy(t,e){if(!t)return;const n=this._fetchNamespace(t);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[t];const e=this._namespaceList.indexOf(n);e>=0&&this._namespaceList.splice(e,1)}),this.afterFlushAnimationsDone(()=>n.destroy(e))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){const e=new Set,n=this.statesByElement.get(t);if(n){const t=Object.keys(n);for(let r=0;r<t.length;r++){const i=n[t[r]].namespaceId;if(i){const t=this._fetchNamespace(i);t&&e.add(t)}}}return e}trigger(t,e,n,r){if(cA(e)){const i=this._fetchNamespace(t);if(i)return i.trigger(e,n,r),!0}return!1}insertNode(t,e,n,r){if(!cA(e))return;const i=e[nA];if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const t=this.collectedLeaveElements.indexOf(e);t>=0&&this.collectedLeaveElements.splice(t,1)}if(t){const r=this._fetchNamespace(t);r&&r.insertNode(e,n)}r&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),pA(t,YI)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),gA(t,YI))}removeNode(t,e,n,r){if(cA(e)){const i=t?this._fetchNamespace(t):null;if(i?i.removeNode(e,r):this.markElementAsRemoved(t,e,!1,r),n){const n=this.namespacesByHostElement.get(e);n&&n.id!==t&&n.removeNode(e,r)}}else this._onRemovalComplete(e,r)}markElementAsRemoved(t,e,n,r){this.collectedLeaveElements.push(e),e[nA]={namespaceId:t,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(t,e,n,r,i){return cA(e)?this._fetchNamespace(t).listen(e,n,r,i):()=>{}}_buildInstruction(t,e,n,r,i){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,r,t.fromState.options,t.toState.options,e,i)}destroyInnerAnimations(t){let e=this.driver.query(t,GS,!0);e.forEach(t=>this.destroyActiveAnimationsForElement(t)),0!=this.playersByQueriedElement.size&&(e=this.driver.query(t,WS,!0),e.forEach(t=>this.finishActiveQueriedAnimationOnElement(t)))}destroyActiveAnimationsForElement(t){const e=this.playersByElement.get(t);e&&e.forEach(t=>{t.queued?t.markedForDestroy=!0:t.destroy()})}finishActiveQueriedAnimationOnElement(t){const e=this.playersByQueriedElement.get(t);e&&e.forEach(t=>t.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return SS(this.players).onDone(()=>t());t()})}processLeaveNode(t){const e=t[nA];if(e&&e.setForRemoval){if(t[nA]=tA,e.namespaceId){this.destroyInnerAnimations(t);const n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}this.driver.matchesElement(t,JI)&&this.markElementAsDisabled(t,!1),this.driver.query(t,JI,!0).forEach(t=>{this.markElementAsDisabled(t,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((t,e)=>this._balanceNamespaceList(t,e)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)pA(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{e=this._flushAnimations(n,t)}finally{for(let t=0;t<n.length;t++)n[t]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(t=>t()),this._flushFns=[],this._whenQuietFns.length){const t=this._whenQuietFns;this._whenQuietFns=[],e.length?SS(e).onDone(()=>{t.forEach(t=>t())}):t.forEach(t=>t())}}reportError(t){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${t.join("\n")}`)}_flushAnimations(t,e){const n=new xI,r=[],i=new Map,s=[],o=new Map,a=new Map,u=new Map,c=new Set;this.disabledNodes.forEach(t=>{c.add(t);const e=this.driver.query(t,".ng-animate-queued",!0);for(let n=0;n<e.length;n++)c.add(e[n])});const l=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=dA(h,this.collectedEnterElements),f=new Map;let p=0;d.forEach((t,e)=>{const n=$S+p++;f.set(e,n),t.forEach(t=>pA(t,n))});const g=[],m=new Set,y=new Set;for(let O=0;O<this.collectedLeaveElements.length;O++){const t=this.collectedLeaveElements[O],e=t[nA];e&&e.setForRemoval&&(g.push(t),m.add(t),e.hasAnimation?this.driver.query(t,".ng-star-inserted",!0).forEach(t=>m.add(t)):y.add(t))}const v=new Map,_=dA(h,Array.from(m));_.forEach((t,e)=>{const n=zS+p++;v.set(e,n),t.forEach(t=>pA(t,n))}),t.push(()=>{d.forEach((t,e)=>{const n=f.get(e);t.forEach(t=>gA(t,n))}),_.forEach((t,e)=>{const n=v.get(e);t.forEach(t=>gA(t,n))}),g.forEach(t=>{this.processLeaveNode(t)})});const b=[],w=[];for(let O=this._namespaceList.length-1;O>=0;O--)this._namespaceList[O].drainQueuedTransitions(e).forEach(t=>{const e=t.player,i=t.element;if(b.push(e),this.collectedEnterElements.length){const t=i[nA];if(t&&t.setForMove)return void e.destroy()}const c=!l||!this.driver.containsElement(l,i),h=v.get(i),d=f.get(i),p=this._buildInstruction(t,n,d,h,c);if(p.errors&&p.errors.length)w.push(p);else{if(c)return e.onStart(()=>iI(i,p.fromStyles)),e.onDestroy(()=>rI(i,p.toStyles)),void r.push(e);if(t.isFallbackTransition)return e.onStart(()=>iI(i,p.fromStyles)),e.onDestroy(()=>rI(i,p.toStyles)),void r.push(e);p.timelines.forEach(t=>t.stretchStartingKeyframe=!0),n.append(i,p.timelines),s.push({instruction:p,player:e,element:i}),p.queriedElements.forEach(t=>xS(o,t,[]).push(e)),p.preStyleProps.forEach((t,e)=>{const n=Object.keys(t);if(n.length){let t=a.get(e);t||a.set(e,t=new Set),n.forEach(e=>t.add(e))}}),p.postStyleProps.forEach((t,e)=>{const n=Object.keys(t);let r=u.get(e);r||u.set(e,r=new Set),n.forEach(t=>r.add(t))})}});if(w.length){const t=[];w.forEach(e=>{t.push(`@${e.triggerName} has failed due to:\n`),e.errors.forEach(e=>t.push(`- ${e}\n`))}),b.forEach(t=>t.destroy()),this.reportError(t)}const T=new Map,E=new Map;s.forEach(t=>{const e=t.element;n.has(e)&&(E.set(e,e),this._beforeAnimationBuild(t.player.namespaceId,t.instruction,T))}),r.forEach(t=>{const e=t.element;this._getPreviousPlayers(e,!1,t.namespaceId,t.triggerName,null).forEach(t=>{xS(T,e,[]).push(t),t.destroy()})});const S=g.filter(t=>vA(t,a,u)),I=new Map;hA(I,this.driver,y,u,x_).forEach(t=>{vA(t,a,u)&&S.push(t)});const A=new Map;d.forEach((t,e)=>{hA(A,this.driver,new Set(t),a,"!")}),S.forEach(t=>{const e=I.get(t),n=A.get(t);I.set(t,Object.assign(Object.assign({},e),n))});const C=[],k=[],x={};s.forEach(t=>{const{element:e,player:s,instruction:o}=t;if(n.has(e)){if(c.has(e))return s.onDestroy(()=>rI(e,o.toStyles)),s.disabled=!0,s.overrideTotalTime(o.totalTime),void r.push(s);let t=x;if(E.size>1){let n=e;const r=[];for(;n=n.parentNode;){const e=E.get(n);if(e){t=e;break}r.push(n)}r.forEach(e=>E.set(e,t))}const n=this._buildAnimation(s.namespaceId,o,T,i,A,I);if(s.setRealPlayer(n),t===x)C.push(s);else{const e=this.playersByElement.get(t);e&&e.length&&(s.parentPlayer=SS(e)),r.push(s)}}else iI(e,o.fromStyles),s.onDestroy(()=>rI(e,o.toStyles)),k.push(s),c.has(e)&&r.push(s)}),k.forEach(t=>{const e=i.get(t.element);if(e&&e.length){const n=SS(e);t.setRealPlayer(n)}}),r.forEach(t=>{t.parentPlayer?t.syncPlayerEvents(t.parentPlayer):t.destroy()});for(let O=0;O<g.length;O++){const t=g[O],e=t[nA];if(gA(t,zS),e&&e.hasAnimation)continue;let n=[];if(o.size){let e=o.get(t);e&&e.length&&n.push(...e);let r=this.driver.query(t,WS,!0);for(let t=0;t<r.length;t++){let e=o.get(r[t]);e&&e.length&&n.push(...e)}}const r=n.filter(t=>!t.destroyed);r.length?mA(this,t,r):this.processLeaveNode(t)}return g.length=0,C.forEach(t=>{this.players.push(t),t.onDone(()=>{t.destroy();const e=this.players.indexOf(t);this.players.splice(e,1)}),t.play()}),C}elementContainsData(t,e){let n=!1;const r=e[nA];return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(e)&&(n=!0),this.playersByQueriedElement.has(e)&&(n=!0),this.statesByElement.has(e)&&(n=!0),this._fetchNamespace(t).elementContainsData(e)||n}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,r,i){let s=[];if(e){const e=this.playersByQueriedElement.get(t);e&&(s=e)}else{const e=this.playersByElement.get(t);if(e){const t=!i||i==iA;e.forEach(e=>{e.queued||!t&&e.triggerName!=r||s.push(e)})}}return(n||r)&&(s=s.filter(t=>!(n&&n!=t.namespaceId||r&&r!=t.triggerName))),s}_beforeAnimationBuild(t,e,n){const r=e.element,i=e.isRemovalTransition?void 0:t,s=e.isRemovalTransition?void 0:e.triggerName;for(const o of e.timelines){const t=o.element,a=t!==r,u=xS(n,t,[]);this._getPreviousPlayers(t,a,i,s,e.toState).forEach(t=>{const e=t.getRealPlayer();e.beforeDestroy&&e.beforeDestroy(),t.destroy(),u.push(t)})}iI(r,e.fromStyles)}_buildAnimation(t,e,n,r,i,s){const o=e.triggerName,a=e.element,u=[],c=new Set,l=new Set,h=e.timelines.map(e=>{const h=e.element;c.add(h);const d=h[nA];if(d&&d.removedBeforeQueried)return new Z_(e.duration,e.delay);const f=h!==a,p=function(t){const e=[];return yA(t,e),e}((n.get(h)||XI).map(t=>t.getRealPlayer())).filter(t=>!!t.element&&t.element===h),g=i.get(h),m=s.get(h),y=IS(0,this._normalizer,0,e.keyframes,g,m),v=this._buildPlayer(e,y,p);if(e.subTimeline&&r&&l.add(h),f){const e=new uA(t,o,h);e.setRealPlayer(v),u.push(e)}return v});u.forEach(t=>{xS(this.playersByQueriedElement,t.element,[]).push(t),t.onDone(()=>function(t,e,n){let r;if(t instanceof Map){if(r=t.get(e),r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&t.delete(e)}}else if(r=t[e],r){if(r.length){const t=r.indexOf(n);r.splice(t,1)}0==r.length&&delete t[e]}return r}(this.playersByQueriedElement,t.element,t))}),c.forEach(t=>pA(t,KS));const d=SS(h);return d.onDestroy(()=>{c.forEach(t=>gA(t,KS)),rI(a,e.toStyles)}),l.forEach(t=>{xS(r,t,[]).push(d)}),d}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new Z_(t.duration,t.delay)}}class uA{constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n,this._player=new Z_,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(t){this._containsRealPlayer||(this._player=t,Object.keys(this._queuedCallbacks).forEach(e=>{this._queuedCallbacks[e].forEach(n=>AS(t,e,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){const e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){xS(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){const e=this._player;e.triggerCallback&&e.triggerCallback(t)}}function cA(t){return t&&1===t.nodeType}function lA(t,e){const n=t.style.display;return t.style.display=null!=e?e:"none",n}function hA(t,e,n,r,i){const s=[];n.forEach(t=>s.push(lA(t)));const o=[];r.forEach((n,r)=>{const s={};n.forEach(t=>{const n=s[t]=e.computeStyle(r,t,i);(!n||0==n.length)&&(r[nA]=eA,o.push(r))}),t.set(r,s)});let a=0;return n.forEach(t=>lA(t,s[a++])),o}function dA(t,e){const n=new Map;if(t.forEach(t=>n.set(t,[])),0==e.length)return n;const r=new Set(e),i=new Map;function s(t){if(!t)return 1;let e=i.get(t);if(e)return e;const o=t.parentNode;return e=n.has(o)?o:r.has(o)?1:s(o),i.set(t,e),e}return e.forEach(t=>{const e=s(t);1!==e&&n.get(e).push(t)}),n}const fA="$$classes";function pA(t,e){if(t.classList)t.classList.add(e);else{let n=t[fA];n||(n=t[fA]={}),n[e]=!0}}function gA(t,e){if(t.classList)t.classList.remove(e);else{let n=t[fA];n&&delete n[e]}}function mA(t,e,n){SS(n).onDone(()=>t.processLeaveNode(e))}function yA(t,e){for(let n=0;n<t.length;n++){const r=t[n];r instanceof M_?yA(r.players,e):e.push(r)}}function vA(t,e,n){const r=n.get(t);if(!r)return!1;let i=e.get(t);return i?r.forEach(t=>i.add(t)):e.set(t,r),n.delete(t),!0}class _A{constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n,this._triggerCache={},this.onRemovalComplete=(t,e)=>{},this._transitionEngine=new aA(t,e,n),this._timelineEngine=new WI(t,e,n),this._transitionEngine.onRemovalComplete=(t,e)=>this.onRemovalComplete(t,e)}registerTrigger(t,e,n,r,i){const s=t+"-"+r;let o=this._triggerCache[s];if(!o){const t=[],e=TI(this._driver,i,t);if(t.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${t.join("\n - ")}`);o=function(t,e,n){return new HI(t,e,n)}(r,e,this._normalizer),this._triggerCache[s]=o}this._transitionEngine.registerTrigger(e,r,o)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,r){this._transitionEngine.insertNode(t,e,n,r)}onRemove(t,e,n,r){this._transitionEngine.removeNode(t,e,r||!1,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,r){if("@"==n.charAt(0)){const[t,i]=OS(n);this._timelineEngine.command(t,e,i,r)}else this._transitionEngine.trigger(t,e,n,r)}listen(t,e,n,r,i){if("@"==n.charAt(0)){const[t,r]=OS(n);return this._timelineEngine.listen(t,e,r,i)}return this._transitionEngine.listen(t,e,n,r,i)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function bA(t,e){let n=null,r=null;return Array.isArray(e)&&e.length?(n=TA(e[0]),e.length>1&&(r=TA(e[e.length-1]))):e&&(n=TA(e)),n||r?new wA(t,n,r):null}let wA=(()=>{class t{constructor(e,n,r){this._element=e,this._startStyles=n,this._endStyles=r,this._state=0;let i=t.initialStylesByElement.get(e);i||t.initialStylesByElement.set(e,i={}),this._initialStyles=i}start(){this._state<1&&(this._startStyles&&rI(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(rI(this._element,this._initialStyles),this._endStyles&&(rI(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(t.initialStylesByElement.delete(this._element),this._startStyles&&(iI(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(iI(this._element,this._endStyles),this._endStyles=null),rI(this._element,this._initialStyles),this._state=3)}}return t.initialStylesByElement=new WeakMap,t})();function TA(t){let e=null;const n=Object.keys(t);for(let r=0;r<n.length;r++){const i=n[r];EA(i)&&(e=e||{},e[i]=t[i])}return e}function EA(t){return"display"===t||"position"===t}const SA="animation",IA="animationend";class AA{constructor(t,e,n,r,i,s,o){this._element=t,this._name=e,this._duration=n,this._delay=r,this._easing=i,this._fillMode=s,this._onDoneFn=o,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=t=>this._handleCallback(t)}apply(){(function(t,e){const n=DA(t,"").trim();let r=0;n.length&&(function(t,e){let n=0;for(let r=0;r<t.length;r++)","===t.charAt(r)&&n++;return n}(n)+1,e=`${n}, ${e}`),NA(t,"",e)})(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),OA(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){CA(this._element,this._name,"paused")}resume(){CA(this._element,this._name,"running")}setPosition(t){const e=kA(this._element,this._name);this._position=t*this._duration,NA(this._element,"Delay",`-${this._position}ms`,e)}getPosition(){return this._position}_handleCallback(t){const e=t._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(t.elapsedTime.toFixed(3));t.animationName==this._name&&Math.max(e-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),OA(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(t,e){const n=DA(t,"").split(","),r=xA(n,e);r>=0&&(n.splice(r,1),NA(t,"",n.join(",")))}(this._element,this._name))}}function CA(t,e,n){NA(t,"PlayState",n,kA(t,e))}function kA(t,e){const n=DA(t,"");return n.indexOf(",")>0?xA(n.split(","),e):xA([n],e)}function xA(t,e){for(let n=0;n<t.length;n++)if(t[n].indexOf(e)>=0)return n;return-1}function OA(t,e,n){n?t.removeEventListener(IA,e):t.addEventListener(IA,e)}function NA(t,e,n,r){const i=SA+e;if(null!=r){const e=t.style[i];if(e.length){const t=e.split(",");t[r]=n,n=t.join(",")}}t.style[i]=n}function DA(t,e){return t.style[SA+e]||""}class RA{constructor(t,e,n,r,i,s,o,a){this.element=t,this.keyframes=e,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=o,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=s||"linear",this.totalTime=r+i,this._buildStyler()}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}destroy(){this.init(),!(this._state>=4)&&(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(t=>t()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}finish(){this.init(),!(this._state>=3)&&(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(t){this._styler.setPosition(t)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new AA(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}beforeDestroy(){this.init();const t={};if(this.hasStarted()){const e=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(t[n]=e?this._finalStyles[n]:mI(this.element,n))})}this.currentSnapshot=t}}class PA extends Z_{constructor(t,e){super(),this.element=t,this._startingStyles={},this.__initialized=!1,this._styles=VS(e)}init(){this.__initialized||!this._startingStyles||(this.__initialized=!0,Object.keys(this._styles).forEach(t=>{this._startingStyles[t]=this.element.style[t]}),super.init())}play(){!this._startingStyles||(this.init(),Object.keys(this._styles).forEach(t=>this.element.style.setProperty(t,this._styles[t])),super.play())}destroy(){!this._startingStyles||(Object.keys(this._startingStyles).forEach(t=>{const e=this._startingStyles[t];e?this.element.style.setProperty(t,e):this.element.style.removeProperty(t)}),this._startingStyles=null,super.destroy())}}class LA{constructor(){this._count=0}validateStyleProperty(t){return ZS(t)}matchesElement(t,e){return MS(t,e)}containsElement(t,e){return US(t,e)}query(t,e,n){return qS(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}buildKeyframeElement(t,e,n){n=n.map(t=>VS(t));let r=`@keyframes ${e} {\n`,i="";n.forEach(t=>{i=" ";const e=parseFloat(t.offset);r+=`${i}${100*e}% {\n`,i+=" ",Object.keys(t).forEach(e=>{const n=t[e];switch(e){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${e}: ${n};\n`)}}),r+=`${i}}\n`}),r+="}\n";const s=document.createElement("style");return s.textContent=r,s}animate(t,e,n,r,i,s=[],o){const a=s.filter(t=>t instanceof RA),u={};fI(n,r)&&a.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const c=function(t){let e={};return t&&(Array.isArray(t)?t:[t]).forEach(t=>{Object.keys(t).forEach(n=>{"offset"==n||"easing"==n||(e[n]=t[n])})}),e}(e=pI(t,e,u));if(0==n)return new PA(t,c);const l="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(t,l,e);(function(t){var e;const n=null===(e=t.getRootNode)||void 0===e?void 0:e.call(t);return"undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot?n:document.head})(t).appendChild(h);const d=bA(t,e),f=new RA(t,e,l,n,r,i,c,d);return f.onDestroy(()=>function(t){t.parentNode.removeChild(t)}(h)),f}}class FA{constructor(t,e,n,r){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(t,e,n){return t.animate(e,n)}onStart(t){this._onStartFns.push(t)}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(e=>{"offset"!=e&&(t[e]=this._finished?this._finalKeyframe[e]:mI(this.element,e))}),this.currentSnapshot=t}triggerCallback(t){const e="start"==t?this._onStartFns:this._onDoneFns;e.forEach(t=>t()),e.length=0}}class ZA{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(MA().toString()),this._cssKeyframesDriver=new LA}validateStyleProperty(t){return ZS(t)}matchesElement(t,e){return MS(t,e)}containsElement(t,e){return US(t,e)}query(t,e,n){return qS(t,e,n)}computeStyle(t,e,n){return window.getComputedStyle(t)[e]}overrideWebAnimationsSupport(t){this._isNativeImpl=t}animate(t,e,n,r,i,s=[],o){if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(t,e,n,r,i,s);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const u={},c=s.filter(t=>t instanceof FA);fI(n,r)&&c.forEach(t=>{let e=t.currentSnapshot;Object.keys(e).forEach(t=>u[t]=e[t])});const l=bA(t,e=pI(t,e=e.map(t=>tI(t,!1)),u));return new FA(t,e,a,l)}}function MA(){return TS()&&Element.prototype.animate||{}}let UA=(()=>{class t extends k_{constructor(t,e){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(e.body,{id:"0",encapsulation:r.ifc.None,styles:[],data:{animation:[]}})}build(t){const e=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(t)?D_(t):t;return jA(this._renderer,null,e,"register",[n]),new qA(e,this._renderer)}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.FYo),r.LFG(o))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();class qA extends class{}{constructor(t,e){super(),this._id=t,this._renderer=e}create(t,e){return new VA(this._id,t,e||{},this._renderer)}}class VA{constructor(t,e,n,r){this.id=t,this.element=e,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(t,e){return this._renderer.listen(this.element,`@@${this.id}:${t}`,e)}_command(t,...e){return jA(this._renderer,this.element,this.id,t,e)}onDone(t){this._listen("done",t)}onStart(t){this._listen("start",t)}onDestroy(t){this._listen("destroy",t)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(t){this._command("setPosition",t)}getPosition(){var t,e;return null!==(e=null===(t=this._renderer.engine.players[+this.id])||void 0===t?void 0:t.getPosition())&&void 0!==e?e:0}}function jA(t,e,n,r,i){return t.setProperty(e,`@@${n}:${r}`,i)}const BA="@.disabled";let $A=(()=>{class t{constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),e.onRemovalComplete=(t,e)=>{e&&e.parentNode(t)&&e.removeChild(t.parentNode,t)}}createRenderer(t,e){const n=this.delegate.createRenderer(t,e);if(!(t&&e&&e.data&&e.data.animation)){let t=this._rendererCache.get(n);return t||(t=new zA("",n,this.engine),this._rendererCache.set(n,t)),t}const r=e.id,i=e.id+"-"+this._currentId;this._currentId++,this.engine.register(i,t);const s=e=>{Array.isArray(e)?e.forEach(s):this.engine.registerTrigger(r,i,t,e.name,e)};return e.data.animation.forEach(s),new HA(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){t>=0&&t<this._microtaskId?this._zone.run(()=>e(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(t=>{const[e,n]=t;e(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([e,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(r.FYo),r.LFG(_A),r.LFG(r.R0b))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();class zA{constructor(t,e,n){this.namespaceId=t,this.delegate=e,this.engine=n,this.destroyNode=this.delegate.destroyNode?t=>e.destroyNode(t):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,r=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,r)}removeChild(t,e,n){this.engine.onRemove(this.namespaceId,e,this.delegate,n)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,r){this.delegate.setAttribute(t,e,n,r)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,r){this.delegate.setStyle(t,e,n,r)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){"@"==e.charAt(0)&&e==BA?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n){return this.delegate.listen(t,e,n)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}}class HA extends zA{constructor(t,e,n,r){super(e,n,r),this.factory=t,this.namespaceId=e}setProperty(t,e,n){"@"==e.charAt(0)?"."==e.charAt(1)&&e==BA?this.disableAnimations(t,n=void 0===n||!!n):this.engine.process(this.namespaceId,t,e.substr(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n){if("@"==e.charAt(0)){const r=function(t){switch(t){case"body":return document.body;case"document":return document;case"window":return window;default:return t}}(t);let i=e.substr(1),s="";return"@"!=i.charAt(0)&&([i,s]=function(t){const e=t.indexOf(".");return[t.substring(0,e),t.substr(e+1)]}(i)),this.engine.listen(this.namespaceId,r,i,s,t=>{this.factory.scheduleListenerCallback(t._data||-1,n,t)})}return this.delegate.listen(t,e,n)}}let GA=(()=>{class t extends _A{constructor(t,e,n){super(t.body,e,n)}ngOnDestroy(){this.flush()}}return t.\u0275fac=function(e){return new(e||t)(r.LFG(o),r.LFG(BS),r.LFG(UI))},t.\u0275prov=r.Yz7({token:t,factory:t.\u0275fac}),t})();const KA=new r.OlP("AnimationModuleType"),WA=[{provide:k_,useClass:UA},{provide:UI,useFactory:function(){return new qI}},{provide:_A,useClass:GA},{provide:r.FYo,useFactory:function(t,e,n){return new $A(t,e,n)},deps:[mt,_A,r.R0b]}],QA=[{provide:BS,useFactory:function(){return"function"==typeof MA()?new ZA:new LA}},{provide:KA,useValue:"BrowserAnimations"},...WA],YA=[{provide:BS,useClass:jS},{provide:KA,useValue:"NoopAnimations"},...WA];let JA=(()=>{class t{static withConfig(e){return{ngModule:t,providers:e.disableAnimations?YA:QA}}}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t}),t.\u0275inj=r.cJS({providers:QA,imports:[Ot]}),t})();const XA={apiKey:"AIzaSyAkI6dae6Ln360lcQiSmIhH5rGkvavkQWM",authDomain:"appinventario-muvlin.firebaseapp.com",projectId:"appinventario-muvlin",storageBucket:"appinventario-muvlin.appspot.com",messagingSenderId:"1061489762380",appId:"1:1061489762380:web:55c864ca7a05815cb714e9",measurementId:"G-8G56N8R3E7"};let tC=(()=>{class t{}return t.\u0275fac=function(e){return new(e||t)},t.\u0275mod=r.oAB({type:t,bootstrap:[wS]}),t.\u0275inj=r.cJS({providers:[{provide:m,useClass:b}],imports:[[Ot,mS,sn,K,Cn.hO.initializeApp(XA),h_,JA,hb.forRoot()]]}),t})();(0,r.G48)(),kt().bootstrapModule(tC).catch(t=>console.error(t))},4762:function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function i(t,e,n,r){return new(n||(n=Promise))(function(i,s){function o(t){try{u(r.next(t))}catch(e){s(e)}}function a(t){try{u(r.throw(t))}catch(e){s(e)}}function u(t){t.done?i(t.value):function(t){return t instanceof n?t:new n(function(e){e(t)})}(t.value).then(o,a)}u((r=r.apply(t,e||[])).next())})}function s(t,e){var n,r,i,s,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&s[0]?r.return:s[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,s[1])).done)return i;switch(r=0,i&&(s=[2&s[0],i.value]),s[0]){case 0:case 1:i=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,r=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(i=(i=o.trys).length>0&&i[i.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!i||s[1]>i[0]&&s[1]<i[3])){o.label=s[1];break}if(6===s[0]&&o.label<i[1]){o.label=i[1],i=s;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(s);break}i[2]&&o.ops.pop(),o.trys.pop();continue}s=e.call(t,o)}catch(a){s=[6,a],r=0}finally{n=i=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}function o(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function a(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,s=n.call(t),o=[];try{for(;(void 0===e||e-- >0)&&!(r=s.next()).done;)o.push(r.value)}catch(a){i={error:a}}finally{try{r&&!r.done&&(n=s.return)&&n.call(s)}finally{if(i)throw i.error}}return o}function u(t,e,n){if(n||2===arguments.length)for(var r,i=0,s=e.length;i<s;i++)(r||!(i in e))&&(r||(r=Array.prototype.slice.call(e,0,i)),r[i]=e[i]);return t.concat(r||Array.prototype.slice.call(e))}n.d(e,{_T:function(){return r},mG:function(){return i},Jh:function(){return s},XA:function(){return o},CR:function(){return a},ev:function(){return u}})},8239:function(t,e,n){"use strict";function r(t,e,n,r,i,s,o){try{var a=t[s](o),u=a.value}catch(c){return void n(c)}a.done?e(u):Promise.resolve(u).then(r,i)}function i(t){return function(){var e=this,n=arguments;return new Promise(function(i,s){var o=t.apply(e,n);function a(t){r(o,i,s,a,u,"next",t)}function u(t){r(o,i,s,a,u,"throw",t)}a(void 0)})}}n.d(e,{Z:function(){return i}})}},function(t){t(t.s=3704)}]);